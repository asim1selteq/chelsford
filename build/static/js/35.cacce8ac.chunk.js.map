{"version":3,"sources":["redux/actions/servicesVocuhersPageActions.js","Webviews/ThreedsStatusWebviewAndroid/action.js","redux/actions/summaryPageActions.js","redux/actions/paymentDetailsPageActions.js","Pages/SummaryPage/SummaryPage.js"],"names":["APP_BASE_URL","process","REACT_APP_PAYMENT_VOUCHER","REACT_APP_MARKETING","getServicesVouchers","userId","fetchAction","type","verb","headers","contentType","endpoint","concat","GetVoucherByServiceId","serviceId","GetServiceVoucherHistory","BEARER_TOKEN","REACT_APP_BEARER_TOKEN","REACT_APP_BASE_URL","myHeaders","Headers","append","ThreedsStatus","_ref","cartId","transactionId","raw","JSON","stringify","requestOptions","method","body","redirect","fetch","then","response","json","result","catch","error","capturePaymenFetch","_ref2","paymentAmount","stripePaymentMethodId","userCountryId","bookingId","voucherCode","userCurrencyCode","data","countryId","currency","returnUrl","document","domain","indexOf","oneTimeCapture","oneTimeCaptureObj","jsondata","resp","e","console","log","oneTimeHoldPayment","oneTimeHoldPaymentObj","oneTimeThreedsStatus","oneTimeThreedsStatusObj","getClinicAddressAPI","getclinicPayload","APP_BASE_URL_2","REACT_APP_BASE_URL_2","REACT_APP_PAYMENT","getSummary","isFreeConsultation","selectedSessions","discountCodeResp","discountCodeAmount","isTraining","is_service","payload","isService","VoucherCode","session","devicePlatform","deviceName","discountCode","getVoucherList","capturePaymentAction","_ref3","saveCodBooking","_ref4","email","isReferralUsed","isTreatmentOfferUsed","stripepaymentmethodId","bookingid","serviceproviderid","paymentamount","referralbonusused","isfreetreatmentused","isocode","numberOfSession","HoldPayment","_ref5","paymentMethodId","createBooking","_ref6","amount","chargeId","isCaptured","distance","isReferralReceiver","referralBonusUsed","latitude","longitude","numberOfSessions","providerIds","serviceVenu","bookingDate","bookingTime","duration","trainingStartTime","trainingStartDate","setSaveBookingResponseToEmpty","setHoldPaymentResponseToEmpty","setCreateBookingResponseToEmpty","SalesOrderSummary","_ref7","tempBookingId","Getinvoice","_ref8","salesOrderNumber","providerId","applyDiscountCode","_ref9","userid","serviceid","discountcode","currentdate","countryid","numberofsession","referraldiscount","isNaN","parse","applyDiscountCodeObjectEmpty","APP_BASE_URL_PAYMENT","getCardList","deleteCard","makeCardDefault","setDefaultCardObjEmpty","loaderImage","getFileSrcFromPublicFolder","connect","_ref6$summaryPageRedu","summaryPageReducer","loading","summary","saveBookingResponse","voucherList","holdpaymentData","createBookingResp","salesOrder","discountPayload","disocuntLoading","_ref6$paymentDetailsP","paymentDetailsPageReducer","cardList","defaultCardId","_ref6$defaultReducer","defaultReducer","userCountry","summaryvoucher","servicesVouchersPageReducer","dispatch","bindActionCreators","_ref$summary","saveBooking","_ref$holdpaymentData","_ref$summaryvoucher","_ref$discountPayload","getCookies","_useState","useState","_useState2","_slicedToArray","Loader","setLoader","location","useLocation","state","pathname","LinkUserCountry","LinkUserCountryId","freeConsultation","undefined","_useState3","_useState4","paymentMethod","setPaymentMethod","_useState5","_useState6","selectedCard","setSelectedCard","_useState7","_useState8","open","setOpen","_useState9","_useState10","status","setStatus","_useState11","_useState12","content","setContent","_useState13","_useState14","code","_useState15","_useState16","discountCodeClicked","_useState17","_useState18","_useState19","_useState20","setUseDiscountCode","_useState21","_useState22","popupBtnName","setPopupBtnName","price","address","totalAmount","serviceName","percentageDiscount","currencySymbol","referralDiscount","voucherDiscount","trainingEndDate","description","useEffect","_summaryvoucher$vouch","_summaryvoucher$vouch2","vouchers","length","title","defaultPaymentMethodId","filter","card","defaultPaymentMethod","handleSaveBooking","_defaultPaymentMethod","_defaultPaymentMethod2","_defaultPaymentMethod3","_salesOrder$salesOrde","_defaultPaymentMethod4","id","salesOrders","alert","_asyncToGenerator","_regeneratorRuntime","mark","_callee","message","redirectUrl","setupIntentResponseDetail","_salesOrder$salesOrde2","wrap","_context","prev","next","reason","objectIsEmpty","res","_res$setupIntentRespo","statusCode","isInClinic","FAEToaster","toaster","setCookies","UbookingId","Vouchercode","availableProviderId","window","assign","abrupt","stop","history","push","cartid","_jsxs","_Fragment","children","className","_jsx","FAELoading","height","FAETitle","label","logo","FAEText","subHeading","FAEImage","placeholder","src","FAEShadowBox","primary","padding","tertiary","paragraph","bold","split","style","width","display","justifyContent","alignItems","borderBottom","paddingBottom","cursor","onClick","_objectSpread","redirectedUrl","Children","toArray","map","_card$card","last4","brand","toUpperCase","padStart","FAEButton","FAEDialogueBox","buttons","ToastContainer"],"mappings":"wIAAA,kHAEMA,EAAeC,mIAAYC,0BAC3BC,EAAsBF,mIAAYE,oBAC3BC,EAAsB,SAACC,GAClC,OAAOC,YAAY,CACjBC,KAAM,wBACNC,KAAM,MACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKZ,EAAY,yCAAAY,OAAwCP,IAErE,EAGaQ,EAAwB,SAACR,EAAQS,GAC5C,OAAOR,YAAY,CACjBC,KAAM,uBACNC,KAAM,MACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKT,EAAmB,0CAAAS,OAAyCP,EAAM,eAAAO,OAAcE,IAEjG,EAEaC,EAA2B,SAACV,GACvC,OAAOC,YAAY,CACjBC,KAAM,uBACNC,KAAM,MACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKT,EAAmB,6CAAAS,OAA4CP,IAEhF,C,oCC9BA,sNACMH,EAA4BD,mIAAYC,0BACxCc,EAAcf,mIAAYgB,uBAC1BjB,EAAeC,mIAAYiB,mBAK7BC,EAAY,IAAIC,QACpBD,EAAUE,OAAO,eAAgB,oBACjCF,EAAUE,OAAO,OAAQ,WACzBF,EAAUE,OAAO,gBAAgB,UAADT,OAAYI,IAC5CG,EAAUE,OAAO,8BAA8B,KAExC,IAAMC,EAAgB,SAAHC,GAAoC,IAA9BC,EAAMD,EAANC,OAASC,EAAaF,EAAbE,cAErCC,EAAMC,KAAKC,UAAU,CACtBJ,OAASA,EACTC,cAAgBA,IAEfI,EAAiB,CACnBC,OAAQ,OACRrB,QAASU,EACTY,KAAML,EACNM,SAAU,UAEZ,OAAOC,MAAM,GAADrB,OAAIV,EAAyB,0BAA0B2B,GAChEK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAG,GAAM,OAAKA,CAAM,IACtBC,OAAM,SAAAC,GAAK,OAAIA,CAAK,GACvB,EAGaC,EAAqB,SAAHC,GAShB,IARbjB,EAAMiB,EAANjB,OACAkB,EAAaD,EAAbC,cACAC,EAAqBF,EAArBE,sBACAC,EAAaH,EAAbG,cACAC,EAASJ,EAATI,UACAC,EAAWL,EAAXK,YACAC,EAAgBN,EAAhBM,iBACAtB,EAAagB,EAAbhB,cACApB,EAAMoC,EAANpC,OAEI2C,EAAOrB,KAAKC,UAAU,CACxBiB,UAAWA,EACXrB,OAASA,EACTyB,UAAWL,EACXM,SAAUH,EACVL,gBACAS,UAAU,GAADvC,OAAsB,aAAjBwC,SAASC,OAAoB,2DAAsG,IAA5CD,SAASC,OAAOC,QAAQ,gBAAqB,WAAA1C,OAAawC,SAASC,OAAM,wBAAuB,8CACrMV,sBAAuBA,EACvBlB,cAAeA,EACfpB,OAAQA,EACRyC,YAAaA,IAEXjB,EAAiB,CACnBC,OAAQ,OACRrB,QAASU,EACTY,KAAMiB,EACNhB,SAAU,UAEZ,OAAOC,MAAM,GAADrB,OAAKV,EAAyB,2BAA2B2B,GAClEK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAG,GAAM,OAAKA,CAAM,IACtBC,OAAM,SAAAC,GAAK,OAAIA,CAAK,GACvB,EAGO,SAASgB,EAAeC,GAE7B,IAAI3B,EAAiB,CACnBC,OAAQ,OACRrB,QAASU,EACTY,KAAMJ,KAAKC,UAAU4B,GACrBxB,SAAU,UAGX,OAAOC,MAAM,GAADrB,OAAIV,EAAyB,kCAAiC2B,GACzEK,MAAK,SAAAuB,GACL,OAAe,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUrB,MAClB,IAAGF,MAAK,SAACwB,GACR,OAAOA,CACT,IACCpB,OAAM,SAAAqB,GACLC,QAAQC,IAAI,IAAKF,EACnB,GAEF,CAEO,SAASG,EAAmBC,GACjC,IAAIlC,EAAiB,CACnBC,OAAQ,OACRrB,QAASU,EACTY,KAAMJ,KAAKC,UAAUmC,GACrB/B,SAAU,UAEd,OAAQC,MAAM,GAADrB,OAAIV,EAAyB,+BAA8B2B,GAAgBK,MAAK,SAAAC,GAAQ,OAAY,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUC,MAAM,IAChHF,MAAK,SAACwB,GAAI,OAAMA,CAAI,IACpBpB,OAAM,SAAAqB,GAAC,OAAIC,QAAQC,IAAI,IAAKF,EAAE,GACvC,CAEO,SAASK,EAAqBC,GACnC,IAAIpC,EAAiB,CACnBC,OAAQ,OACRrB,QAASU,EACTY,KAAMJ,KAAKC,UAAUqC,GACrBjC,SAAU,UAEZ,OAAOC,MAAM,GAADrB,OAAIV,EAAyB,iCAAgC2B,GAAgBK,MAAK,SAAAC,GAAQ,OAAY,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUC,MAAM,IACzHF,MAAK,SAACwB,GAAI,OAAMA,CAAI,IACpBpB,OAAM,SAAAqB,GAAC,OAAIC,QAAQC,IAAI,IAAKF,EAAE,GACjC,CAEK,SAASO,EAAoBC,GAClC,IAAItC,EAAiB,CACnBC,OAAQ,OACRrB,QAASU,EACTY,KAAMJ,KAAKC,UAAUuC,GACrBnC,SAAU,UAEd,OAAQC,MAAM,GAADrB,OAAIZ,EAAY,iCAAgC6B,GAAgBK,MAAK,SAAAC,GAAQ,OAAY,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUC,MAAM,IACrGF,MAAK,SAACwB,GAAI,OAAMA,CAAI,IACpBpB,OAAM,SAAAqB,GAAC,OAAIC,QAAQC,IAAI,IAAKF,EAAE,GACvC,C,oCC5HA,scAEM3D,EAAeC,mIAAYiB,mBAC3BkD,EAAiBnE,mIAAYoE,qBAC7BC,EAAqBrE,mIAAYC,0BAC1BqE,EAAa,SAAHhD,GAahB,IAZLC,EAAMD,EAANC,OACAV,EAASS,EAATT,UACAT,EAAMkB,EAANlB,OACAyC,EAAWvB,EAAXuB,YACA0B,EAAkBjD,EAAlBiD,mBACAC,EAAgBlD,EAAhBkD,iBACAxB,EAAS1B,EAAT0B,UACAyB,EAAgBnD,EAAhBmD,iBACAC,EAAkBpD,EAAlBoD,mBACAC,EAAUrD,EAAVqD,WACAC,EAAUtD,EAAVsD,WAGA,OAAOvE,YAAY,CACjBC,KAAM,mBACNC,KAAM,OACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKZ,EAAY,qBACzB8E,QAASnD,KAAKC,UAAU,CACtBqB,UAAUA,EACVnC,UAAWA,EACXT,OAAQA,EACR0E,WAAW,EACXvD,OAAQA,EACRwD,YAAalC,EACb0B,qBACAS,QAASR,EACTS,eAAgB,MAChBC,WAAY,MACZC,aAAcV,EACdC,mBAAoBA,EACpBC,WAAYA,EACZC,WAAWA,KAGjB,EAEaQ,EAAiB,SAAH5C,GAA+B,IAAzB3B,EAAS2B,EAAT3B,UAAWT,EAAMoC,EAANpC,OAC1C,OAAOC,YAAY,CACjBC,KAAM,mBACNC,KAAM,MACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKZ,EAAY,4BAAAY,OAA2BP,EAAM,KAAAO,OAAIE,IAElE,EAEawE,EAAuB,SAAHC,GAW1B,IAVL/D,EAAM+D,EAAN/D,OACAkB,EAAa6C,EAAb7C,cACAC,EAAqB4C,EAArB5C,sBACAC,EAAa2C,EAAb3C,cACAC,EAAS0C,EAAT1C,UACAC,EAAWyC,EAAXzC,YACAC,EAAgBwC,EAAhBxC,iBACAtB,EAAa8D,EAAb9D,cACApB,EAAMkF,EAANlF,OAGA,OAAOC,YAAY,CACjBC,KAAM,eACNC,KAAM,OACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAK0D,EAAiB,2BAC9BQ,QAASnD,KAAKC,UAAU,CAErBiB,UAAWA,EACXrB,OAASA,EACTyB,UAAWL,EACXM,SAAUH,EACVL,gBACAS,UAAU,GAADvC,OAAsB,aAAjBwC,SAASC,OAAoB,2DAAsG,IAA5CD,SAASC,OAAOC,QAAQ,gBAAqB,WAAA1C,OAAawC,SAASC,OAAM,wBAAuB,8CACrMV,sBAAuBA,EACtBlB,cAAeA,EAChBpB,OAAQA,EACRyC,YAAaA,KAIpB,EACa0C,EAAiB,SAAHC,GAYpB,IAXL/C,EAAa+C,EAAb/C,cACAC,EAAqB8C,EAArB9C,sBACAC,EAAa6C,EAAb7C,cACA8C,EAAKD,EAALC,MACA7C,EAAS4C,EAAT5C,UACA8C,EAAcF,EAAdE,eACAC,EAAoBH,EAApBG,qBACApE,EAAMiE,EAANjE,OACAsB,EAAW2C,EAAX3C,YACA2B,EAAgBgB,EAAhBhB,iBACA1B,EAAgB0C,EAAhB1C,iBAEA,OAAOzC,YAAY,CACjBC,KAAM,eACNC,KAAM,OACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKwD,EAAc,gBAC3BU,QAASnD,KAAKC,UAAU,CACtBiE,sBAAuBlD,EACvBmD,UAAWjD,EACXkD,kBAAmB,EACnB7C,SAAUH,EACViD,cAAetD,EACfuD,kBAAmBN,EACnBO,oBAAqBN,EACrBO,QAASvD,EACT8C,QACAlE,SACAwD,YAAalC,EACbsD,gBAAiB3B,KAGvB,EAEa4B,EAAc,SAAHC,GAOjB,IANL5D,EAAa4D,EAAb5D,cACAC,EAAqB2D,EAArB3D,sBACAE,EAASyD,EAATzD,UACArB,EAAM8E,EAAN9E,OACAuB,EAAgBuD,EAAhBvD,iBACA1C,EAAMiG,EAANjG,OAEA,OAAOC,YAAY,CACjBC,KAAM,eACNC,KAAM,OACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAK0D,EAAiB,wBAC9BQ,QAASnD,KAAKC,UAAU,CACtBiB,UAAWA,EACXrB,OAASA,EACT0B,SAAWH,EACXL,cAAeA,EACf6D,gBAAiB5D,EACjBQ,UAAU,GAADvC,OAAsB,aAAjBwC,SAASC,OAAoB,2DAAsG,IAA5CD,SAASC,OAAOC,QAAQ,gBAAqB,WAAA1C,OAAawC,SAASC,OAAM,wBAAuB,8CACrMhD,OAASA,KAIf,EAIamG,EAAc,SAADC,GAqBrB,IApBHC,EAAMD,EAANC,OACAlF,EAAMiF,EAANjF,OACAmF,EAAQF,EAARE,SAEAC,GADQH,EAARI,SACUJ,EAAVG,YACAE,EAAkBL,EAAlBK,mBAKAC,GAJQN,EAARO,SACSP,EAATQ,UACgBR,EAAhBS,iBACWT,EAAXU,YACiBV,EAAjBM,mBACA1G,EAAMoG,EAANpG,OACAyC,EAAW2D,EAAX3D,YAKChC,GAJU2F,EAAXW,YACYX,EAAXY,YACWZ,EAAXa,YACQb,EAARc,SACSd,EAAT3F,WACA0G,EAAiBf,EAAjBe,kBACAC,EAAiBhB,EAAjBgB,kBAEF,OAAOnH,YAAY,CAChBC,KAAM,iBACNC,KAAM,OACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKwD,EAAc,kCAC3BU,QAASnD,KAAKC,UAAU,CACtB8E,OAAOA,EACPlF,OAAOA,EACPmF,SAASA,EAETC,WAAWA,EACXE,mBAAmBA,EAMnBC,kBAAkBA,EAClB1G,OAAOA,EACPyC,YAAYA,EACZuE,YAAaI,EACbH,YAAYE,EAEZ1G,UAAUA,KAGhB,EAIa4G,EAAgC,WAC3C,MAAO,CACLnH,KAAM,qCAEV,EAEaoH,EAAgC,WAC3C,MAAO,CACLpH,KAAM,qCAEV,EACaqH,EAAkC,WAC7C,MAAO,CACLrH,KAAM,8CAEV,EAGasH,EAAoB,SAAHC,GAAyC,IAApCC,EAAaD,EAAbC,cAAevG,EAAMsG,EAANtG,OAAQnB,EAAMyH,EAANzH,OACxD,OAAOC,YAAY,CACjBC,KAAM,cACNC,KAAM,OACNC,QAAS,CAAEC,YAAa,iBACxBoE,QAASnD,KAAKC,UAAU,CACpBmG,cAAeA,EACfvG,OAAQA,EACRnB,OAAQA,IAEZM,SAAS,GAADC,OAAKwD,EAAc,2BAE/B,EAEa4D,EAAa,SAAHC,GAMhB,IALLC,EAAgBD,EAAhBC,iBACA1G,EAAMyG,EAANzG,OACAqB,EAASoF,EAATpF,UACAxC,EAAM4H,EAAN5H,OACA8H,EAAUF,EAAVE,WAEA,OAAO7H,YAAY,CACjBC,KAAM,oBACNC,KAAM,OACNC,QAAS,CAAEC,YAAa,iBACxBoE,QAASnD,KAAKC,UAAU,CACtBsG,iBAAkBA,EAClB1G,OAAQA,EACRqB,UAAWA,EACXxC,OAAQA,EACR8H,WAAYA,IAEdxH,SAAS,GAADC,OAAKwD,EAAc,2BAE/B,EAEagE,EAAmB,SAAFC,GAQzB,IAPJC,EAAMD,EAANC,OACAC,EAASF,EAATE,UACAC,EAAYH,EAAZG,aACAC,EAAWJ,EAAXI,YACAC,EAASL,EAATK,UACAC,EAAeN,EAAfM,gBACAC,EAAgBP,EAAhBO,iBAEC,OAAOtI,YAAY,CACjBG,QAAS,CAAEC,YAAa,iBACxBH,KAAK,sBACLC,KAAK,OACLsE,QAASnD,KAAKC,UAAU,CACtB0G,OAAkBO,MAAMP,GAA8BA,EAArB3G,KAAKmH,MAAMR,GAC5CC,UAAiBA,EACjBC,aAAiBA,EACjBC,YAAiBA,EACjBC,UAAiBA,EACjBC,gBAAiBA,EACjBC,iBAAiBA,IAEnBjI,SAAS,GAADC,OAAIwD,EAAc,yCAE9B,EAEa2E,EAA8B,WAExC,MAAU,CACTxI,KAAM,kCAET,C,oCC7RD,oJAGMyI,GADe/I,mIAAYiB,mBACJjB,mIAAYC,2BAC5B+I,EAAc,SAACvD,GAC1B,OAAOpF,YAAY,CACjBC,KAAM,gBACNC,KAAM,MACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKoI,EAAoB,gDAAApI,OAA+C8E,IAEpF,EAEawD,EAAa,SAAH3H,GAAqC,IAA/BlB,EAAMkB,EAANlB,OAAQkG,EAAehF,EAAfgF,gBACnC,OAAOjG,YAAY,CACjBC,KAAM,cACNE,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKoI,EAAoB,gCACjCxI,KAAM,SACNsE,QAASnD,KAAKC,UAAU,CACpBvB,OAAQA,EACRkG,gBAAiBA,KAIzB,EAEa4C,EAAkB,SAAH1G,GAAqC,IAA/BpC,EAAMoC,EAANpC,OAAQkG,EAAe9D,EAAf8D,gBACxC,OAAOjG,YAAY,CACjBC,KAAM,oBACNE,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKoI,EAAoB,oCACjCxI,KAAM,OACNsE,QAASnD,KAAKC,UAAU,CACpBvB,OAAQA,EACRkG,gBAAiBA,KAGzB,EACa6C,EAAyB,WACnC,MAAO,CACN7I,KAAM,gCAEV,C,sRCWM8I,EAAcC,YAA2B,cA42BhCC,GA32BKD,YAA2B,2BA22BhCC,aA1DS,SAAH9C,GAAA,IAAA+C,EAAA/C,EACnBgD,mBACElH,EAAKiH,EAALjH,MACAmH,EAAOF,EAAPE,QACAC,EAAOH,EAAPG,QACAC,EAAmBJ,EAAnBI,oBACAC,EAAWL,EAAXK,YACAC,EAAeN,EAAfM,gBACAC,EAAiBP,EAAjBO,kBACAC,EAAUR,EAAVQ,WACAC,EAAeT,EAAfS,gBACAC,EAAeV,EAAfU,gBAAeC,EAAA1D,EAEjB2D,0BAA6BC,EAAQF,EAARE,SAAUC,EAAaH,EAAbG,cAAaC,EAAA9D,EACpD+D,eAC2C,MAEtC,CACLjI,QACAmH,UACAC,UACAU,WACAT,sBACAhH,cAT+B2H,EAAb3H,cAUlB6H,YAV4CF,EAAXE,YAWjCZ,cACA9G,iBAZ8DwH,EAAhBxH,iBAa9CuH,gBACAR,kBACAC,oBACAW,eAf2CjE,EAA3CkE,4BAA6BD,eAgB7BV,aACAC,kBACAC,kBACD,IAE0B,SAACU,GAC1B,OAAOC,YACL,CACEtG,eACA0E,gBACAvB,kCACAC,kCACAC,oCACApC,mBACAH,mBACAgB,gBACAG,kBACA3F,0BACAmH,eACAH,sBACAO,sBACAW,kCAEF6B,EAEJ,GAEerB,EA12BK,SAAHhI,GAgCV,IAADuJ,EAAAvJ,EA/BJoI,eAAO,IAAAmB,EAAC,GAAEA,EACVvG,EAAUhD,EAAVgD,WAEAmF,GADKnI,EAALgB,MACOhB,EAAPmI,SACAT,EAAW1H,EAAX0H,YACAoB,EAAQ9I,EAAR8I,SAEA3C,GADWnG,EAAXwJ,YAC6BxJ,EAA7BmG,+BACAC,EAA6BpG,EAA7BoG,8BACAC,EAA+BrG,EAA/BqG,gCAEAhF,GADmBrB,EAAnBqI,oBACarI,EAAbqB,eACA6H,EAAWlJ,EAAXkJ,YACApF,EAAc9D,EAAd8D,eAEAtC,GADWxB,EAAXsI,YACgBtI,EAAhBwB,kBACAuH,EAAa/I,EAAb+I,cACAjE,EAAW9E,EAAX8E,YAAW2E,EAAAzJ,EACXuI,uBAAe,IAAAkB,EAAC,GAAEA,EAClBxF,EAAcjE,EAAdiE,eACAgB,EAAajF,EAAbiF,cACAuD,EAAiBxI,EAAjBwI,kBACAlJ,EAAqBU,EAArBV,sBAAqBoK,EAAA1J,EACrBmJ,sBAAc,IAAAO,EAAC,GAAEA,EACjBpD,EAAiBtG,EAAjBsG,kBACAG,EAAUzG,EAAVyG,WACAgC,EAAUzI,EAAVyI,WACiBkB,GAAA3J,EAAjB6G,kBAAiB7G,EACjB0I,wBAAe,IAAAiB,EAAC,CAAC,EAACA,EAElBnC,GADexH,EAAf2I,gBAC4B3I,EAA5BwH,8BAEMrD,EAAQyF,YAAW,oBAAoBzF,MAC7C0F,EAA2BC,mBAAS3B,GAAQ4B,EAAAC,YAAAH,EAAA,GAArCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GAClBI,EAAWC,cACTC,EAAoBF,EAApBE,MAAOC,EAAaH,EAAbG,SACRC,EAAoHF,EAApHE,gBAAgBC,EAAoGH,EAApGG,kBAAmBjL,GAAiF8K,EAAjF9K,UAAWU,GAAsEoK,EAAtEpK,OAAQqB,GAA8D+I,EAA9D/I,UAAWmJ,GAAmDJ,EAAnDI,iBAAkBvH,GAAiCmH,EAAjCnH,iBAAkB0D,GAAeyD,EAAfzD,gBACpF8D,IAAnBH,GAAmD,OAAnBA,IAA8C,IAAnBA,IAC3DrB,EAAYqB,EACZlJ,EAAemJ,GAEpB,IAAAG,GAA0Cb,mBAAS,IAAGc,GAAAZ,YAAAW,GAAA,GAA/CE,GAAaD,GAAA,GAAEE,GAAgBF,GAAA,GACtCG,GAAwCjB,mBAAS,IAAGkB,GAAAhB,YAAAe,GAAA,GAA7CE,GAAYD,GAAA,GAAEE,GAAeF,GAAA,GACpCG,GAAwBrB,oBAAS,GAAMsB,GAAApB,YAAAmB,GAAA,GAAhCE,GAAID,GAAA,GAAEE,GAAOF,GAAA,GACpBG,GAA4BzB,oBAAS,GAAM0B,GAAAxB,YAAAuB,GAAA,GAApCE,GAAMD,GAAA,GAAEE,GAASF,GAAA,GACxBG,GAA8B7B,mBAAS,IAAG8B,GAAA5B,YAAA2B,GAAA,GAAnCE,GAAOD,GAAA,GAAEE,GAAUF,GAAA,GAC1BG,GAAwBjC,mBAAS,IAAGkC,GAAAhC,YAAA+B,GAAA,GAA7BE,GAAID,GAAA,GACXE,IADoBF,GAAA,GACkClC,oBAAS,IAAMqC,GAAAnC,YAAAkC,GAAA,GAA9DE,GAAmBD,GAAA,GAC1BE,IADkDF,GAAA,GACZrC,mBAAS,KAAGwC,GAAAtC,YAAAqC,GAAA,GAA3CxI,GAAYyI,GAAA,GACnBC,IADoCD,GAAA,GACaxC,oBAAS,IAAM0C,GAAAxC,YAAAuC,GAAA,GAAnCE,IAAHD,GAAA,GAAqBA,GAAA,IAC/CE,GAAsC5C,mBAAS,MAAK6C,GAAA3C,YAAA0C,GAAA,GAA7CE,GAAYD,GAAA,GAAEE,GAAeF,GAAA,GAGlCG,IAkBE1E,EAnBF2E,QAmBE3E,EAlBF0E,OACAE,GAiBE5E,EAjBF4E,YACAC,GAgBE7E,EAhBF6E,YACAnH,GAeEsC,EAfFtC,YACAC,GAcEqC,EAdFrC,YACAmH,GAaE9E,EAbF8E,mBACAC,GAYE/E,EAZF+E,eACAC,GAWEhF,EAXFgF,iBACA7L,GAUE6G,EAVF7G,YACA8L,GASEjF,EATFiF,gBACArH,GAQEoC,EARFpC,SACAsH,GAOElF,EAPFkF,gBACApH,GAMEkC,EANFlC,kBACAD,GAKEmC,EALFnC,kBACA5C,GAIE+E,EAJF/E,WACAkK,GAGEnF,EAHFmF,YACA7J,GAEE0E,EAFF1E,QACA6B,GACE6C,EADF7C,mBAEFiI,qBAAU,WACHlO,EAAsBsK,YAAW,UAAWrK,GACnD,GAAG,IACHiO,qBAAU,WACY,KAAhBtE,GAEE4B,GADY,OAAhB5B,EACqB,OACA,OAEzB,GAAG,CAACA,IAEJsE,qBAAU,WAAO,IAADC,EAAAC,EACd1K,EAAW,CACTzD,aACAU,UACAsB,YAAgD,IAArB,OAAd4H,QAAc,IAAdA,GAAwB,QAAVsE,EAAdtE,EAAgBwE,gBAAQ,IAAAF,OAAV,EAAdA,EAA0BG,QAA4B,OAAdzE,QAAc,IAAdA,GAA2B,QAAbuE,EAAdvE,EAAgBwE,SAAS,UAAE,IAAAD,OAAb,EAAdA,EAA6BnM,YAAc0K,GAChGnN,OAAQ8K,YAAW,UACnB3G,mBAAoBwH,GACpBvH,iBAAiB,EACjBxB,UAAU,EACV2B,YAAW,EACXC,YAAW,IAEbgD,EAAkB,CAACE,cAAelF,GAAWrB,OAAOA,GAAQnB,OAAQsB,KAAKmH,MAAMqC,YAAW,aAC1F9F,EAAe,CAAEvE,aAAWT,OAAQ8K,YAAW,WACjD,GAAG,CAAC3J,GAAQ+C,EAAYc,EAAgBvE,KACxCsC,SAASgM,MAAK,eAAAxO,OAAkB4N,GAAW,cAE3CO,qBAAU,WACc,KAAlB3C,IAA0C,SAAlBA,IAC1BnD,EAAYvD,EAEhB,GAAG,CAACA,EAAOuD,EAAamD,KAExB2C,qBAAU,WACRtC,GAA6B,OAAbnC,QAAa,IAAbA,IAAiB,GACnC,GAAG,CAACA,IACJ,IAAM+E,GAAgC,OAARhF,QAAQ,IAARA,OAAQ,EAARA,EAAUiF,QAAO,SAACC,GAAI,OAAkC,IAAzB,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMC,qBAA2B,IAGnFC,GAAmB,SAAC9L,GAAK,IAAD+L,EAAAC,EAAAC,EAsBlBC,EAAAC,EAnBX,GAFArE,GAAU,GACV1C,KACoC,KAAP,QAAzB2G,EAAAL,GAAuB,UAAE,IAAAK,OAAA,EAAzBA,EAA2BK,KAA4C,OAAP,QAAzBJ,EAAAN,GAAuB,UAAE,IAAAM,OAAA,EAAzBA,EAA2BI,UAA8C9D,IAAP,QAAzB2D,EAAAP,GAAuB,UAAE,IAAAO,OAAA,EAAzBA,EAA2BG,MAAoC,MAAjBnN,EAIhI,OAHAyK,GAAW,2CACXR,IAAQ,QACRuB,GAAgB,eAGVpC,GACAxG,EAAe,CACbE,QACA7C,aACA+C,sBAAsB,EACtBD,gBAAgB,EAChBjD,cAAe,EACfC,sBAAuB,OACvBC,gBACApB,UACAsB,eACA2B,uBAGJuD,EAAW,CACTE,iBAA2B,OAAV8B,QAAU,IAAVA,GAAuB,QAAb6F,EAAV7F,EAAYgG,mBAAW,IAAAH,OAAb,EAAVA,EAAyB3H,iBAC1C1G,OAAOA,GACPqB,UAAUA,GACVxC,OAAOsB,KAAKmH,MAAMqC,YAAW,WAE7BhD,WAAW,IAEA,IAAbtF,GAAkBoN,MAAM,6BACN,SAAlB7D,GACA5G,EAAe,CACPE,QACA7C,aACA+C,sBAAsB,EACtBD,gBAAgB,EAChBjD,cAAe6L,GACf5L,sBAAuB,OACvBC,gBACApB,UACAsB,eACA2B,oBACA1B,qBAEJsD,EAAY,CACR3D,cAAc6L,GACd5L,sBAAgD,QAA3BmN,EAAET,GAAuB,UAAE,IAAAS,OAAA,EAAzBA,EAA2BC,GAClDlN,aACArB,UACAuB,mBACA2C,QACArF,OAAO8K,YAAW,aACjB8B,IAAU,GAE1B,EAED8B,oBAASmB,YAAAC,cAAAC,MAAE,SAAAC,IAAA,IAAAC,EAAAC,EAAApN,EAAAqN,EAAAjL,EAAA9D,EAAA8E,EAAAkK,EAAA,OAAAN,cAAAO,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAE4B,GAD9BP,EAAsExG,EAAtEwG,QAAsExG,EAA7DgH,OAAQP,EAAqDzG,EAArDyG,YAAapN,EAAwC2G,EAAxC3G,UAAWqN,EAA6B1G,EAA7B0G,0BACxC/O,GADiE8D,EAClCiL,GAAoD,CAAC,GAApF/O,cAAc8E,EAAehB,EAAfgB,gBACjBwK,YAAcjH,GAAiB,CAAD6G,EAAAE,KAAA,SA+C5B,IA9CwB,KAAZ,OAAf/G,QAAe,IAAfA,OAAe,EAAfA,EAAiBvH,QAAwC,GAAtBuH,EAAgB0D,OACrD/B,GAAU,GACV1C,IACCvG,YAAmB,CACdhB,UACAkB,cAAc6L,GACd5L,sBAAsB4D,EACtB3D,cAA+B,KAAjBA,EAAqBA,EAAcuI,YAAW,eAC5DtI,UAAUA,GACVC,YAAY0K,GACZzK,mBACAtB,cAAcA,EACdpB,OAAO8K,YAAW,YACjBjJ,MAAK,SAAC8O,GAEwC,IAADC,GAA7B,KAAX,OAAHD,QAAG,IAAHA,OAAG,EAAHA,EAAKzO,QAAoC,KAAhB,OAAHyO,QAAG,IAAHA,OAAG,EAAHA,EAAKE,YAExB1K,EAAc,CACZgB,qBACAC,qBACAf,OAAQ6H,GACR/M,OAAQA,GACRmF,SAAc,OAAHqK,QAAG,IAAHA,GAA8B,QAA3BC,EAAHD,EAAKR,iCAAyB,IAAAS,OAA3B,EAAHA,EAAgCtK,SAC3CE,SAAU,GACVD,YAAY,EACZE,mBAAoBA,GACpBE,SAAQ,GAAApG,OAAW,OAALgL,QAAK,IAALA,OAAK,EAALA,EAAO5E,UACrBC,UAAS,GAAArG,OAAW,OAALgL,QAAK,IAALA,OAAK,EAALA,EAAO3E,WACtBC,iBAAkBjC,GAClBkC,YAAcgB,GACdpB,mBAAmB,EACnB1G,OAAQsB,KAAKmH,MAAMqC,YAAW,WAC9BrI,YAAa0K,GACbpG,YAAawE,EAAMuF,WAAa,EAAE,EAClC9J,YAAYA,GACZC,YAAYA,GACZC,SAASA,GACTzG,UAAUA,KAGdsQ,YAAW,CACTC,QAAQ,QACRf,QAAQU,EAAIV,SAGjB,MAC8B,KAAZ,OAAfxG,QAAe,IAAfA,OAAe,EAAfA,EAAiBvH,QAAwC,IAAtBuH,EAAgB0D,KAAQ,CAAAmD,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EAC1D7I,EAAW,CACVE,iBAA2B,OAAV8B,QAAU,IAAVA,GAAuB,QAAbyG,EAAVzG,EAAYgG,mBAAW,IAAAS,OAAb,EAAVA,EAAyBvI,iBAC1C1G,OAAOA,GACPqB,UAAUA,GACVxC,OAAOsB,KAAKmH,MAAMqC,YAAW,WAC7BhD,WAAW,IACb,cAAAwI,EAAAE,KAAA,EACES,YAAW,iBAAkB,CAACH,WAAWvF,EAAMuF,WAAW3J,qBAAmBC,qBAAmBH,YAAa1C,GAAa4C,GAAoBF,GAAaD,YAAazC,GAAa6C,GAAoBJ,GAAamH,eAAcE,eAAeA,GAAgB5H,mBAAmBA,GAAoBrC,iBAAiBA,GAAkBuC,SAAe,OAAL4E,QAAK,IAALA,OAAK,EAALA,EAAO5E,SAAWC,UAAe,OAAL2E,QAAK,IAALA,OAAK,EAALA,EAAO3E,UAAWsK,WAAW1O,GAAU0L,YAAYA,GAAapL,UAAUA,EAAWqO,YAAYhE,GAAMiE,oBAAoBtJ,GAAaiE,cAAe7F,EAC7gBgB,SAASA,GAAUzG,UAAUA,KAAc,cAAA6P,EAAAE,KAAA,GACvCa,OAAOhG,SAASiG,OAAO,GAAD/Q,OAAI2P,IAAe,KAAD,GAAAI,EAAAE,KAAA,iBACZ,IAAX,OAAf/G,QAAe,IAAfA,OAAe,EAAfA,EAAiBvH,QAAuC,GAAtBuH,EAAgB0D,OAC3DH,GAAWiD,GACXzD,IAAQ,IACT,eAAA8D,EAAAiB,OAAA,UAEE,WACLlK,IACAE,IACAD,GACF,IAAC,yBAAAgJ,EAAAkB,OAAA,GAAAxB,EAAA,KACF,CACAvG,EAEAkD,KAIH+B,qBAAU,WAqBT,OApBGgC,YAAchH,KACY,GAAxBA,EAAkByD,MAAoC,GAAzBzD,EAAkBxH,MACjDuP,IAAQC,KAAK,CACXlG,SAAU,yBACVD,MAAO,CACH0E,QAA0B,OAAjBvG,QAAiB,IAAjBA,OAAiB,EAAjBA,EAAmBuG,QAC5BhJ,YAAa1C,GAAa4C,GAAoBF,GAC9CD,YAAazC,GAAa6C,GAAoBJ,GAC9CmH,eACA3L,UAAWA,GACXmP,OAAOxQ,MAIb4P,YAAW,CACTC,QAAQ,QACRf,QAAyB,OAAjBvG,QAAiB,IAAjBA,OAAiB,EAAjBA,EAAmBuG,WAIzB,WACN5I,IACAE,IACAD,GACF,CACA,GAAE,CAACoC,EAAkByD,OA2ErB,OA5BDuB,qBAAU,WACT,IAAIgC,YAAc9G,GAsBhB,OArBqB,OAAfA,QAAe,IAAfA,KAAiB1H,MAiBC,OAAf0H,QAAe,IAAfA,KAAiB1H,QACzB6O,YAAW,CAACd,QAAuB,OAAfrG,QAAe,IAAfA,OAAe,EAAfA,EAAiBqG,QAASe,QAAQ,UACtDrD,GAAmB,WAlBhBzJ,EAAW,CACTzD,aACAU,UACAsB,YAAa,GACbzC,OAAQ8K,YAAW,UACnB3G,mBAAoBwH,GACpBvH,oBACAC,iBAAkBU,GAClBT,mBAAmC,OAAfsF,QAAe,IAAfA,OAAe,EAAfA,EAAiBtF,qBAEV,YAAX,OAAfsF,QAAe,IAAfA,OAAe,EAAfA,EAAiBqG,SAClBc,YAAW,CAACd,QAAQ,0CAA2Ce,QAAQ,YAEtED,YAAW,CAACd,QAAuB,OAAfrG,QAAe,IAAfA,OAAe,EAAfA,EAAiBqG,QAASe,QAAQ,YAEzDrD,GAAmB,SAKhB,kBAAKjF,GAA+B,CAE9C,GAAG,CAAgB,OAAfkB,QAAe,IAAfA,OAAe,EAAfA,EAAiB1H,MAAOoL,KAIzBsE,eAAAC,WAAA,CAAAC,SAAA,CACEF,eAAA,OAAKG,UAAU,kCAAiCD,SAAA,CAC7C3G,GACC6G,cAACC,aAAU,CAAC/R,KAAK,MAAM8I,YAAaA,EAAakJ,OAAO,WAExD/G,GACAyG,eAAAC,WAAA,CAAAC,SAAA,CACEE,cAACG,WAAQ,CACPC,MAAOjE,GACPkE,KAAMpJ,YAA2B,oBAGnC2I,eAAA,OAAKG,UAAU,+BAA8BD,SAAA,CAC3CF,eAACU,UAAO,CAACC,YAAU,EAAAT,SAAA,CACjBE,cAAA,QAAMD,UAAU,WAAUD,SAAC,YAAc,cAEjC,KAAR3E,IAAkC,IAApBoB,IACXqD,eAAA,OAAKG,UAAU,kBAAiBD,SAAA,CAC9BE,cAAA,OAAAF,SAAK,oBAAqB,IAACE,cAACQ,WAAQ,CAACT,UAAU,uBAAuBU,YAAaxJ,YAA2B,wBAC7GyJ,IAAKzJ,YAA2B,oBAGxC2I,eAACe,eAAY,CAACC,SAAO,EAACC,SAAO,EAACd,UAAU,uBAAsBD,SAAA,CAC5DF,eAAA,OAAKG,UAAU,yCAAwCD,SAAA,CACrDF,eAAA,OAAAE,SAAA,CACEE,cAACM,UAAO,CACNQ,UAAQ,EACRC,WAAS,EACThB,UAAU,uBACViB,MAAI,EAAAlB,SACL,iBAGDE,cAACM,UAAO,CAACP,UAAU,qBAAoBD,SACpC3D,QAGLyD,eAACU,UAAO,CAACP,UAAU,qBAAoBD,SAAA,CACpCzD,GACAL,SAIL4D,eAAA,OAAKG,UAAU,yCAAwCD,SAAA,CACrDF,eAAA,OAAAE,SAAA,CACEE,cAACM,UAAO,CACNQ,UAAQ,EACRC,WAAS,EACThB,UAAU,uBAAsBD,SACjC,kBAGDE,cAACM,UAAO,CAACP,UAAU,oBAAmBD,SACnCvN,GAAU,GAAAhE,OACJ6G,GAAiB,OAAA7G,OAAMiO,IAC1BxH,QAGRgL,cAACM,UAAO,CAACP,UAAU,oBAAmBD,SACnCvN,GAAU,GAAAhE,OAAuB,OAAjB4G,SAAiB,IAAjBA,QAAiB,EAAjBA,GAAmB8L,MAAM,KAAK,GAAE,OAAA1S,OAAuB,OAAjB4G,SAAiB,IAAjBA,QAAiB,EAAjBA,GAAmB8L,MAAM,KAAK,IAAOhM,QAInF,IAAZrC,IACCoN,cAAA,OAAKD,UAAU,yCAAwCD,SACrDF,eAAA,OAAAE,SAAA,CACEE,cAACM,UAAO,CACNQ,UAAQ,EACRC,WAAS,EACThB,UAAU,uBAAsBD,SACjC,oBAGDE,cAACM,UAAO,CAACP,UAAU,oBAAmBD,SAAElN,UAK9CgN,eAAA,OAAKG,UAAU,yCAAwCD,SAAA,CACrDF,eAAA,OAAAE,SAAA,CACEE,cAACM,UAAO,CACNQ,UAAQ,EACRC,WAAS,EACThB,UAAU,uBAAsBD,SACjC,aAGDE,cAACM,UAAO,CAACP,UAAU,oBAAmBD,SACnCxI,EAAQ+B,eAGX9G,IACAqN,eAAA,OAAAE,SAAA,CACEE,cAACM,UAAO,CACNQ,UAAQ,EACRC,WAAS,EACThB,UAAU,uBAAsBD,SACjC,aAGDF,eAACU,UAAO,CAACP,UAAU,oBAAmBD,SAAA,CACnC5K,GAAS,mBAMjB3C,IACCyN,cAAA,OAAKD,UAAU,yCAAwCD,SACrDF,eAAA,OAAAE,SAAA,CACEE,cAACM,UAAO,CACNQ,UAAQ,EACRC,WAAS,EACThB,UAAU,uBAAsBD,SACjC,gBAGDE,cAACM,UAAO,CAACP,UAAU,oBAAmBD,SACnCrD,iBAoBX9C,IACAiG,eAAA,OAAKG,UAAU,+CAA8CD,SAAA,CAC3DF,eAACU,UAAO,CAACC,YAAU,EAAAT,SAAA,CACjBE,cAAA,QAAMD,UAAU,WAAUD,SAAC,YAAc,cAEzCF,eAACe,eAAY,CACXC,SAAO,EACPC,SAAO,EACPd,UAAU,kCAAiCD,SAAA,CAE3CF,eAAA,OAAKG,UAAU,8BAA6BD,SAAA,CAC1CE,cAACM,UAAO,CAACQ,UAAQ,EAAAhB,SAAC,UAClBF,eAACU,UAAO,CAACP,UAAU,oBAAoBe,UAAQ,EAAAhB,SAAA,CAC5CzD,GACAL,SAGP4D,eAAA,OAAKG,UAAU,8BAA6BD,SAAA,CAC1CE,cAACM,UAAO,CAACQ,UAAQ,EAAAhB,SAAC,aAClBF,eAACU,UAAO,CAACP,UAAU,oBAAoBe,UAAQ,EAAAhB,SAAA,CAC5CzD,GACAD,SAGQ,GAAV/E,GAAmC,OAAfO,QAAe,IAAfA,KAAiBtF,oBAA8D,KAAxB,OAAfsF,QAAe,IAAfA,OAAe,EAAfA,EAAiBtF,oBAC9EsN,eAAA,OAAKG,UAAU,8BAA6BD,SAAA,CAC5CE,cAACM,UAAO,CAACQ,UAAQ,EAAAhB,SAAC,0BAClBF,eAACU,UAAO,CAACP,UAAU,oBAAoBe,UAAQ,EAAAhB,SAAA,CAC5CzD,GACe,OAAfzE,QAAe,IAAfA,OAAe,EAAfA,EAAiBtF,yBAEd,GAEc,IAArBgK,IACCsD,eAAA,OAAKG,UAAU,8BAA6BD,SAAA,CAC1CE,cAACM,UAAO,CAACQ,UAAQ,EAAAhB,SAAC,mBAClBF,eAACU,UAAO,CAACP,UAAU,oBAAoBe,UAAQ,EAAAhB,SAAA,CAC5CzD,GACAC,SAIc,IAApBC,IACCqD,eAAA,OAAKG,UAAU,8BAA6BD,SAAA,CAC1CE,cAACM,UAAO,CAACQ,UAAQ,EAAAhB,SAAC,qBAClBF,eAACU,UAAO,CAACP,UAAU,oBAAoBe,UAAQ,EAAAhB,SAAA,CAC5CzD,GACAE,SAIPqD,eAAA,OAAKG,UAAU,6CAA4CD,SAAA,CACzDE,cAACM,UAAO,CAACP,UAAU,oBAAmBD,SAAC,aACvCF,eAACU,UAAO,CAACP,UAAU,oBAAmBD,SAAA,CACnCzD,GACAH,eAmIO,QAAjBnC,IACC6F,eAAA,OAAKG,UAAU,+CAA8CD,SAAA,CAC3DF,eAACU,UAAO,CAACC,YAAU,EAAAT,SAAA,CACjBE,cAAA,QAAMD,UAAU,WAAUD,SAAC,YAAc,kBAE3CE,cAACW,eAAY,CACXE,SAAO,EACPD,SAAO,EACPb,UAAU,kCAAiCD,SAC3CF,eAAA,OAAKG,UAAU,uBAAsBD,SAAA,CACnCF,eAAA,OACEsB,MAAO,CACLC,MAAO,MACPC,QAAS,OACTC,eAAgB,gBAChBC,WAAY,SACZC,aAAc,qCACdC,cAAe,OACfC,OAAQ,WAEVC,QAAS,kBACPjC,IAAQC,KAAK,CACXlG,SAAU,mBACVD,MAAKoI,wBAAA,GAAOpI,GAAK,IAAEqI,cAAepI,KAClC,EACHsG,SAAA,CAEDF,eAAA,OAAAE,SAAA,CACEE,cAACM,UAAO,CAACQ,UAAQ,EAACC,WAAS,EAAAjB,SAAC,mBAGR,IAAX,OAAR9H,QAAQ,IAARA,OAAQ,EAARA,EAAU8E,QACXkD,cAACM,UAAO,CAACP,UAAU,yCAAwCD,SAAC,oCAI5DE,cAACM,UAAO,CAACP,UAAU,gCAA+BD,SAAC,4BAK/B,KAAZ,OAAR9H,QAAQ,IAARA,OAAQ,EAARA,EAAU8E,SACRkD,cAACM,UAAO,CAAGQ,UAAQ,EAAAhB,SAChB,yBAIR+B,WAASC,QACA,OAAR9J,QAAQ,IAARA,OAAQ,EAARA,EAAU+J,KAAI,SAAC7E,GAKTA,EAHFQ,GADF,IACIsE,EAGA9E,EAFFA,KAAQ+E,EAAKD,EAALC,MAAOC,EAAKF,EAALE,MAGjB,OADIhF,EADFC,sBAIEyC,eAAA,OAAKsB,MAAO,CAAEC,MAAO,OAAQrB,SAAA,CAC3BF,eAACU,UAAO,CAACQ,UAAQ,EAACC,WAAS,EAAAjB,SAAA,CACxBoC,EAAMC,cAAc,WAEvBnC,cAACM,UAAO,CAACP,UAAU,gCAA+BD,SAC/CmC,EAAMG,SAAS,GAAI,SAQ9B,aAsBXpC,cAAA,SACGrG,GAmBAqG,cAACqC,YAAS,CAACX,QAAStE,GAAkB0C,SAAC,2BAlBrB,SAAlB/F,IAA6C,KAAjBI,GACP,IAAX,OAARnC,QAAQ,IAARA,OAAQ,EAARA,EAAU8E,QACNkD,cAACqC,YAAS,CACRX,QAAS,kBACPjC,IAAQC,KAAK,CACXlG,SAAU,4BACVD,MAAKoI,wBAAA,GAAOpI,GAAK,IAAEqI,cAAepI,KAClC,EAAEsG,SAAC,oBAIbE,cAACqC,YAAS,CAACX,QAAStE,GAAkB0C,SAAC,oBAIvC,SAUVE,cAACsC,iBAAc,CACb/H,KAAMA,GACNQ,QAASA,GACTwH,QAAS,CACP,CACEnC,MAAOtE,GACP4F,QAAS,WACS,gBAAhB5F,GAAgC2D,IAAQC,KAAK,CAC3ClG,SAAU,mBACVD,MAAKoI,wBAAA,GAAOpI,GAAK,IAAEqI,cAAepI,MAGnCJ,GAAU,GACVoB,IAAQ,EACX,MAINwF,cAACwC,IAAc,MAGrB,I","file":"static/js/35.cacce8ac.chunk.js","sourcesContent":["import { fetchAction } from \"../utils\";\r\n\r\nconst APP_BASE_URL = process.env.REACT_APP_PAYMENT_VOUCHER;\r\nconst REACT_APP_MARKETING = process.env.REACT_APP_MARKETING\r\nexport const getServicesVouchers = (userId) => {\r\n  return fetchAction({\r\n    type: \"GET_SERVICES_VOUCHERS\",\r\n    verb: \"GET\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL}/Voucher/GetActiveVoucherByUserId?id=${userId}`,\r\n  });\r\n};\r\n \r\n\r\nexport const GetVoucherByServiceId = (userId, serviceId) => {\r\n  return fetchAction({\r\n    type: \"GET_SUMMARY_VOUCHERS\",\r\n    verb: \"GET\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${REACT_APP_MARKETING}/Voucher/GetVoucherByServiceId?userId=${userId}&serviceId=${serviceId}`,\r\n  });\r\n};\r\n\r\nexport const GetServiceVoucherHistory = (userId ) => {\r\n  return fetchAction({\r\n    type: \"GET_HISTORY_VOUCHERS\",\r\n    verb: \"GET\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${REACT_APP_MARKETING}/Voucher/GetServiceVoucherHistory?userId=${userId}`,\r\n  });\r\n}; ","import { fetchAction } from \"../../redux/utils\";\r\nconst REACT_APP_PAYMENT_VOUCHER = process.env.REACT_APP_PAYMENT_VOUCHER;\r\nconst BEARER_TOKEN= process.env.REACT_APP_BEARER_TOKEN\r\nconst APP_BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\n//business availibility\r\n\r\n\r\nvar myHeaders = new Headers();\r\nmyHeaders.append(\"Content-Type\", \"application/json\"); \r\nmyHeaders.append(\"mode\", \"no-cors\");\r\nmyHeaders.append(\"Authorization\", `Bearer ${BEARER_TOKEN}`); \r\nmyHeaders.append(\"Access-Control-Allow-Origin\",\"*\");\r\n\r\nexport const ThreedsStatus = ({ cartId , transactionId }) => {\r\n \r\nvar raw = JSON.stringify({\r\n   cartId : cartId,\r\n   transactionId : transactionId\r\n});\r\nvar requestOptions = {\r\n  method: 'POST',\r\n  headers: myHeaders,\r\n  body: raw,\r\n  redirect: 'follow'\r\n}; \r\nreturn fetch(`${REACT_APP_PAYMENT_VOUCHER}/Payment/ThreedsStatus`, requestOptions)\r\n  .then(response => response.json())\r\n  .then(result =>  result)\r\n  .catch(error => error); \r\n};\r\n \r\n\r\nexport const capturePaymenFetch = ({ \r\n  cartId,\r\n  paymentAmount,\r\n  stripePaymentMethodId,\r\n  userCountryId, \r\n  bookingId, \r\n  voucherCode, \r\n  userCurrencyCode,\r\n  transactionId,\r\n  userId}) => {\r\n \r\n  var data = JSON.stringify({ \r\n    bookingId :bookingId,\r\n    cartId : cartId ,\r\n    countryId :userCountryId,\r\n    currency :userCurrencyCode,\r\n    paymentAmount,\r\n    returnUrl: `${document.domain=='localhost'?'https://expert-dev.findanexpert.net/paymentverification':document.domain.indexOf(\"findanexpert\") !==-1 ?`https://${document.domain}/paymentverification`:\"https://www.expert.one/paymentverification\"}`,\r\n    stripePaymentMethodId :stripePaymentMethodId,\r\n    transactionId :transactionId,\r\n    userId :userId,\r\n    voucherCode :voucherCode  \r\n });\r\n  var requestOptions = {\r\n    method: 'POST',\r\n    headers: myHeaders,\r\n    body: data,\r\n    redirect: 'follow'\r\n  }; \r\n  return fetch( `${REACT_APP_PAYMENT_VOUCHER}/Payment/CapturePayment`, requestOptions)\r\n    .then(response => response.json())\r\n    .then(result =>  result)\r\n    .catch(error => error); \r\n  };\r\n\r\n\r\n  export function oneTimeCapture(oneTimeCaptureObj){\r\n    \r\n    var requestOptions = {\r\n      method: 'POST',\r\n      headers: myHeaders,\r\n      body: JSON.stringify(oneTimeCaptureObj),\r\n      redirect: 'follow'\r\n    }; \r\n\r\n     return fetch(`${REACT_APP_PAYMENT_VOUCHER}/OneTimePayment/CapturePayment`,requestOptions)\r\n     .then(jsondata => {\r\n      return jsondata?.json();\r\n     }).then((resp) => {\r\n      return resp \r\n    })\r\n    .catch(e => {\r\n      console.log('e', e)\r\n    })\r\n\r\n  }\r\n\r\n  export function oneTimeHoldPayment(oneTimeHoldPaymentObj){\r\n    var requestOptions = {\r\n      method: 'POST',\r\n      headers: myHeaders,\r\n      body: JSON.stringify(oneTimeHoldPaymentObj),\r\n      redirect: 'follow'\r\n    }; \r\n  return  fetch(`${REACT_APP_PAYMENT_VOUCHER}/OneTimePayment/HoldPayment`,requestOptions).then(response => response?.json())\r\n          .then((resp) =>  resp  )\r\n          .catch(e => console.log('e', e) )\r\n  }\r\n  \r\n  export function oneTimeThreedsStatus(oneTimeThreedsStatusObj){\r\n    var requestOptions = {\r\n      method: 'POST',\r\n      headers: myHeaders,\r\n      body: JSON.stringify(oneTimeThreedsStatusObj),\r\n      redirect: 'follow'\r\n    }; \r\n    return fetch(`${REACT_APP_PAYMENT_VOUCHER}/OneTimePayment/ThreedsStatus`,requestOptions).then(response => response?.json())\r\n    .then((resp) =>  resp)\r\n    .catch(e => console.log('e', e))\r\n  }\r\n \r\nexport function getClinicAddressAPI(getclinicPayload){\r\n  var requestOptions = {\r\n    method: 'POST',\r\n    headers: myHeaders,\r\n    body: JSON.stringify(getclinicPayload),\r\n    redirect: 'follow'\r\n  }; \r\nreturn  fetch(`${APP_BASE_URL}/Addresses/GetClinicAddresses`,requestOptions).then(response => response?.json())\r\n        .then((resp) =>  resp  )\r\n        .catch(e => console.log('e', e) )\r\n}","import { fetchAction } from \"../utils\";\r\n\r\nconst APP_BASE_URL = process.env.REACT_APP_BASE_URL;\r\nconst APP_BASE_URL_2 = process.env.REACT_APP_BASE_URL_2;\r\nconst REACT_APP_PAYMENT  = process.env.REACT_APP_PAYMENT_VOUCHER;\r\nexport const getSummary = ({\r\n  cartId,\r\n  serviceId,\r\n  userId,\r\n  voucherCode,\r\n  isFreeConsultation,\r\n  selectedSessions,\r\n  countryId,\r\n  discountCodeResp,\r\n  discountCodeAmount,\r\n  isTraining,\r\n  is_service,\r\n   \r\n}) => {\r\n  return fetchAction({\r\n    type: \"GET_SUMMARY_DATA\",\r\n    verb: \"POST\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL}/CalculateSummary`,\r\n    payload: JSON.stringify({\r\n      countryId:countryId,\r\n      serviceId: serviceId,\r\n      userId: userId,\r\n      isService: true,\r\n      cartId: cartId,\r\n      VoucherCode: voucherCode,\r\n      isFreeConsultation,\r\n      session: selectedSessions,\r\n      devicePlatform: \"web\",\r\n      deviceName: \"web\",\r\n      discountCode: discountCodeResp,\r\n      discountCodeAmount: discountCodeAmount,\r\n      isTraining: isTraining,\r\n      is_service:is_service,\r\n    }),\r\n  });\r\n};\r\n\r\nexport const getVoucherList = ({ serviceId, userId }) => {\r\n  return fetchAction({\r\n    type: \"GET_VOUCHER_LIST\",\r\n    verb: \"GET\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL}/Voucher/GetVoucherList/${userId}/${serviceId}`,\r\n  });\r\n};\r\n \r\nexport const capturePaymentAction = ({\r\n  cartId,\r\n  paymentAmount,\r\n  stripePaymentMethodId,\r\n  userCountryId, \r\n  bookingId, \r\n  voucherCode, \r\n  userCurrencyCode,\r\n  transactionId,\r\n  userId\r\n   \r\n}) => {\r\n  return fetchAction({\r\n    type: \"SAVE_BOOKING\",\r\n    verb: \"POST\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${REACT_APP_PAYMENT}/Payment/CapturePayment`,\r\n    payload: JSON.stringify({\r\n    \r\n       bookingId :bookingId,\r\n       cartId : cartId ,\r\n       countryId :userCountryId,\r\n       currency :userCurrencyCode,\r\n       paymentAmount,\r\n       returnUrl: `${document.domain=='localhost'?'https://expert-dev.findanexpert.net/paymentverification':document.domain.indexOf(\"findanexpert\") !==-1 ?`https://${document.domain}/paymentverification`:\"https://www.expert.one/paymentverification\"}`,\r\n       stripePaymentMethodId :stripePaymentMethodId\r\n      , transactionId :transactionId,\r\n       userId :userId,\r\n       voucherCode :voucherCode \r\n    \r\n    }),\r\n  });\r\n};\r\nexport const saveCodBooking = ({\r\n  paymentAmount,\r\n  stripePaymentMethodId,\r\n  userCountryId,\r\n  email,\r\n  bookingId,\r\n  isReferralUsed,\r\n  isTreatmentOfferUsed,\r\n  cartId,\r\n  voucherCode,\r\n  selectedSessions,\r\n  userCurrencyCode,\r\n}) => {\r\n  return fetchAction({\r\n    type: \"SAVE_BOOKING\",\r\n    verb: \"POST\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL_2}/Payment/Cod`,\r\n    payload: JSON.stringify({\r\n      stripepaymentmethodId: stripePaymentMethodId,\r\n      bookingid: bookingId,\r\n      serviceproviderid: 0,\r\n      currency: userCurrencyCode,\r\n      paymentamount: paymentAmount,\r\n      referralbonusused: isReferralUsed,\r\n      isfreetreatmentused: isTreatmentOfferUsed,\r\n      isocode: userCountryId,\r\n      email,\r\n      cartId,\r\n      VoucherCode: voucherCode,\r\n      numberOfSession: selectedSessions,\r\n    }),\r\n  });\r\n};\r\n\r\nexport const HoldPayment = ({\r\n  paymentAmount,\r\n  stripePaymentMethodId, \r\n  bookingId, \r\n  cartId, \r\n  userCurrencyCode, \r\n  userId\r\n}) => { \r\n  return fetchAction({\r\n    type: \"HOLD_PAYMENT\",\r\n    verb: \"POST\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${REACT_APP_PAYMENT}/Payment/HoldPayment`,\r\n    payload: JSON.stringify({\r\n      bookingId :bookingId,\r\n      cartId : cartId ,\r\n      currency : userCurrencyCode ,\r\n      paymentAmount :paymentAmount,\r\n      paymentMethodId :stripePaymentMethodId,\r\n      returnUrl: `${document.domain=='localhost'?'https://expert-dev.findanexpert.net/paymentverification':document.domain.indexOf(\"findanexpert\") !==-1 ?`https://${document.domain}/paymentverification`:\"https://www.expert.one/paymentverification\"}`,\r\n      userId : userId \r\n        \r\n    }),\r\n  });\r\n};\r\n\r\n\r\n\r\nexport const createBooking=({\r\n  amount ,\r\n  cartId ,\r\n  chargeId ,\r\n  distance ,\r\n  isCaptured ,\r\n  isReferralReceiver ,\r\n  latitude ,\r\n  longitude ,\r\n  numberOfSessions ,\r\n  providerIds ,\r\n  referralBonusUsed ,\r\n  userId ,\r\n  voucherCode ,\r\n  serviceVenu,\r\n   bookingDate,\r\n   bookingTime,\r\n   duration,\r\n   serviceId,\r\n   trainingStartTime,\r\n   trainingStartDate,\r\n})=>{ \r\n return fetchAction({\r\n    type: \"CREATE_BOOKING\",\r\n    verb: \"POST\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL_2}/Booking/CreateBookingTraining`,\r\n    payload: JSON.stringify({\r\n      amount:amount,\r\n      cartId:cartId,\r\n      chargeId:chargeId,\r\n      // distance:distance,\r\n      isCaptured:isCaptured,\r\n      isReferralReceiver:isReferralReceiver,\r\n      // latitude:latitude,\r\n      // longitude:longitude,\r\n      // numberOfSessions:numberOfSessions,\r\n      // serviceVenu:serviceVenu,\r\n      // providerIds:providerIds,\r\n      referralBonusUsed:referralBonusUsed,\r\n      userId:userId,\r\n      voucherCode:voucherCode, \r\n      bookingDate: trainingStartDate,\r\n      bookingTime:trainingStartTime,\r\n      // duration:duration,\r\n      serviceId:serviceId,\r\n    }),\r\n  });\r\n}\r\n \r\n\r\n \r\nexport const setSaveBookingResponseToEmpty = () => {\r\n  return {\r\n    type: \"SET_SAVE_BOOKING_RESPONSE_TO_EMPTY\",\r\n  };\r\n};\r\n\r\nexport const setHoldPaymentResponseToEmpty = () => {\r\n  return {\r\n    type: \"SET_HOLD_PAYMENT_RESPONSE_TO_EMPTY\",\r\n  };\r\n};\r\nexport const setCreateBookingResponseToEmpty = () => {\r\n  return {\r\n    type: \"SET_CREATEBOOKING_PAYMENT_RESPONSE_TO_EMPTY\",\r\n  };\r\n};\r\n\r\n\r\nexport const SalesOrderSummary = ({tempBookingId, cartId, userId}) => {\r\n  return fetchAction({\r\n    type: \"SALES_ORDER\",\r\n    verb: \"POST\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    payload: JSON.stringify({ \r\n        tempBookingId: tempBookingId,\r\n        cartId: cartId,\r\n        userId: userId\r\n    }), \r\n    endpoint: `${APP_BASE_URL_2}/SalesOrder/SalesOrder` ,\r\n  });\r\n};\r\n\r\nexport const Getinvoice = ({\r\n  salesOrderNumber,\r\n  cartId,\r\n  bookingId,\r\n  userId,\r\n  providerId\r\n}) => {\r\n  return fetchAction({\r\n    type: \"SALES_GET_INVOICE\",\r\n    verb: \"POST\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    payload: JSON.stringify({\r\n      salesOrderNumber: salesOrderNumber,\r\n      cartId: cartId,\r\n      bookingId: bookingId,\r\n      userId: userId,\r\n      providerId: providerId\r\n    }), \r\n    endpoint: `${APP_BASE_URL_2}/SalesOrder/Getinvoice` ,\r\n  });\r\n};\r\n\r\nexport const applyDiscountCode= ({\r\n userid,\r\n serviceid,\r\n discountcode,\r\n currentdate,\r\n countryid,\r\n numberofsession,\r\n referraldiscount\r\n})=>{\r\n  return fetchAction({\r\n    headers: { contentType: \"includeBearer\"},\r\n    type:\"APPLY_DISCOUNT_CODE\",\r\n    verb:\"POST\",\r\n    payload :JSON.stringify({\r\n      userid          :!isNaN(userid)? JSON.parse(userid):  userid,         \r\n      serviceid       :serviceid ,    \r\n      discountcode    :discountcode ,\r\n      currentdate     :currentdate ,\r\n      countryid       :countryid ,    \r\n      numberofsession :numberofsession ,\r\n      referraldiscount:referraldiscount     \r\n    }),\r\n    endpoint:`${APP_BASE_URL_2}/CalculateSummary/redeemdiscountcode`\r\n  })\r\n}\r\n\r\nexport const applyDiscountCodeObjectEmpty= ( )=>{\r\n\r\n   return    {\r\n    type: \"SET_DIDSCOUNT_CODE_OBJ_TO_EMPTY\",\r\n  };\r\n }","import { fetchAction } from \"../utils\";\r\n\r\nconst APP_BASE_URL = process.env.REACT_APP_BASE_URL;\r\nconst APP_BASE_URL_PAYMENT = process.env.REACT_APP_PAYMENT_VOUCHER;\r\nexport const getCardList = (email) => {\r\n  return fetchAction({\r\n    type: \"GET_CARD_LIST\",\r\n    verb: \"GET\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL_PAYMENT}/Payment/ListOfCustomerPaymentMethods?Email=${email}`,\r\n  });\r\n};\r\n\r\nexport const deleteCard = ({ userId, paymentMethodId }) => {\r\n  return fetchAction({\r\n    type: \"DELETE_CARD\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL_PAYMENT}/Payment/RemovePaymentMethod`,\r\n    verb: \"DELETE\",\r\n    payload: JSON.stringify({ \r\n        userId: userId,\r\n        paymentMethodId: paymentMethodId\r\n      \r\n    }),\r\n  });\r\n};\r\n\r\nexport const makeCardDefault = ({ userId, paymentMethodId }) => {\r\n  return fetchAction({\r\n    type: \"MAKE_CARD_DEFAULT\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL_PAYMENT}/Payment/AddDefaultPaymentMethod`,\r\n    verb: \"POST\",\r\n    payload: JSON.stringify({ \r\n        userId: userId,\r\n        paymentMethodId: paymentMethodId \r\n    }),\r\n  });\r\n};\r\nexport const setDefaultCardObjEmpty = () => {\r\n   return {\r\n    type: \"SET_DEFAULT_CARD_OBJ_RESPONSE\",\r\n   }\r\n};\r\n","//libs\r\nimport React, { Children, useCallback, useEffect, useState } from \"react\";\r\nimport {\r\n  FAEText,\r\n  FAETitle,\r\n  FAERadioGroup,\r\n  FAEButton,\r\n  FAELoading,\r\n  FAEDialogueBox,\r\n  FAESelect,\r\n  FAETextField,\r\n  FAEShadowBox,\r\n} from \"@findanexpert-fae/components\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\n \r\n\r\n//src\r\nimport {\r\n  DataToDigits,\r\n  FAEToaster,\r\n  getCookies,\r\n  getFileSrcFromPublicFolder,\r\n  objectIsEmpty,\r\n  setCookies,\r\n  todayDate,\r\n} from \"../../utils\";\r\nimport {\r\n  getSummary,\r\n  getVoucherList,\r\n  saveCodBooking,\r\n  setSaveBookingResponseToEmpty,\r\n  HoldPayment,\r\n  setHoldPaymentResponseToEmpty,\r\n  setCreateBookingResponseToEmpty,\r\n  SalesOrderSummary,\r\n  Getinvoice,\r\n  applyDiscountCode,\r\n  applyDiscountCodeObjectEmpty\r\n} from \"../../redux/actions/summaryPageActions\";\r\nimport { getCardList } from \"../../redux/actions/paymentDetailsPageActions\";\r\nimport history from \"../../history\";\r\nimport { voucherParser } from \"../../parsers\";\r\nimport {  createBooking } from '../../redux/actions/summaryPageActions';\r\n//scss \r\nimport \"./SummaryPage.scss\";\r\nimport { capturePaymenFetch, oneTimeCapture, oneTimeHoldPayment } from \"../../Webviews/ThreedsStatusWebviewAndroid/action\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { GetVoucherByServiceId } from \"../../redux/actions/servicesVocuhersPageActions\";\r\nimport { FAEImage } from \"@findanexpert-fae/components/dist/stories/FAEImage/FAEImage\";\r\nimport { useMemo } from \"react\";\r\n\r\nconst loaderImage = getFileSrcFromPublicFolder(\"loader.GIF\");\r\nconst loaderApply = getFileSrcFromPublicFolder(\"loader_forcomponent.svg\");\r\nconst SummaryPage = ({\r\n  summary=[],\r\n  getSummary,\r\n  error,\r\n  loading,\r\n  getCardList,\r\n  cardList,\r\n  saveBooking,\r\n  setSaveBookingResponseToEmpty,\r\n  setHoldPaymentResponseToEmpty,\r\n  setCreateBookingResponseToEmpty,\r\n  saveBookingResponse,\r\n  userCountryId, \r\n  userCountry,\r\n  getVoucherList,\r\n  voucherList,\r\n  userCurrencyCode,\r\n  defaultCardId,\r\n  HoldPayment,\r\n  holdpaymentData=[],\r\n  saveCodBooking,\r\n  createBooking,\r\n  createBookingResp,\r\n  GetVoucherByServiceId,\r\n  summaryvoucher=[],\r\n  SalesOrderSummary,\r\n  Getinvoice,\r\n  salesOrder,\r\n  applyDiscountCode,\r\n  discountPayload={},\r\n  disocuntLoading,\r\n  applyDiscountCodeObjectEmpty\r\n}) => {\r\n  const email = getCookies(\"customer_details\").email;\r\n  const [Loader, setLoader]= useState(loading)\r\n  const location = useLocation();\r\n  const { state, pathname } = location; \r\n  const {LinkUserCountry,LinkUserCountryId, serviceId, cartId, bookingId, freeConsultation, selectedSessions, providerId } = state;\r\n    if(LinkUserCountry !==undefined && LinkUserCountry !==null && LinkUserCountry !==false){\r\n       userCountry=LinkUserCountry\r\n       userCountryId= LinkUserCountryId\r\n     } \r\n  const [paymentMethod, setPaymentMethod] = useState(\"\");\r\n  const [selectedCard, setSelectedCard] = useState(\"\");\r\n  const [open, setOpen] = useState(false);\r\n  const [status, setStatus] = useState(false);\r\n  const [content, setContent] = useState(\"\");\r\n  const [code, setCode] = useState(\"\");\r\n  const [discountCodeClicked, setdiscountCodeClicked] = useState(false);\r\n  const [discountCode, setDiscountCode]=useState(\"\")\r\n  const [useDiscountCodeIcon,  setUseDiscountCode]=useState(false)\r\n  const [popupBtnName, setPopupBtnName]=useState(\"Ok\")\r\n  const {\r\n    address, \r\n    price,\r\n    totalAmount,\r\n    serviceName,\r\n    bookingDate,\r\n    bookingTime,\r\n    percentageDiscount,\r\n    currencySymbol,\r\n    referralDiscount,\r\n    voucherCode,\r\n    voucherDiscount,\r\n    duration,\r\n    trainingEndDate, \r\n    trainingStartDate,\r\n    trainingStartTime,\r\n    isTraining,\r\n    description,\r\n    session,\r\n    isReferralReceiver, \r\n  } = summary;  \r\n  useEffect(()=>{\r\n         GetVoucherByServiceId(getCookies(\"userId\"), serviceId);\r\n  }, []) \r\n  useEffect(() => {\r\n    if (userCountry !== \"\") {\r\n      userCountry === \"PK\"\r\n        ? setPaymentMethod(\"cash\")\r\n        : setPaymentMethod(\"card\");\r\n    }\r\n  }, [userCountry]); \r\n\r\n  useEffect(() => {\r\n    getSummary({\r\n      serviceId,\r\n      cartId,\r\n      voucherCode: summaryvoucher?.vouchers?.length ==1 ?  summaryvoucher?.vouchers[0]?.voucherCode : code,\r\n      userId: getCookies(\"userId\"),\r\n      isFreeConsultation: freeConsultation,\r\n      selectedSessions:0,\r\n      countryId:1,\r\n      isTraining:true,\r\n      is_service:false,  \r\n     });\r\n    SalesOrderSummary({tempBookingId: bookingId, cartId:cartId, userId: JSON.parse(getCookies(\"userId\"))}) \r\n    getVoucherList({ serviceId, userId: getCookies(\"userId\") }); \r\n  }, [cartId, getSummary, getVoucherList, serviceId]);\r\n  document.title = `Chelsford | ${serviceName} - Summary`; \r\n\r\n  useEffect(() => {\r\n    if (paymentMethod !== \"\" && paymentMethod === \"card\") {\r\n      getCardList(email);\r\n    }\r\n  }, [email, getCardList, paymentMethod]);\r\n\r\n  useEffect(() => {\r\n    setSelectedCard(defaultCardId ?? \"\");\r\n  }, [defaultCardId]);\r\n  const defaultPaymentMethodId= cardList?.filter((card) => card?.defaultPaymentMethod ==true)\r\n\r\n  // handle click on confirm booking button \r\n  const  handleSaveBooking =(e)=>{\r\n    setLoader(true)\r\n    applyDiscountCodeObjectEmpty() \r\n    if((defaultPaymentMethodId[0]?.id ==\"\" ||  defaultPaymentMethodId[0]?.id ==null ||  defaultPaymentMethodId[0]?.id ==undefined) && userCountryId !==171){\r\n      setContent(\"Please select or add your payment card.\");\r\n      setOpen(true);\r\n      setPopupBtnName(\"Select Card\") \r\n      return\r\n    } \r\n        if (freeConsultation) { \r\n            saveCodBooking({\r\n              email,\r\n              bookingId,\r\n              isTreatmentOfferUsed: false,\r\n              isReferralUsed: false,\r\n              paymentAmount: 0,\r\n              stripePaymentMethodId: \"Cash\",\r\n              userCountryId,\r\n              cartId,\r\n              voucherCode,\r\n              selectedSessions,\r\n            });\r\n        } else {\r\n          Getinvoice({ \r\n            salesOrderNumber:salesOrder?.salesOrders?.salesOrderNumber,\r\n            cartId:cartId,\r\n            bookingId:bookingId,\r\n            userId:JSON.parse(getCookies(\"userId\")),\r\n            // provider id 0 bcoz sajid said it's optional\r\n            providerId:0 \r\n          })\r\n          bookingId == \"\" ? alert(\"Booking Id can't be empty\"): \r\n          paymentMethod === \"cash\"  ?  \r\n          saveCodBooking({\r\n                  email,\r\n                  bookingId,\r\n                  isTreatmentOfferUsed: false,\r\n                  isReferralUsed: false,\r\n                  paymentAmount: totalAmount,\r\n                  stripePaymentMethodId: \"Cash\",\r\n                  userCountryId,\r\n                  cartId,\r\n                  voucherCode,\r\n                  selectedSessions,\r\n                  userCurrencyCode,\r\n              })\r\n            : HoldPayment({\r\n                  paymentAmount:totalAmount,\r\n                  stripePaymentMethodId: defaultPaymentMethodId[0]?.id,\r\n                  bookingId, \r\n                  cartId, \r\n                  userCurrencyCode, \r\n                  email, \r\n                  userId:getCookies(\"userId\")  \r\n            }) &&  setStatus(true) \r\n        }   \r\n   } \r\n\r\n  useEffect( async() => {  \r\n    const {message, reason, redirectUrl, returnUrl, setupIntentResponseDetail} = holdpaymentData;\r\n     const {transactionId,paymentMethodId}=setupIntentResponseDetail?setupIntentResponseDetail:{}\r\n    if (!objectIsEmpty(holdpaymentData)) {\r\n     if(holdpaymentData?.error !== true && holdpaymentData.code==0) {\r\n      setLoader(true)\r\n      applyDiscountCodeObjectEmpty()\r\n       capturePaymenFetch({\r\n            cartId,\r\n            paymentAmount:totalAmount,\r\n            stripePaymentMethodId:paymentMethodId,\r\n            userCountryId:userCountryId !==\"\"? userCountryId:getCookies(\"switched_id\"), \r\n            bookingId:bookingId, \r\n            voucherCode:code, \r\n            userCurrencyCode,\r\n            transactionId:transactionId,\r\n            userId:getCookies(\"userId\") \r\n          }).then((res)=>{ \r\n           \r\n            if(res?.error !==true && res?.statusCode !==1){\r\n              \r\n                  createBooking({\r\n                    trainingStartTime,\r\n                    trainingStartDate,\r\n                    amount :totalAmount,\r\n                    cartId :cartId,\r\n                    chargeId : res?.setupIntentResponseDetail?.chargeId,\r\n                    distance :20,\r\n                    isCaptured :true, \r\n                    isReferralReceiver :isReferralReceiver,\r\n                    latitude : `${state?.latitude}` ,\r\n                    longitude : `${state?.longitude}` ,\r\n                    numberOfSessions :session,\r\n                    providerIds : providerId ,\r\n                    referralBonusUsed :false,\r\n                    userId :JSON.parse(getCookies(\"userId\")),\r\n                    voucherCode :code,\r\n                    serviceVenu: state.isInClinic ? 2:1,\r\n                    bookingDate:bookingDate,\r\n                    bookingTime:bookingTime,\r\n                    duration:duration,\r\n                    serviceId:serviceId,\r\n                  })   \r\n               } else{\r\n                FAEToaster({\r\n                  toaster:\"error\",\r\n                  message:res.message, \r\n                })\r\n               }\r\n             }) \r\n          } if (holdpaymentData?.error !== true && holdpaymentData.code==10) { \r\n           await Getinvoice({ \r\n                  salesOrderNumber:salesOrder?.salesOrders?.salesOrderNumber,\r\n                  cartId:cartId,\r\n                  bookingId:bookingId,\r\n                  userId:JSON.parse(getCookies(\"userId\")),\r\n                  providerId:0 \r\n              })\r\n            await setCookies('summary_detail', {isInClinic:state.isInClinic,trainingStartTime, trainingStartDate, bookingTime: isTraining ? trainingStartTime : bookingTime, bookingDate: isTraining ? trainingStartDate : bookingDate, serviceName,  currencySymbol:currencySymbol, isReferralReceiver:isReferralReceiver, selectedSessions:selectedSessions, latitude: state?.latitude,  longitude:state?.longitude, UbookingId:bookingId,totalAmount:totalAmount, returnUrl:returnUrl, Vouchercode:code, availableProviderId:providerId,  paymentMethod: paymentMethodId\r\n              ,duration:duration, serviceId:serviceId,  })\r\n           await   window.location.assign(`${redirectUrl}`);\r\n          } else if (holdpaymentData?.error == true && holdpaymentData.code==1) {\r\n            setContent(message);\r\n            setOpen(true);\r\n          }\r\n        } \r\n      return ()=>{    \r\n        setSaveBookingResponseToEmpty();\r\n        setCreateBookingResponseToEmpty();\r\n        setHoldPaymentResponseToEmpty(); \r\n      } \r\n  }, [\r\n     holdpaymentData,\r\n    //  createBookingResp,\r\n     status\r\n  ]);  \r\n\r\n  // do send to thank page\r\n  useEffect(()=>{  \r\n  if(!objectIsEmpty(createBookingResp)){\r\n    if( createBookingResp.code==0 && createBookingResp.error==false){\r\n      history.push({\r\n        pathname: \"/thank-you-for-booking\",\r\n        state: {\r\n            message: createBookingResp?.message,\r\n            bookingTime: isTraining ? trainingStartTime : bookingTime,\r\n            bookingDate: isTraining ? trainingStartDate : bookingDate,\r\n            serviceName,\r\n            bookingId: bookingId,\r\n            cartid:cartId\r\n        },\r\n      }); \r\n     } else {\r\n      FAEToaster({\r\n        toaster:\"error\",\r\n        message:createBookingResp?.message, \r\n      }) \r\n     }\r\n   }\r\n   return ()=>{ \r\n    setSaveBookingResponseToEmpty();\r\n    setCreateBookingResponseToEmpty();\r\n    setHoldPaymentResponseToEmpty(); \r\n  } \r\n  },[createBookingResp.code])\r\n\r\n  const profileFormParser = (data) => {\r\n    const parsedData =  data?.map(({ voucherCode }) => ({\r\n      value: `${voucherCode}`,\r\n      label: voucherCode,\r\n    }));\r\n    return parsedData;\r\n  };\r\n\r\n  \r\n\r\n// useEffect(()=>{\r\n//   if(voucherDiscount !== 0){\r\n//     FAEToaster({message:\"Voucher code applied successfuly.\", toaster:\"success\"}) \r\n//   } \r\n// }, [voucherDiscount])\r\n\r\n// apply voucher code \r\nconst applyVoucherCode=  ()=>{\r\n     setDiscountCode(\"\");\r\n      applyDiscountCodeObjectEmpty();\r\n      getSummary({\r\n        serviceId,\r\n        cartId,\r\n        voucherCode: code,\r\n        userId: getCookies(\"userId\"),\r\n        isFreeConsultation: freeConsultation,\r\n        selectedSessions,\r\n      })\r\n  } \r\n//  apply discount code \r\n const handleDisocuntCode = async ()=>{\r\n   await applyDiscountCodeObjectEmpty();\r\n   setUseDiscountCode(false)\r\n   await applyDiscountCode({\r\n      userid:getCookies(\"userId\"),\r\n      serviceid:serviceId,\r\n      discountcode:discountCode,\r\n      currentdate:todayDate,\r\n      countryid:userCountryId,\r\n      numberofsession:selectedSessions,\r\n      referraldiscount:referralDiscount \r\n    })\r\n   await setdiscountCodeClicked(!discountCodeClicked) \r\n }\r\n \r\n useEffect(()=>{ \r\n  if(!objectIsEmpty(discountPayload)){\r\n      if(!discountPayload?.error){ \r\n        getSummary({\r\n          serviceId,\r\n          cartId,\r\n          voucherCode: \"\",\r\n          userId: getCookies(\"userId\"),\r\n          isFreeConsultation: freeConsultation,\r\n          selectedSessions,  \r\n          discountCodeResp: discountCode,\r\n          discountCodeAmount: discountPayload?.discountCodeAmount,\r\n        })  \r\n        if(discountPayload?.message==\"Success\"){ \r\n          FAEToaster({message:\"Your Discount code applied successfuly.\", toaster:\"success\"}) \r\n        } else {\r\n           FAEToaster({message:discountPayload?.message, toaster:\"success\"}) \r\n        }\r\n        setUseDiscountCode(\"true\")\r\n   } else if(discountPayload?.error) { \r\n     FAEToaster({message:discountPayload?.message, toaster:\"error\"})\r\n     setUseDiscountCode(\"false\")\r\n   } \r\n    return ()=> applyDiscountCodeObjectEmpty();\r\n  } \r\n }, [discountPayload?.error, discountCodeClicked])\r\n \r\n\r\n  return (\r\n    <>\r\n      <div className=\"random-design-container dpt dpb\">\r\n        {Loader && (\r\n          <FAELoading type=\"svg\" loaderImage={loaderImage} height=\"400px\" />\r\n        )}\r\n        {!Loader && (\r\n          <>\r\n            <FAETitle\r\n              label={serviceName}\r\n              logo={getFileSrcFromPublicFolder(\"title_logo.svg\")}\r\n            />\r\n            {/* <FAEText bold>Please check your summary details</FAEText> */}\r\n            <div className=\"details-and-method-container\">\r\n              <FAEText subHeading>\r\n                <span className=\"red-text\">Service</span> Details\r\n              </FAEText>\r\n              {(code !==\"\" && voucherDiscount !== 0) && \r\n                   <div className=\"fae-success-sum\">\r\n                     <div>Vocher applied </div> <FAEImage className=\"fae-success-sum-icon\" placeholder={getFileSrcFromPublicFolder(\"icon-placeholder.png\")}  \r\n                      src={getFileSrcFromPublicFolder(\"success.png\" )}/>\r\n                   </div>\r\n                   }\r\n              <FAEShadowBox primary padding className=\"fae--summary-wrapper\">\r\n                <div className=\"summary-page-each-info-unit line-break\">\r\n                  <div>\r\n                    <FAEText\r\n                      tertiary\r\n                      paragraph\r\n                      className=\"summary-info-headers\"\r\n                      bold\r\n                    >\r\n                      Service Name\r\n                    </FAEText>\r\n                    <FAEText className=\"summary-info-text \">\r\n                      {serviceName}\r\n                    </FAEText>\r\n                  </div>\r\n                  <FAEText className=\"summary-info-text \">\r\n                    {currencySymbol}\r\n                    {price}\r\n                  </FAEText>\r\n                </div>\r\n\r\n                <div className=\"summary-page-each-info-unit line-break\">\r\n                  <div>\r\n                    <FAEText\r\n                      tertiary\r\n                      paragraph\r\n                      className=\"summary-info-headers\"\r\n                    >\r\n                      Date and Time\r\n                    </FAEText>\r\n                    <FAEText className=\"summary-info-text\">\r\n                      {isTraining\r\n                        ? `${trainingStartDate} - ${trainingEndDate}`\r\n                        : bookingDate}\r\n                    </FAEText>\r\n                  </div>\r\n                  <FAEText className=\"summary-info-text\">\r\n                    {isTraining ? `${trainingStartTime?.split(\":\")[0]} : ${trainingStartTime?.split(\":\")[1]}` : bookingTime}\r\n                  </FAEText>\r\n                </div>\r\n\r\n                {session !== 0 && (\r\n                  <div className=\"summary-page-each-info-unit line-break\">\r\n                    <div>\r\n                      <FAEText\r\n                        tertiary\r\n                        paragraph\r\n                        className=\"summary-info-headers\"\r\n                      >\r\n                        No. Of Sessions\r\n                      </FAEText>\r\n                      <FAEText className=\"summary-info-text\">{session}</FAEText>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"summary-page-each-info-unit line-break\">\r\n                  <div>\r\n                    <FAEText\r\n                      tertiary\r\n                      paragraph\r\n                      className=\"summary-info-headers\"\r\n                    >\r\n                      Location\r\n                    </FAEText>\r\n                    <FAEText className=\"summary-info-text\">\r\n                      {summary.location}\r\n                    </FAEText>\r\n                  </div>\r\n                  {!isTraining && (\r\n                    <div>\r\n                      <FAEText\r\n                        tertiary\r\n                        paragraph\r\n                        className=\"summary-info-headers\"\r\n                      >\r\n                        Duration\r\n                      </FAEText>\r\n                      <FAEText className=\"summary-info-text\">\r\n                        {duration} min(s)\r\n                      </FAEText>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {isTraining && (\r\n                  <div className=\"summary-page-each-info-unit line-break\">\r\n                    <div>\r\n                      <FAEText\r\n                        tertiary\r\n                        paragraph\r\n                        className=\"summary-info-headers\"\r\n                      >\r\n                        Description\r\n                      </FAEText>\r\n                      <FAEText className=\"summary-info-text\">\r\n                        {description}\r\n                      </FAEText>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* <div className=\"summary-page-each-info-unit\">\r\n                  <div>\r\n                    <FAEText\r\n                      tertiary\r\n                      paragraph\r\n                      className=\"summary-info-headers\">\r\n                      Address\r\n                    </FAEText>\r\n                    <FAEText className=\"summary-info-text\">{address}</FAEText>\r\n                  </div>\r\n                </div>  */}\r\n              </FAEShadowBox>\r\n            </div>\r\n\r\n            {!freeConsultation && (\r\n              <div className=\"details-and-method-container payment-details\">\r\n                <FAEText subHeading>\r\n                  <span className=\"red-text\">Payment</span> Details\r\n                </FAEText>\r\n                  <FAEShadowBox\r\n                    primary\r\n                    padding\r\n                    className=\"details-and-method-wrapper-body\"\r\n                    >\r\n                    <div className=\"summary-page-each-info-unit\">\r\n                      <FAEText tertiary>Price</FAEText>\r\n                      <FAEText className=\"summary-info-text\" tertiary>\r\n                        {currencySymbol}\r\n                        {price}\r\n                      </FAEText>\r\n                    </div>\r\n                  <div className=\"summary-page-each-info-unit\">\r\n                    <FAEText tertiary>Discount</FAEText>\r\n                    <FAEText className=\"summary-info-text\" tertiary>\r\n                      {currencySymbol}\r\n                      {percentageDiscount}\r\n                    </FAEText>\r\n                  </div>\r\n                  { (loading ==false && (discountPayload?.discountCodeAmount &&  discountPayload?.discountCodeAmount !==0)) ?\r\n                    <div className=\"summary-page-each-info-unit\">\r\n                    <FAEText tertiary>Discount Code Amount </FAEText>\r\n                    <FAEText className=\"summary-info-text\" tertiary>\r\n                      {currencySymbol}\r\n                      {discountPayload?.discountCodeAmount}\r\n                    </FAEText>\r\n                  </div> :\"\"\r\n                  }\r\n                  {referralDiscount !== 0 && (\r\n                    <div className=\"summary-page-each-info-unit\">\r\n                      <FAEText tertiary>Referral Bonus</FAEText>\r\n                      <FAEText className=\"summary-info-text\" tertiary>\r\n                        {currencySymbol}\r\n                        {referralDiscount}\r\n                      </FAEText>\r\n                    </div>\r\n                  )}\r\n                  {voucherDiscount !== 0 && (\r\n                    <div className=\"summary-page-each-info-unit\">\r\n                      <FAEText tertiary>Voucher Discount</FAEText>\r\n                      <FAEText className=\"summary-info-text\" tertiary>\r\n                        {currencySymbol}\r\n                        {voucherDiscount}\r\n                      </FAEText>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"summary-page-each-info-unit top-line-break\">\r\n                    <FAEText className=\"summary-sub-total\">Subtotal</FAEText>\r\n                    <FAEText className=\"summary-sub-total\">\r\n                      {currencySymbol}\r\n                      {totalAmount}\r\n                    </FAEText>\r\n                  </div>\r\n                </FAEShadowBox>\r\n              </div>\r\n            )}\r\n            {/* vocher section  */}\r\n             {/* {!freeConsultation && voucherDiscount === 0 && (\r\n              <div className=\"details-and-method-container payment-details\">\r\n                <FAEText subHeading>\r\n                  <span className=\"red-text\">Expert</span> Voucher\r\n                </FAEText>\r\n                <FAEShadowBox primary padding className=\"voucher-body-wrapper\">\r\n                  {voucherList.length !== 0 && (\r\n                    <FAESelect\r\n                      shadowBoxProps={{\r\n                        className: \"summary-voucher-field\",\r\n                      }}\r\n                      values={voucherParser(voucherList)}\r\n                      getSelectedValue={(value) => setCode(value)}\r\n                      value={code}\r\n                    />\r\n                  )} \r\n                   {(  summaryvoucher?.vouchers?.length >1) ? (\r\n                      <FAESelect\r\n                          label={\"Voucher Code\"}\r\n                          primary\r\n                          shadowBoxProps={{\r\n                            className: \"fae--voucher-field\",\r\n                          }}  \r\n                          values={profileFormParser(summaryvoucher?.vouchers)}\r\n                          getSelectedValue={setCode}\r\n                          value={code}\r\n                        />) : (\r\n                                <FAETextField\r\n                                  className=\"fae--discount-field\"\r\n                                  label={\"Voucher Code\"}\r\n                                  placeholder={\"Please enter voucher code\"}\r\n                                  primary\r\n                                  value={summaryvoucher?.length !==0 &&  (summaryvoucher?.vouchers[0]?.voucherCode !==\"\" && summaryvoucher?.vouchers[0]?.voucherCode !==undefined && summaryvoucher?.vouchers[0]?.voucherCode !==null) ? summaryvoucher?.vouchers[0]?.voucherCode :code} \r\n                                  type={\"text\"} \r\n                                  errorMessage={\"errorMessage\"}\r\n                                  getValue={(value) =>\r\n                                    setCode(value)\r\n                                  }\r\n                                  shadowBoxProps={{\r\n                                    className: \"fae--edit-profile-page-field\",\r\n                                  }} \r\n                              />\r\n                       )}\r\n                     {code !==\"\" && <FAEButton\r\n                        onClick={() =>\r\n                        code.length > 1 &&\r\n                         applyVoucherCode()\r\n                        }>\r\n                         Apply Voucher\r\n                      </FAEButton>\r\n                     }\r\n                </FAEShadowBox>\r\n              </div>\r\n            )}  */}\r\n            \r\n            {/* discount section  */}\r\n            {/* <div className=\"details-and-method-container payment-details\">\r\n                <FAEText subHeading>\r\n                  <span className=\"red-text\">Expert</span> Discount\r\n                </FAEText>\r\n                <FAEShadowBox primary padding className=\"voucher-body-wrapper\">\r\n                  \r\n                  <FAETextField\r\n                        className=\"fae--discount-field\"\r\n                        label={\"Discount Code\"}\r\n                        placeholder={\"Please enter discount code\"}\r\n                        primary\r\n                        value={discountCode} \r\n                        type={\"text\"} \r\n                        errorMessage={\"errorMessage\"}\r\n                        getValue={(value) =>\r\n                          setDiscountCode(value)\r\n                        }\r\n                        shadowBoxProps={{\r\n                          className: \"fae--edit-profile-page-field\",\r\n                        }} \r\n                    />{ \r\n                       !disocuntLoading ?\r\n                       <div>\r\n                          <FAEButton\r\n                             onClick={handleDisocuntCode}  >\r\n                             Apply Discount\r\n                        </FAEButton>\r\n                        <span className=\"discount-code-icon\">\r\n                          {console.log(discountPayload?.maxLimit, 'discountPayload?.maxLimit')}\r\n                           {(useDiscountCodeIcon !==false && discountPayload?.maxLimit>0) && <FAEImage placeholder={getFileSrcFromPublicFolder(\"icon-placeholder.png\")}  src={getFileSrcFromPublicFolder(useDiscountCodeIcon ==\"true\"? \"success.png\" : useDiscountCodeIcon ==\"false\" && \"failed-icon.png\")} />}\r\n                        </span>\r\n                         <FAEText>{ (useDiscountCodeIcon !==false &&  useDiscountCodeIcon ==\"true\" )?( discountPayload?.maxLimit>0? `Maximum discount limit is ${currencySymbol}${discountPayload?.maxLimit}`: \" \"):\"\"} </FAEText>\r\n                       </div>\r\n                      :\r\n                     <div>\r\n                        <FAELoading type=\"svg\" loaderImage={\"/assets/images/loader_forcomponent.svg\"} /> \r\n                      </div>\r\n                    } \r\n                  </FAEShadowBox>\r\n             </div> */}\r\n \r\n            {/* {!freeConsultation && (\r\n              <div className=\"details-and-method-container payment-details\">\r\n                <FAEText subHeading>\r\n                  <span className=\"red-text\">Payment</span> Method\r\n                </FAEText>\r\n                <FAEShadowBox\r\n                  padding\r\n                  primary\r\n                  className=\"details-and-method-wrapper-body\"\r\n                >\r\n                  <div style={{ width: \"100%\" }}>\r\n                    <FAERadioGroup\r\n                      values={[\r\n                        {\r\n                          value: userCountry === \"PK\" ? \"cash\" : \"card\",\r\n                          label: userCountry === \"PK\" ? \"Cash on Delivery\" : \"Card\",\r\n                        },\r\n                      ]}\r\n                      value={paymentMethod}\r\n                      getSelectedValue={(value) => setPaymentMethod(value)}\r\n                      direction=\"vertical\"\r\n                    />\r\n                  </div>\r\n                </FAEShadowBox>\r\n              </div>\r\n            )} */}\r\n\r\n            {paymentMethod == \"card\" && (\r\n              <div className=\"details-and-method-container payment-details\">\r\n                <FAEText subHeading>\r\n                  <span className=\"red-text\">Payment</span> Information\r\n                </FAEText>\r\n                <FAEShadowBox\r\n                  padding\r\n                  primary\r\n                  className=\"details-and-method-wrapper-body\" >\r\n                  <div className=\"voucher-body-wrapper\">\r\n                    <div\r\n                      style={{\r\n                        width: \"90%\",\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-between\",\r\n                        alignItems: \"center\",\r\n                        borderBottom: \"0.5px solid rgba(237, 237, 237, 1)\",\r\n                        paddingBottom: \"10px\",\r\n                        cursor: \"pointer\",\r\n                      }}\r\n                      onClick={() =>\r\n                        history.push({\r\n                          pathname: \"/payment-details\",\r\n                          state: { ...state, redirectedUrl: pathname },\r\n                        })\r\n                      }\r\n                    >\r\n                      <div>\r\n                        <FAEText tertiary paragraph>\r\n                          Payment Method\r\n                        </FAEText>\r\n                        {cardList?.length ==0  ?\r\n                        <FAEText className=\"fae--payment-details-card-bar red-text\">\r\n                          Please add Credit or Debit Card\r\n                        </FAEText>\r\n                        :\r\n                        <FAEText className=\"fae--payment-details-card-bar\">\r\n                          Credit or Debit Card\r\n                        </FAEText>\r\n                        }\r\n                      </div>\r\n                       {cardList?.length !==0  && \r\n                          <FAEText   tertiary>\r\n                            {\"Change Payment ->\"}\r\n                          </FAEText>\r\n                        }\r\n                    </div>\r\n                    {Children.toArray(\r\n                      cardList?.map((card) => {\r\n                        const {\r\n                          id,\r\n                          card: { last4, brand },\r\n                          defaultPaymentMethod\r\n                        } = card;\r\n                        return (\r\n                          defaultPaymentMethod && (\r\n                            <div style={{ width: \"90%\" }}>\r\n                              <FAEText tertiary paragraph>\r\n                                {brand.toUpperCase()} Card\r\n                              </FAEText>\r\n                              <FAEText className=\"fae--payment-details-card-bar\">\r\n                                {last4.padStart(16, \"*\")}\r\n                              </FAEText>\r\n                              {/* <FAEText paragraph secondary>\r\n                                Expires: {exp_month}/{exp_year}\r\n                              </FAEText> */}\r\n                            </div>\r\n                          )\r\n                        );\r\n                      })\r\n                    )}\r\n                    {/* <FAERadioGroup\r\n                      values={cardListParser(cardList)}\r\n                      getSelectedValue={(value) => setSelectedCard(value)}\r\n                      direction=\"vertical\"\r\n                      value={selectedCard}\r\n                    /> */}\r\n                    {/* <FAEButton\r\n                      onClick={() =>\r\n                        history.push({\r\n                          pathname: \"/payment-details/add-card\",\r\n                          state: { ...state, redirectedUrl: pathname },\r\n                        })\r\n                      }\r\n                    >\r\n                      Add Card\r\n                    </FAEButton> */}\r\n                  </div>\r\n                </FAEShadowBox>\r\n              </div>\r\n            )}\r\n           <br/>\r\n            {!freeConsultation ? (\r\n              paymentMethod === \"cash\" || selectedCard !== \"\" ? (\r\n                cardList?.length ==0 ?\r\n                    <FAEButton\r\n                      onClick={() =>\r\n                        history.push({\r\n                          pathname: \"/payment-details/add-card\",\r\n                          state: { ...state, redirectedUrl: pathname },\r\n                        }) }>\r\n                      Confirm Booking\r\n                    </FAEButton>   \r\n                :\r\n                <FAEButton onClick={handleSaveBooking}>\r\n                  Confirm Booking\r\n                </FAEButton>\r\n              ) : (\r\n                \"\"\r\n              )\r\n            ) : (\r\n              <FAEButton onClick={handleSaveBooking}>\r\n                Book Free Consultation\r\n              </FAEButton>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n      <FAEDialogueBox\r\n        open={open}\r\n        content={content}\r\n        buttons={[\r\n          {\r\n            label: popupBtnName,\r\n            onClick: () => {\r\n              popupBtnName ===\"Select Card\" ? history.push({\r\n                pathname: \"/payment-details\",\r\n                state: { ...state, redirectedUrl: pathname },\r\n              })\r\n              :\r\n               setLoader(false)\r\n               setOpen(false);\r\n            },\r\n          },\r\n        ]}\r\n      />\r\n      <ToastContainer/>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({\r\n  summaryPageReducer: {\r\n    error,\r\n    loading,\r\n    summary,\r\n    saveBookingResponse,\r\n    voucherList,\r\n    holdpaymentData,\r\n    createBookingResp,\r\n    salesOrder,\r\n    discountPayload,\r\n    disocuntLoading\r\n  },\r\n  paymentDetailsPageReducer: { cardList, defaultCardId },\r\n  defaultReducer: { userCountryId, userCountry, userCurrencyCode },\r\n  servicesVouchersPageReducer:{summaryvoucher} \r\n  \r\n}) => ({\r\n  error,\r\n  loading,\r\n  summary,\r\n  cardList,\r\n  saveBookingResponse,\r\n  userCountryId,\r\n  userCountry,\r\n  voucherList,\r\n  userCurrencyCode,\r\n  defaultCardId,\r\n  holdpaymentData,\r\n  createBookingResp,\r\n  summaryvoucher,\r\n  salesOrder,\r\n  discountPayload,\r\n  disocuntLoading\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      getSummary,\r\n      getCardList, \r\n      setSaveBookingResponseToEmpty,\r\n      setHoldPaymentResponseToEmpty,\r\n      setCreateBookingResponseToEmpty,\r\n      saveCodBooking,\r\n      getVoucherList,\r\n      HoldPayment,\r\n      createBooking,\r\n      GetVoucherByServiceId,\r\n      Getinvoice,\r\n      SalesOrderSummary,  \r\n      applyDiscountCode,\r\n      applyDiscountCodeObjectEmpty\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SummaryPage);\r\n"],"sourceRoot":""}