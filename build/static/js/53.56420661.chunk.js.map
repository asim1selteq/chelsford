{"version":3,"sources":["../node_modules/@material-ui/icons/ShoppingCartOutlined.js","Pages/ProductListPage/ProductListPage.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","ProductListPage","_location$state","_cartProduct$allProdu","_location$state2","_location$state2$book","dispatch","useDispatch","reduxProducts","useSelector","state","products","productsReducer","productsList","categoryList","allCategoryList","_useState","useState","undefined","id","_useState2","_slicedToArray","setstate","_useState3","_useState4","productQuantiry","setProductQuantity","_useState5","_useState6","flag","setFlag","location","useLocation","service","useParams","useEffect","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","getAllCategoryList","stop","_callee2","_context2","getProductsCart","getCartid","getAllProducts","cartHandler","_ref3","_callee3","productID","cartId","isDeleted","_context3","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","addToCart","cartProduct","addedToCart","message","t0","sent","success","_x","_x2","_x3","apply","arguments","handleCategory","_ref4","_callee4","_context4","_x4","saveStateToNext","loaderImage","getFileSrcFromPublicFolder","placeholderImage","history","push","_jsxs","children","loading","_jsx","FAELoading","type","height","_Fragment","className","length","map","item","index","FAEButton","onClick","name","pathname","productcartId","savedAttributState","ShoppingCartOutlinedIcon","allProductCart","FAEText","bold","bookingName","replace","product","FAEProductCard","src","imagePath","label","shortDescription","description","discountedPrice","flatDiscount","price","currencySymbol","primary","hasProductAttributes","alt","placeholder","textOnImage","percentageDiscount","concat","textPosition","noOfProductsAdded","quantity","productid","productisDeleted","bookingId","getQuantityOfProducts","e","preventDefault","_objectSpread","ToastContainer"],"mappings":"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","file":"static/js/53.56420661.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z\"\n}), 'ShoppingCartOutlined');\n\nexports.default = _default;","// libarary\r\nimport React, { useEffect, useState } from 'react'\r\n// Third party library \r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {  useLocation, useParams} from 'react-router-dom';\r\nimport { ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css'; \r\nimport ShoppingCartOutlinedIcon from '@material-ui/icons/ShoppingCartOutlined';\r\n// Expert Components \r\nimport './ProductListPage.scss'\r\nimport { FAEText, FAEButton, FAEProductCard, FAELoading } from '@findanexpert-fae/components';\r\nimport { getFileSrcFromPublicFolder } from '../../utils';\r\nimport history from '../../history'; \r\nimport { addToCart, getAllCategoryList, getAllProducts, getProductsCart } from '../../redux/actions/productActions';\r\nimport { FAEFloatingBookingPrice } from '@findanexpert-fae/components/dist/stories/FAEFloatingBookingPrice/FAEFloatingBookingPrice';\r\n \r\nfunction ProductListPage() {\r\n   const dispatch= useDispatch()\r\n   const reduxProducts= useSelector(state=>state)\r\n   const products=reduxProducts.productsReducer.productsList\r\n   const categoryList= reduxProducts.productsReducer.allCategoryList;\r\n   const [state, setstate] = useState(categoryList[0].id == undefined ?1:categoryList[0].id);\r\n   const [productQuantiry, setProductQuantity]= useState()\r\n   const [flag, setFlag]=useState(true)\r\n   const location = useLocation();\r\n    \r\n   const { service } = useParams();\r\n    useEffect( async() => { \r\n        await dispatch(getAllCategoryList())\r\n      }, [state]);\r\n\r\n    useEffect( async() => {\r\n        await dispatch(getProductsCart(getCartid)) \r\n        await dispatch(getAllProducts( 1, 50, 1,  getCartid ))  \r\n      }, [flag]);  \r\n  \r\n   const cartHandler = async (productID, cartId, isDeleted)=>{\r\n     if(productQuantiry===0 || productQuantiry===undefined){\r\n         toast.error(`Sorry product quantity should not empty.`, {\r\n              position: \"bottom-right\",\r\n              autoClose: 5000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              draggable: true,\r\n              progress: undefined,\r\n           })\r\n       } else {\r\n          await  dispatch(addToCart(productID, cartId, productQuantiry, isDeleted))\r\n          await dispatch(getProductsCart(getCartid)) \r\n          await cartProduct.addedToCart.message===\"Success\"? toast.success(`Successfully added cart.`, {\r\n                position: \"bottom-right\",\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n          }):\r\n         toast.error(`Sorry Product not added to cart.`, {\r\n            position: \"bottom-right\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          })\r\n        setFlag(!flag)\r\n      }\r\n    } \r\n    const handleCategory =async (id)=>{\r\n       await dispatch(getAllProducts( 1, 70, id,  getCartid )) \r\n       setstate(id)\r\n    } \r\n    const goCustomizeProduct = (productid, productcartId, productisDeleted)=>{\r\n       history.push({pathname:\"/add-customize-prod-to-cart\", state:{productid:productid, productcartId:productcartId, productisDeleted:productisDeleted,  productQuantiry: productQuantiry, service:service, bookingId:location.state.bookingId}})\r\n    }\r\n    const goTo=()=>{\r\n       history.push({pathname:\"/addto-cart-list\", state:{ productcartId:getCartid,  productQuantiry: productQuantiry, service:service, savedAttributState:location}})\r\n    }\r\n    let saveStateToNext= location?.state\r\n    const submitToNext=(e)=>{  \r\n      e.preventDefault()\r\n      history.push({pathname:`/booking/${service}/summary`, state:{...saveStateToNext}})\r\n    }\r\n\r\n    const loaderImage = getFileSrcFromPublicFolder(\"loader.GIF\");\r\n    const placeholderImage = getFileSrcFromPublicFolder(\"placeholder.jpg\");\r\n    const getCartid=location?.state?.cartId \r\n    !getCartid  &&  history.push('/') \r\n    const cartProduct = reduxProducts.productsReducer \r\n  return (\r\n    <div id='fae-prodcut-list'>\r\n      {cartProduct.loading && (\r\n        <FAELoading type=\"svg\" loaderImage={loaderImage} height=\"200px\" />\r\n      )}  \r\n      {/* category section start  */}\r\n      { !cartProduct.loading &&\r\n      <>\r\n      <div className='cateogry-sec'>\r\n        {categoryList?.length && categoryList?.map((item, index)=><FAEButton onClick={()=>handleCategory(item.id)} key ={index} className={state===item.id?'active':''}>{item.name}</FAEButton>)}\r\n      </div>\r\n        { /* prodcut list header */ }\r\n        <div className=\"product-list-header\">\r\n            <div onClick={goTo}><span><ShoppingCartOutlinedIcon/></span>  <span>{cartProduct?.allProductCart?.length}</span> </div>\r\n            <div><FAEText bold={true}>{location?.state?.bookingName?.replace(':', ' ')}</FAEText></div>  \r\n            <div> </div>\r\n        </div> \r\n        <ul className='product-list'>\r\n           {products?.length !==0 ? products?.map((product, index)=>\r\n            (<li key={index}>\r\n               <FAEProductCard \r\n                src={product.imagePath} \r\n                label={product.name}\r\n                shortDescription={product.description}\r\n                discountedPrice={product.flatDiscount}\r\n                price={product.price}\r\n                currencySymbol={product.currencySymbol} \r\n                primary={product.hasProductAttributes=== true?false:true } \r\n                type='img'\r\n                alt='product image' \r\n                placeholder={placeholderImage}\r\n                textOnImage={product.percentageDiscount !==0 && `${product.percentageDiscount}%`} \r\n                textPosition='np'\r\n                noOfProductsAdded = {product.quantity}  \r\n                onClick ={()=>product.hasProductAttributes=== true?goCustomizeProduct(product.id,  getCartid, product.isDeleted):cartHandler(product.id, getCartid, product.isDeleted )}\r\n                getQuantityOfProducts = {(e)=>setProductQuantity(e)} \r\n                \r\n               /> \r\n             </li> )) : <div className='fae-product-not-found' >Product Not Found.</div>}\r\n           </ul> \r\n           <FAEButton onClick={submitToNext} type=\"submit\" className=\"add-product-list-btn\"  >Next</FAEButton>  \r\n         <ToastContainer/>\r\n       </>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductListPage "],"sourceRoot":""}