{"version":3,"sources":["redux/actions/servicesVocuhersPageActions.js","Pages/ServicesVouchersDetailPage/ServicesVouchersDetailPage.js"],"names":["APP_BASE_URL","process","REACT_APP_PAYMENT_VOUCHER","REACT_APP_MARKETING","getServicesVouchers","userId","fetchAction","type","verb","headers","contentType","endpoint","concat","GetVoucherByServiceId","serviceId","GetServiceVoucherHistory","connect","_ref2","_ref2$servicesVoucher","servicesVouchersPageReducer","error","loading","servicesVouchers","dispatch","bindActionCreators","_ref","_services$services","_services$services2","state","useLocation","services","console","log","_state$services","amount","currencySymbol","serviceName","voucherCode","useEffect","_jsx","_Fragment","children","className","_jsxs","FAEImage","src","getFileSrcFromPublicFolder","length","map","eachService","FAEButton","onClick","mainServiceId","_objectSpread","serviceNameUrl","replaceSpaces","history","push","pathname","serviceHandler"],"mappings":"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","file":"static/js/55.304cf9ed.chunk.js","sourcesContent":["import { fetchAction } from \"../utils\";\r\n\r\nconst APP_BASE_URL = process.env.REACT_APP_PAYMENT_VOUCHER;\r\nconst REACT_APP_MARKETING = process.env.REACT_APP_MARKETING\r\nexport const getServicesVouchers = (userId) => {\r\n  return fetchAction({\r\n    type: \"GET_SERVICES_VOUCHERS\",\r\n    verb: \"GET\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL}/Voucher/GetActiveVoucherByUserId?id=${userId}`,\r\n  });\r\n};\r\n \r\n\r\nexport const GetVoucherByServiceId = (userId, serviceId) => {\r\n  return fetchAction({\r\n    type: \"GET_SUMMARY_VOUCHERS\",\r\n    verb: \"GET\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${REACT_APP_MARKETING}/Voucher/GetVoucherByServiceId?userId=${userId}&serviceId=${serviceId}`,\r\n  });\r\n};\r\n\r\nexport const GetServiceVoucherHistory = (userId ) => {\r\n  return fetchAction({\r\n    type: \"GET_HISTORY_VOUCHERS\",\r\n    verb: \"GET\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${REACT_APP_MARKETING}/Voucher/GetServiceVoucherHistory?userId=${userId}`,\r\n  });\r\n}; ","//libs\r\n\r\nimport { FAEButton } from \"@findanexpert-fae/components/dist/stories/FAEButton/FAEButton\";\r\nimport { FAEImage } from \"@findanexpert-fae/components/dist/stories/FAEImage/FAEImage\";\r\nimport React, { Children, useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { bindActionCreators } from \"redux\"; \r\nimport history from \"../../history\";\r\n//src\r\nimport { getServicesVouchers } from \"../../redux/actions/servicesVocuhersPageActions\";\r\nimport { addSpaces, getCookies, getFileSrcFromPublicFolder, replaceSpaces } from \"../../utils\";\r\n//scss\r\nimport \"./ServicesVouchersDetailPage.scss\";\r\n \r\nconst ServicesVouchersDetailPage = ({ \r\n  loading, \r\n  servicesVouchers\r\n}) => { \r\n  const {state}=useLocation()\r\n  const {services}= state\r\nconsole.log(state,services, 'state') \r\nconst {amount,currencySymbol, serviceName, voucherCode} =state.services\r\n\r\nuseEffect(()=>{\r\n     \r\n    // getServicesVouchers(getCookies(\"userId\"))\r\n  },[])\r\n  const serviceHandler = (serviceName, eachService) =>{ \r\n  const  mainServiceId=eachService?.mainServiceId ==0 ? eachService?.serviceId: eachService?.mainServiceId;\r\n    \r\n    console.log(eachService,  {...eachService, mainServiceId:mainServiceId }, 'eachService')\r\n    const serviceNameUrl=replaceSpaces(serviceName, \"-\")\r\n    history.push({state:{...eachService, mainServiceId:mainServiceId }, pathname :`/services/${serviceNameUrl}`})\r\n     \r\n  } \r\n  return (\r\n    <>\r\n      <div className=\"fae--services-vouchers-page-main-container\"> \r\n           <div className=\"fae-recommended-services-container\">\r\n             <FAEImage className=\"fae-voucher-detail-banner-img\" src={getFileSrcFromPublicFolder(\"service_voucher_backgorund.png\")} />\r\n              <div className=\"fae-voucher-detail-banner-stuff\">\r\n                 <div>VOUCHER CODE: {voucherCode} </div> \r\n                 <div>Price: <span className=\"fae-voucher-service-detail-price\">{amount}{currencySymbol}</span></div>  \r\n                 <div>{serviceName}</div>  \r\n              </div>\r\n              <div className=\"fae-serviceVouchers-ExpireVoucher\"><p className=\"fae--text fae-expiredvouchertext    undefined\">Recommended Services</p><p className=\"fae--text fae-resultvouchertext    undefined\">{services?.services?.length} Results found</p></div>\r\n               <div className=\"fae-recommended-services\">\r\n                {services?.services?.map((eachService)=>{\r\n                  return  (<FAEButton onClick={()=>serviceHandler(eachService.serviceName, eachService)} className=\"fae-recom-services-names\">{eachService?.serviceName}</FAEButton>)\r\n                 })}\r\n              </div>\r\n           </div> \r\n       </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({\r\n  servicesVouchersPageReducer: { error, loading, servicesVouchers },\r\n  \r\n}) => ({\r\n  error,\r\n  loading,\r\n  servicesVouchers,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators({  \r\n   }, dispatch);\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ServicesVouchersDetailPage);\r\n"],"sourceRoot":""}