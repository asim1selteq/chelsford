{"version":3,"sources":["redux/actions/sessionSelectionPageActions.js","Pages/SessionSelectionPage/SessionSelectionPage.js"],"names":["APP_BASE_URL","process","REACT_APP_BASE_URL","getServiceSessions","_ref","serviceId","userCountryId","fetchAction","type","headers","contentType","endpoint","concat","verb","connect","_ref3","_ref3$sessionSelectio","sessionSelectionPageReducer","error","loading","sessions","defaultReducer","dispatch","bindActionCreators","_ref$sessions","service","useParams","state","useLocation","serviceName","addSpaces","document","title","currencySymbol","isInClinic","isInHouse","isOnline","useEffect","handleClickSession","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","selectedSessions","discountedPrice","price","wrap","_context","prev","next","abrupt","history","push","pathname","_objectSpread","stop","_x","_x2","_x3","apply","arguments","_jsx","_Fragment","children","className","_jsxs","FAETitle","label","logo","getFileSrcFromPublicFolder","FAEText","FAELoading","loaderImage","height","Children","toArray","map","session","id","actualPrice","pricePerSession","onClick","FAEPrice"],"mappings":"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","file":"static/js/64.8320a444.chunk.js","sourcesContent":["import { fetchAction } from \"../utils\";\r\n\r\nconst APP_BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nexport const getServiceSessions = ({ serviceId, userCountryId }) => {\r\n  return fetchAction({\r\n    type: \"GET_SERVICE_SESSIONS\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL}/ServiceTypeSession/GetServiceSessionsWithPrice/${serviceId}/${userCountryId}/get`,\r\n    verb: \"GET\",\r\n  });\r\n};\r\n","//libs\r\nimport React, { Children, useEffect } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { FAETitle, FAEPrice, FAEText } from \"@findanexpert-fae/components\";\r\nimport { useLocation, useParams } from \"react-router\";\r\n\r\n//src\r\nimport { addSpaces, getFileSrcFromPublicFolder } from \"../../utils\";\r\nimport history from \"../../history\";\r\nimport { getServiceSessions } from \"../../redux/actions/sessionSelectionPageActions\";\r\n\r\n//scss\r\nimport \"./SessionSelectionPage.scss\";\r\nimport { FAELoading } from \"@findanexpert-fae/components/dist/stories/FAELoading/FAELoading\";\r\n\r\nconst SessionSelectionPage = ({\r\n  getServiceSessions,\r\n  loading,\r\n  sessions=[],\r\n  userCountryId,\r\n}) => {\r\n \r\n  const { service } = useParams();\r\n  const location = useLocation();\r\n  const { state } = location;\r\n  const serviceName = addSpaces(service, \"-\");\r\n  document.title = `Chelsford | ${serviceName} - Select Session(s)`;\r\n  const { currencySymbol, serviceId, isInClinic, isInHouse, isOnline } = state;\r\n  \r\n  useEffect(() => {\r\n    if (userCountryId !== \"\") {\r\n      getServiceSessions({ serviceId, userCountryId });\r\n    }\r\n  }, [getServiceSessions, serviceId, userCountryId]); \r\n  const handleClickSession = async (selectedSessions, discountedPrice, price) => {\r\n    return  (isInClinic && isInHouse) ||\r\n      (isOnline && isInClinic) ||\r\n      (isInHouse && isOnline)\r\n      ? history.push({\r\n          pathname: `/booking/${service}/location-selection`,\r\n          state: {\r\n            ...state,\r\n            price: discountedPrice === 0 ? price : discountedPrice,\r\n            selectedSessions,\r\n          },\r\n        })\r\n      : isOnline\r\n      ? history.push({\r\n          pathname: `/booking/${service}/attributes`,\r\n          state: {\r\n            ...state,\r\n            price: discountedPrice === 0 ? price : discountedPrice,\r\n            selectedSessions,\r\n          },\r\n        })\r\n      : isInClinic\r\n      ? history.push({\r\n          pathname: `/booking/${service}/address-selection`,\r\n          state: {\r\n            ...state,\r\n            price: discountedPrice === 0 ? price : discountedPrice,\r\n            selectedSessions,\r\n          },\r\n        })\r\n      : history.push({\r\n          pathname: `/booking/${service}/address-selection`,\r\n          state: {\r\n            ...state,\r\n            price: discountedPrice === 0 ? price : discountedPrice,\r\n            selectedSessions,\r\n          },\r\n        });\r\n  };\r\n\r\n  return (\r\n    <> \r\n      <div className=\"fae--session-selection-page-container dpt\">\r\n        <div className=\"fae--session-selection-page-wrapper\">\r\n          <FAETitle\r\n            label={serviceName}\r\n            logo={getFileSrcFromPublicFolder(\"title_logo.svg\")}\r\n          />\r\n          <FAEText>Please Choose The Session(s)</FAEText>\r\n          {loading ? (\r\n            <FAELoading\r\n              loaderImage={getFileSrcFromPublicFolder(\"loader.GIF\")}\r\n              type=\"svg\"\r\n              height=\"200px\"\r\n            />\r\n          ) : (\r\n            <div className=\"session-selection-page-table\">\r\n              <div className=\"session-selection-page-wrapper-header\">\r\n                <FAEText className=\"session-selection-page-item\">\r\n                  Number Of Session(s)\r\n                </FAEText>\r\n                <FAEText className=\"session-selection-page-item\">\r\n                  Price Per Session\r\n                </FAEText>\r\n                <FAEText className=\"session-selection-page-item\">\r\n                  Total Price\r\n                </FAEText>\r\n              </div>\r\n              {Children.toArray(\r\n                sessions?.map((session) => {\r\n                  const { id, actualPrice, discountedPrice, pricePerSession } =\r\n                    session;\r\n                  return (\r\n                    <div\r\n                      onClick={() =>\r\n                        handleClickSession(id, discountedPrice, actualPrice)\r\n                      }\r\n                      className=\"session-selection-page-wrapper\"\r\n                    >\r\n                      <div className=\"session-selection-page-item\">\r\n                        <FAEText className=\"session-selection-page-quantity\">\r\n                          {id}\r\n                        </FAEText>\r\n                      </div>\r\n                      <FAEText className=\"session-selection-page-item\">\r\n                        {currencySymbol}\r\n                        {pricePerSession}\r\n                      </FAEText>\r\n                      <FAEPrice\r\n                        className=\"session-selection-page-item\"\r\n                        currencySymbol={currencySymbol}\r\n                        price={actualPrice}\r\n                        discountedPrice={discountedPrice}\r\n                      />\r\n                    </div>\r\n                  );\r\n                })\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nconst mapStateToProps = ({\r\n  sessionSelectionPageReducer: { error, loading, sessions },\r\n  defaultReducer: { userCountryId },\r\n}) => ({\r\n  error,\r\n  loading,\r\n  sessions,\r\n  userCountryId,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      getServiceSessions,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SessionSelectionPage);\r\n"],"sourceRoot":""}