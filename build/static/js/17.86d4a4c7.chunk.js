(this["webpackJsonpfindanexpert-frontend"]=this["webpackJsonpfindanexpert-frontend"]||[]).push([[17,38],{1207:function(e,t,i){},1208:function(e,t,i){},1209:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return O}));var n=i(2),a=i(9),o=i(38),s=i(10),c=i(21),r=i(3),d=i(6),l=(i(1207),i(180)),b=i(1),u=["className","tabs","renderOption","activeTab"],j=["label","href","className","icon","svgIconSrc"],g=function(e){var t=e.className,i=void 0===t?"":t,o=e.tabs,s=void 0===o?[]:o,c=e.renderOption,g=e.activeTab,p=void 0===g?"":g,O=Object(d.a)(e,u),m=function(e){return e.toLowerCase()===p.toLowerCase()?"active-tab":""};return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",Object(r.a)(Object(r.a)({className:"fae--user-info-tabs-main-container ".concat(i)},O),{},{children:n.Children.toArray(s.map((function(e,t){var i=e.label,n=e.href,o=void 0===n?"":n,s=e.className,u=e.icon,g=e.svgIconSrc,p=Object(d.a)(e,j);return""===o?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(a.FAEText,Object(r.a)(Object(r.a)({tertiary:"active-tab"!==m(i)},p),{},{className:"fae--user-info-tab ".concat(m(i)," ").concat(s),children:[""==!g&&Object(b.jsx)(l.FAEImage,{className:"fae-sidebar-icon",src:g}),""==!u&&Object(b.jsxs)("div",{className:"fae-sidebar-icon",children:[" ",u,"  "]}),c?c(e):i]}))}):Object(b.jsx)("a",Object(r.a)(Object(r.a)({className:"fae--user-info-tab ".concat(s),target:"_blank",href:o,rel:"noreferrer"},p),{},{children:Object(b.jsx)(a.FAEText,{children:c?c(e):i})}))})))}))})},p=(i(1208),[{label:"Profile",svgIconSrc:Object(s.i)("icons/profileIcon.svg"),onClick:function(){return c.a.push("/profile")}},{label:"Your Bookings",svgIconSrc:Object(s.i)("icons/bookingGreyColor.svg"),onClick:function(){return c.a.push("/your-bookings/upcoming")}},{label:"Payment Details",svgIconSrc:Object(s.i)("icons/paymentgreyicons.svg"),onClick:function(){return c.a.push("/payment-details")}}]),O=function(e){var t,i=e.childWidth,n=e.children,c=e.paddingTop,r=Object(o.l)(),d=(t=r.pathname,p.find((function(e){return!0===Object(s.c)(t,"-").includes(e.label.toLocaleLowerCase())})).label);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"fae--user-info-page-layout-main-container",children:[Object(b.jsx)(g,{tabs:p,activeTab:d,className:"side-tabs-user-info"}),Object(b.jsx)("div",{className:"fae--user-info-page-layout-pages-data dpb ".concat(null!==c&&void 0!==c?c:""),children:Object(b.jsx)(a.FAEContainer,{className:"fae-page-classname",children:Object(b.jsxs)("div",{style:{width:null!==i&&void 0!==i?i:"100%"},children:[" ",n]})})})]})})}},1291:function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return s})),i.d(t,"e",(function(){return c})),i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return d})),i.d(t,"f",(function(){return l}));var n=i(23),a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,o=function(e){var t=e.bookingId,i=e.SessionId,o=void 0!==i?"&SessionId=".concat(i):"&SessionId=0";return Object(n.a)({type:"GET_BOOKING_DETAILS",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(a,"/Booking/GetSessionBookingDetail?BookingId=").concat(t).concat(o)})},s=function(e){var t=e.cartId,i=e.serviceId,o=e.bookingId,s=e.sessionId;return Object(n.a)({type:"GET_BOOKING_SESSIONS_DETAILS",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(a,"/Booking/GetSessionBooking/").concat(t,"/").concat(i,"/").concat(o,"/").concat(s)})},c=function(e){var t=e.bookingId;return{type:"GET_BOOKING_SELECTED_SESSION_DETAILS",payload:{bookingSessions:e.bookingSessions,bookingId:t}}},r=function(e){var t=e.userId,i=e.bookingId,o=e.reasonValue;return Object(n.a)({type:"DELETE_BOOKING",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(a,"/Booking/CancelBooking"),payload:JSON.stringify({bookingId:i,userId:t,notes:o,cancelledBy:0,isRequestFromExpert:!0})})},d=function(e){var t=e.sessionId,i=e.bookingId;return Object(n.a)({type:"DELETE_BOOKING",verb:"DELETE",headers:{contentType:"includeBearer"},endpoint:"".concat(a,"/Booking/DeleteSessionBooking?BookingId=").concat(i,"&SessionId=").concat(t)})},l=function(){return{type:"SET_DELETE_BOOKING_EMPTY"}}},1766:function(e,t,i){},1838:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return T}));i(17);var n=i(3),a=i(13),o=i(2),s=i(92),c=i(76),r=i(38),d=i(9),l=i(1209),b=i(1291),u=i(10),j=i(21),g=(i(1766),i(408)),p=(i(659),i(411)),O=i(418),m=i(1),h=Object(u.i)("booking_message_icon.svg"),f=Object(u.i)("video_notes_icon.svg"),v=Object(u.i)("delete_icon.svg"),x=Object(u.i)("edit_icon.svg"),k=Object(u.i)("notes_icon.svg"),N=Object(u.i)("loader.GIF"),E=Object(u.i)("placeholder.jpg"),I=function(e){var t=e.details,i=e.onClosed,n=Object(o.useState)(""),s=Object(a.a)(n,2),c=s[0],r=s[1];return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{children:[Object(m.jsxs)(d.FAEText,{subHeading:!0,children:["Send Message to ",Object(m.jsxs)("strong",{children:[" ",null===t||void 0===t?void 0:t.providerName]})," against"," ",Object(m.jsxs)("strong",{children:[null===t||void 0===t?void 0:t.serviceTypeName," "]})]}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)(p.FAETextField,{type:"textarea",placeholder:"Type message ...",value:c,getValue:r})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)(d.FAEButton,{style:{marginTop:"10px",float:"left",marginLeft:"10px"},className:"btn btn-primary",onClick:function(){return function(){var e=Object(u.h)("customer_details"),n=(e.email,e.id),a=e.firstName,o=e.lastName,s=t.bookingId,r=t.providerId,d=t.serviceTypeName,l=t.providerName;Object(O.e)({customerId:n,providerId:r,jobTitle:d,jobId:s,text:c,customerName:"".concat(a," ").concat(o),providerName:l}).then((function(e){i(e)})).catch((function(e){i(!1)}))}()},children:[" ","Send"]})})]})})},T=Object(s.b)((function(e){var t=e.bookingDetailPageReducer;return{error:t.error,loading:t.loading,bookingDetails:t.bookingDetails,bookingDeleted:t.bookingDeleted,bookingSessions:t.bookingSessions,bookingImages:t.bookingImages,bookingVideos:t.bookingVideos}}),(function(e){return Object(c.b)({getBookingDetails:b.c,deleteBooking:b.a,deleteBookingSession:b.b,getBookingsSessions:b.d,getSelectedSessionDetail:b.e,setBookingDeleteEmpty:b.f},e)}))((function(e){e.error;var t=e.loading,i=e.bookingDetails,c=void 0===i?[]:i,b=e.getBookingDetails,p=e.bookingDeleted,O=e.deleteBooking,T=e.deleteBookingSession,S=e.getBookingsSessions,y=(e.bookingSessions,e.getSelectedSessionDetail,e.bookingImages),A=e.bookingVideos,F=e.setBookingDeleteEmpty;document.title="Chelsford | Booking Details";var B=Object(u.h)("userId"),_=Object(r.l)(),D=Object(r.m)(),w=(D.jobtype,D.service),C=_.state,L=(_.sessionFlag,Object(o.useState)(!1)),G=Object(a.a)(L,2),P=G[0],R=G[1],K=Object(o.useState)(null),V=Object(a.a)(K,2),H=V[0],W=V[1],M=Object(o.useState)(!1),J=Object(a.a)(M,2),U=J[0],Y=J[1],q=C.sessionId,z=c.address,Q=void 0===z?"":z,X=c.bookingDuration,Z=void 0===X?"":X,$=c.bookingTime,ee=void 0===$?"":$,te=c.displayedBookingDate,ie=void 0===te?"":te,ne=c.serviceTypeName,ae=void 0===ne?"":ne,oe=c.providerId,se=void 0===oe?0:oe,ce=c.amount,re=void 0===ce?"":ce,de=(c.bookingDate,c.currencySymbol),le=void 0===de?"":de,be=c.location,ue=void 0===be?"":be,je=c.providerName,ge=void 0===je?"":je,pe=(c.consentForm,c.hasAcceptedConsent,c.customerNotes),Oe=c.isTraining,me=(c.isOnline,c.trainingEndDate),he=c.trainingEndTime,fe=c.trainingStartDate,ve=c.trainingStartTime,xe=c.totalSession,ke=c.completeSession,Ne=c.bookingId,Ee=c.paymentStatus,Ie=(c.status,Object(s.d)((function(e){return e.customerChatReducer.conversations.find((function(e){return e.job.jobId==c.bookingId}))})));Object(o.useEffect)((function(){window.runScript&&window.runScript()}),[t]),Object(o.useEffect)((function(){S({serviceId:void 0!==C.serviceId?C.serviceId:null===C||void 0===C?void 0:C.serviceTypeId,cartId:C.cartId,bookingId:C.bookingId,sessionId:null===C||void 0===C?void 0:C.sessionId})}),[b,C.bookingId,C.cartId,C.serviceTypeId,C.totalSession]),Object(o.useEffect)((function(){return Object(u.n)(p)||(1!==p.code?j.a.push("/your-bookings/upcoming"):(alert(p.message),F())),function(){return F()}}),[p]);var Te=Object(o.useState)(!1),Se=Object(a.a)(Te,2),ye=Se[0],Ae=Se[1],Fe=Object(o.useState)(!1),Be=Object(a.a)(Fe,2),_e=Be[0],De=Be[1],we=Object(o.useState)(""),Ce=Object(a.a)(we,2),Le=Ce[0],Ge=Ce[1],Pe=Object(o.useState)(""),Re=Object(a.a)(Pe,2),Ke=Re[0],Ve=Re[1],He=Object(o.useRef)();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(l.default,{childWidth:"100%",paddingTop:"",children:[t&&Object(m.jsx)(d.FAELoading,{type:"svg",loaderImage:N,height:"200px"}),!t&&Object(m.jsxs)("div",{className:"fae--booking-detail-page-main-container",children:[Object(m.jsxs)("div",{className:"fae--booking-detail-page-avatar-price-wrapper",children:[Object(m.jsxs)(d.FAEText,{subHeading:!0,primary:!0,children:["Booking ID: ",Ne]}),Object(m.jsxs)("div",{className:"fae--booking-details-page-top-info-bar",children:[Object(m.jsx)(d.FAEAvatar,{variant:"rounded",src:Object(u.i)("placeholder.jpg")}),Object(m.jsxs)("div",{className:"fae--booking-detail-page-name-price-wrapper",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(d.FAEText,{subHeading:!0,primary:!0,children:ae}),Object(m.jsx)(d.FAEText,{paragraph:!0,primary:!0,children:""!==ge.trim()||0!==se?ge:"Looking for suitable provider..."})]}),Object(m.jsxs)(d.FAEText,{subHeading:!0,primary:!0,children:[le,re,"   / ",Ee]})]})]})]}),Object(m.jsxs)(d.FAEShadowBox,{className:"fae--booking-detail-page-main-container",padding:!0,style:{width:"95%"},children:[Object(m.jsxs)("div",{className:"fae--booking-detail-page-day-time-wrapper line-break",children:[Object(m.jsx)(d.FAEText,{paragraph:!0,tertiary:!0,className:"fae--booking-detail-page-info-headers",children:"Day and Time"}),Object(m.jsxs)("div",{className:"fae--booking-detail-page-date-time",children:[Object(m.jsx)(d.FAEText,{className:"fae--booking-detail-page-info-booking-text",children:Oe?"".concat(fe," - ").concat(me):ie}),Object(m.jsx)(d.FAEText,{className:"fae--booking-detail-page-info-booking-text",children:Oe?"".concat(ve," - ").concat(he):ee})]})]}),!Oe&&Object(m.jsxs)("div",{className:"fae--booking-detail-page-duration-wrapper line-break",children:[Object(m.jsx)(d.FAEText,{paragraph:!0,tertiary:!0,className:"fae--booking-detail-page-info-headers",children:"Duration"}),Object(m.jsx)(d.FAEText,{className:"fae--booking-detail-page-duration fae--booking-detail-page-info-booking-text",children:Z})]}),Object(m.jsxs)("div",{className:"fae--booking-detail-page-address-wrapper ".concat(xe>0?"line-break":""),children:[Object(m.jsx)(d.FAEText,{paragraph:!0,tertiary:!0,className:"fae--booking-detail-page-info-headers",children:ue}),Object(m.jsx)(d.FAEText,{className:"fae--booking-detail-page-address fae--booking-detail-page-info-booking-text line-break",children:Q})]})]}),Object(m.jsxs)("div",{className:"fae--booking-detail-page-action-buttons-wrapper",children:[(A.length>0||y.length>0)&&Object(m.jsxs)(d.FAEText,{onClick:function(){R(!0),W(Object(m.jsxs)("div",{className:"notes-video-and-images-detail-page-main-container",children:[Object(m.jsxs)("div",{className:"fae--service-attributes-uploaded-images-or-videos-wrapper line-break",children:[Object(m.jsx)(d.FAEText,{subHeading:!0,children:"Videos"}),Object(m.jsx)("div",{className:"fae--services-attributes-page-already-uploaded-images-and-videos",children:A.map((function(e){var t=e.filePath,i=e.id;return Object(m.jsx)("div",{className:"fae--service-attributes-custom-image-or-video-wrapper-main-container",children:Object(m.jsx)("a",{className:"fae--service-attributes-custom-image-or-video-wrapper",target:"_blank",href:t,rel:"noreferrer",children:Object(m.jsx)("div",{className:"fae--service-card-image-container",children:Object(m.jsx)("video",{src:t,alt:t,width:"100%",height:"100%",type:"video/mp4"},i)})})})}))})]}),Object(m.jsxs)("div",{className:"fae--service-attributes-uploaded-images-or-videos-wrapper",children:[Object(m.jsx)(d.FAEText,{subHeading:!0,children:"Images"}),Object(m.jsx)("div",{className:"fae--services-attributes-page-already-uploaded-images-and-videos",children:y.map((function(e){var t=e.id,i=e.filePath;return Object(m.jsx)("div",{className:"fae--service-attributes-custom-image-or-video-wrapper-main-container",children:Object(m.jsx)("a",{className:"fae--service-attributes-custom-image-or-video-wrapper",target:"_blank",href:i,rel:"noreferrer",children:Object(m.jsx)(d.FAEImage,{placeholder:E,src:i,alt:i,width:"100%",height:"100%"},t)})})}))})]})]}))},className:"fae--bokking-detail-action-button",children:[Object(m.jsx)("img",{src:f,alt:"video_notes_icon",width:"auto",height:"auto"}),"Video Notes"]}),pe&&Object(m.jsxs)(d.FAEText,{onClick:function(){R(!0),W(pe)},className:"fae--bokking-detail-action-button",children:[Object(m.jsx)("img",{src:k,alt:"notes_icon",width:"auto",height:"auto"}),"Notes"]}),(""!==ge.trim()||0!==se)&&Object(m.jsxs)(d.FAEText,{onClick:function(){void 0===Ie||null==Ie?Y(!0):j.a.push("/customer-chat",Object(n.a)({conversation:Ie},c))},className:"fae--bokking-detail-action-button",children:[Object(m.jsx)("img",{src:h,alt:"message_icon",width:"auto",height:"auto"}),"Message",Ie&&Ie.counts>0?Object(m.jsx)("span",{className:"badge badge-success",children:Ie.counts}):""]}),ke>0?"":Object(m.jsxs)("div",{children:[Object(m.jsx)(g.a,{open:ye,trigger:Object(m.jsxs)(d.FAEText,{className:"fae--bokking-detail-action-button",children:[Object(m.jsx)("img",{src:v,alt:"delete_icon",width:"auto",height:"auto"}),"Cancel"]}),className:"fae-booking-cancel-message-popup",position:"left center",children:function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)(d.FAEText,{className:"fae-popup-title",children:"Delete Scheduled Booking"}),Object(m.jsx)(d.FAEText,{className:"fae-popup-message",children:"Are you sure you want to delete the selected booking?"}),Object(m.jsxs)("div",{className:"fae-delete-session-btns",children:[Object(m.jsx)("button",{ref:He,className:"popup-sure-btn",onClick:e,children:"NO"}),Object(m.jsx)("button",{className:"popup-sure-btn",onClick:function(){De(!0)},children:"YES"})]})]})}}),Object(m.jsx)(g.a,{open:_e,position:"right center",children:function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)(d.FAEText,{className:"fae-popup-title",children:"Reason!"}),Object(m.jsx)(d.FAEText,{className:"fae-popup-message",children:"Please explain the reason, why you want to delete the booking"}),Object(m.jsx)("input",{className:"fae-reason-input",onChange:function(e){return Ge(e.target.value)},placeholder:"please write reason"}),""!==Ke&&Object(m.jsx)(d.FAEText,{style:{margin:"auto",fontSize:"10px"},className:"red-text",children:Ke}),Object(m.jsx)("button",{className:"popup-sure-btn",onClick:e,children:"CANCEL"}),Object(m.jsx)("button",{className:"popup-sure-btn",onClick:function(){""!==Le?(q>0?T({sessionId:q,bookingId:Ne}):O({userId:B,bookingId:Ne,reasonValue:Le}),He.current.click(),Ae(!1)):Ve("The reason input is required!")},children:"DELETE BOOKING"})]})}})]}),!Oe&&0!==se&&Object(m.jsxs)(d.FAEText,{onClick:function(){return j.a.push({pathname:"/your-bookings/".concat(w,"/edit"),state:Object(n.a)(Object(n.a)({},c),{},{businessId:null===C||void 0===C?void 0:C.businessId,cartId:C.cartId,sessionId:q})})},className:"fae--bokking-detail-action-button",children:[Object(m.jsx)("img",{src:x,alt:"edit_icon",width:"auto",height:"auto"}),"Edit"]})]})]})]}),Object(m.jsx)(d.FAEDialogueBox,{title:"Notes",open:P,content:H,buttons:[{label:"Ok",onClick:function(){return R(!1)}}]}),Object(m.jsx)(d.FAEDialogueBox,{title:"Message",open:U,content:Object(m.jsx)(I,{details:c,onClosed:function(e){return function(e){if(!e)return alert("some thing went wrong please try again"),void Y(!1);j.a.push("/customer-chat",Object(n.a)(Object(n.a)({},c),{},{isVisitor:!1,conversation:e.conversation}))}(e)}}),buttons:[{label:"close",onClick:function(){return Y(!1)}}]})]})}))}}]);
//# sourceMappingURL=17.86d4a4c7.chunk.js.map