(this["webpackJsonpfindanexpert-frontend"]=this["webpackJsonpfindanexpert-frontend"]||[]).push([[23,38],{1207:function(e,t,r){},1208:function(e,t,r){},1209:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return m}));var a=r(2),n=r(9),i=r(38),c=r(10),o=r(21),s=r(3),l=r(6),u=(r(1207),r(180)),d=r(1),f=["className","tabs","renderOption","activeTab"],p=["label","href","className","icon","svgIconSrc"],b=function(e){var t=e.className,r=void 0===t?"":t,i=e.tabs,c=void 0===i?[]:i,o=e.renderOption,b=e.activeTab,j=void 0===b?"":b,m=Object(l.a)(e,f),g=function(e){return e.toLowerCase()===j.toLowerCase()?"active-tab":""};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",Object(s.a)(Object(s.a)({className:"fae--user-info-tabs-main-container ".concat(r)},m),{},{children:a.Children.toArray(c.map((function(e,t){var r=e.label,a=e.href,i=void 0===a?"":a,c=e.className,f=e.icon,b=e.svgIconSrc,j=Object(l.a)(e,p);return""===i?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(n.FAEText,Object(s.a)(Object(s.a)({tertiary:"active-tab"!==g(r)},j),{},{className:"fae--user-info-tab ".concat(g(r)," ").concat(c),children:[""==!b&&Object(d.jsx)(u.FAEImage,{className:"fae-sidebar-icon",src:b}),""==!f&&Object(d.jsxs)("div",{className:"fae-sidebar-icon",children:[" ",f,"  "]}),o?o(e):r]}))}):Object(d.jsx)("a",Object(s.a)(Object(s.a)({className:"fae--user-info-tab ".concat(c),target:"_blank",href:i,rel:"noreferrer"},j),{},{children:Object(d.jsx)(n.FAEText,{children:o?o(e):r})}))})))}))})},j=(r(1208),[{label:"Profile",svgIconSrc:Object(c.i)("icons/profileIcon.svg"),onClick:function(){return o.a.push("/profile")}},{label:"Your Bookings",svgIconSrc:Object(c.i)("icons/bookingGreyColor.svg"),onClick:function(){return o.a.push("/your-bookings/upcoming")}},{label:"Payment Details",svgIconSrc:Object(c.i)("icons/paymentgreyicons.svg"),onClick:function(){return o.a.push("/payment-details")}}]),m=function(e){var t,r=e.childWidth,a=e.children,o=e.paddingTop,s=Object(i.l)(),l=(t=s.pathname,j.find((function(e){return!0===Object(c.c)(t,"-").includes(e.label.toLocaleLowerCase())})).label);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"fae--user-info-page-layout-main-container",children:[Object(d.jsx)(b,{tabs:j,activeTab:l,className:"side-tabs-user-info"}),Object(d.jsx)("div",{className:"fae--user-info-page-layout-pages-data dpb ".concat(null!==o&&void 0!==o?o:""),children:Object(d.jsx)(n.FAEContainer,{className:"fae-page-classname",children:Object(d.jsxs)("div",{style:{width:null!==r&&void 0!==r?r:"100%"},children:[" ",a]})})})]})})}},1768:function(e,t,r){},1840:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return O}));var a=r(20),n=r(107),i=r(181),c=r(13),o=r(2),s=r(9),l=r(76),u=r(92),d=r(10),f=r(21),p=r(425),b=r(1209),j=(r(1768),r(1)),m=Object(d.i)("loader.GIF"),g=function(e){return null===e||void 0===e?void 0:e.map((function(e){var t=e.value,r=e.id;return{value:"".concat(r),label:t}}))},O=Object(u.b)((function(e){var t=e.editProfilePageReducer,r=t.error,a=t.loading,n=t.profileFields,i=t.saveSignUpFormResponse,c=t.updateProfileRespone;return{error:r,loading:a,profileFields:n,userCountryId:e.defaultReducer.userCountryId,saveSignUpFormResponse:i,updateProfileRespone:c}}),(function(e){return Object(l.b)({getProfileFields:p.a,makeUpdateProfileResponseToEmpty:p.b,updateProfile:p.c},e)}))((function(e){var t=e.loading,r=(e.error,e.userCountryId),l=e.profileFields,u=e.getProfileFields,p=e.updateProfileRespone,O=e.makeUpdateProfileResponseToEmpty,v=e.updateProfile;document.title="Chelsford | Edit Profile";var h=Object(d.h)("userId"),x=Object(o.useState)([]),y=Object(c.a)(x,2),F=y[0],P=y[1],w=Object(o.useState)([]),I=Object(c.a)(w,2),N=I[0],R=I[1],S=l.find((function(e){return e.label.includes("Answer")})),E=l.find((function(e){return e.label.includes("Country")}));Object(o.useEffect)((function(){""!==r&&u({userCountryId:r,userId:h})}),[u,r,h]),Object(o.useEffect)((function(){R(l.map((function(e){return{fieldId:e.id,answer:e.inputField}})))}),[l]),Object(o.useEffect)((function(){if(!Object(d.n)(p)){var e=p.error,t=p.message,r=p.customerData;!0===e?alert(t):q(r),O()}}),[O,p]);var q=function(){var e=Object(i.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.r)("customer_details",t);case 2:return e.next=4,f.a.push({pathname:"".concat(f.a.location.state.next)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){var t=e.value,r=e.regex,n=e.id;R(Object(d.m)([{fieldId:n,answer:t}].concat(Object(a.a)(N)),"fieldId")),""!==t&&P(Object(d.m)([{fieldId:n,error:!Object(d.t)(r,t)}].concat(Object(a.a)(F)),"fieldId"))},C=function(e){var t=e.isRequired,r=e.id,n=e.error;return!0===t&&P(Object(d.m)([{id:r,error:n}].concat(Object(a.a)(F)),"id")),n};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(b.default,{children:Object(j.jsx)("div",{className:"fae--edit-profile-page-container",children:Object(j.jsxs)("div",{className:"fae--edit-profile-page-wrapper",children:[Object(j.jsx)(s.FAETitle,{label:"Update Profile",className:"fae--edit-title",logo:Object(d.i)("title_logo.svg")}),t&&Object(j.jsx)(s.FAELoading,{type:"svg",loaderImage:m,height:"200px"}),!t&&l.length>1&&Object(j.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),F.some((function(e){return!0===e.error}))?alert("Please fill required fields"):parseInt(null===E||void 0===E?void 0:E.inputField)==parseInt(r)?v({fieldAnswers:N,userId:h}):alert("Please switch your country.")},className:"fae--edit-profile-page-form-wrapper",children:[o.Children.toArray(l.map((function(e){var t=e.type,r=e.regex,a=e.isRequired,n=e.errorMessage,i=e.label,c=e.id,l=e.optionList,u=e.inputField,f=t.toLowerCase();return Object(j.jsxs)(j.Fragment,{children:[("text"===f||"email"===f||"password"===f)&&!i.includes("Answer")&&Object(j.jsx)(s.FAETextField,{label:i,placeholder:i,primary:!0,value:u,required:a,type:f,error:function(e){return""!==e&&!Object(d.t)(r,e)},errorMessage:n,getValue:function(e){return A({value:e,regex:r,id:c})},shadowBoxProps:{className:"fae--edit-profile-page-field"},inputProps:{readOnly:"email"===f&&!0}}),"date"===f&&Object(j.jsx)(s.FAEDatePicker,{label:i,primary:!0,shadowBoxProps:{className:"fae--edit-profile-page-field"},required:!0,dateFormat:function(e){return"".concat(e.year,"-").concat(2==="".concat(e.month).length?e.month:"0".concat(e.month),"-").concat(2==="".concat(e.day).length?e.day:"0".concat(e.day))},value:""!==u&&{year:parseInt(u.split("-")[0]),day:parseInt(u.split("-")[2]),month:parseInt(u.split("-")[1])},getSelectedDate:function(e){return A({id:c,value:"".concat(e.year,"-").concat(2==="".concat(e.month).length?e.month:"0".concat(e.month),"-").concat(2==="".concat(e.day).length?e.day:"0".concat(e.day))})},maximumDate:Object(d.g)()}),"radio"===f&&null!==l&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(s.FAERadioGroup,{label:i,values:g(l),primary:!0,value:u,shadowBoxProps:{className:"fae--edit-profile-page-field"},isRequired:a,required:a,getSelectedValue:function(e){return A({id:c,value:e})}})}),"phone"===f&&Object(j.jsx)(s.FAEPhoneInput,{label:i,primary:!0,value:u,isRequired:a,required:a,getValue:function(e){return A({id:c,value:e})},shadowBoxProps:{className:"fae--edit-profile-page-field"}}),"select"!==f||i.includes("Security Question")?"select"===f&&i.includes("Security Question")&&Object(j.jsxs)(o.Fragment,{children:[Object(j.jsx)(s.FAESelect,{label:i,primary:!0,shadowBoxProps:{className:"fae--edit-profile-page-field"},values:g(l),required:a,isRequired:a,getSelectedValue:function(e){return A({id:c,value:e})},value:u}),Object(j.jsx)(s.FAETextField,{label:S.label,placeholder:S.label,primary:!0,required:S.isRequired,type:S.type,error:function(e){return""!==e&&!Object(d.t)(S.regex,e)},value:S.inputField,errorMessage:S.errorMessage,getValue:function(e){return A({value:e,regex:S.regex,id:S.id,isRequired:S.isRequired,type:S.type.toLowerCase()})},shadowBoxProps:{className:"fae--edit-profile-page-field"},inputProps:{readOnly:"email"===S.type.toLowerCase()&&!0}})]}):Object(j.jsx)(s.FAESelect,{label:i,primary:!0,shadowBoxProps:{className:"fae--edit-profile-page-field"},values:g(l),required:a,isRequired:a,getSelectedValue:function(e){return A({id:c,value:e})},value:u}),"checkbox"===f&&Object(j.jsx)(s.FAECheckBoxGroup,{label:i,values:g(l),primary:!0,shadowBoxProps:{className:"fae--edit-profile-page-field"},error:function(e){return a&&e.length<1?C({isRequired:a,id:c,error:!0}):C({isRequired:a,id:c,error:!1})},errorMessage:"Select at least 1",isRequired:a,getSelectedValues:function(e){return A({id:c,value:e.toString()})}})]})}))),Object(j.jsx)(s.FAEButton,{className:"fae--edit-profile-page-form-button",children:"Save Profile"})]})]})})})})}))}}]);
//# sourceMappingURL=23.db406786.chunk.js.map