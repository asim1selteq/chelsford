{"version":3,"sources":["redux/actions/subServicesPageActions.js","Pages/SubServicesPage/SubServicesPage.js"],"names":["APP_BASE_URL","process","REACT_APP_BASE_URL","getSubServices","_ref","serviceName","userCountryId","isMainService","fetchAction","type","headers","contentType","endpoint","concat","verb","loaderImage","getFileSrcFromPublicFolder","connect","_ref6","_ref6$subServicesPage","subServicesPageReducer","error","loading","subServices","_ref6$defaultReducer","defaultReducer","userId","dispatch","bindActionCreators","searchData","useParams","addSpaces","service","location","useLocation","console","log","_ref2","undefined","state","mainService","JSON","parse","voucherId","selected_country_id","document","title","useEffect","isProfileCompleted","getCookies","userSignedInStatus","handleSubServiceClicked","_ref5","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","selectedSubService","filteredName","wrap","_context2","prev","next","replaceSymbolToSpace","t0","sent","history","push","pathname","replaceSpaces","_objectSpread","serviceId","id","stop","_x2","apply","arguments","_jsx","FAELoading","height","doPadding","length","paddingBottom","_Fragment","children","className","_jsxs","style","FAETitle","textTransform","label","logo","FAESubServices","border","loaderProps","faeSubServicesParser","shadowBoxProps","primary","onClick","Array","isArray","FAEText","subHeading","textAlign","src"],"mappings":"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","file":"static/js/65.eb5ed8ce.chunk.js","sourcesContent":["import { fetchAction } from \"../utils\";\r\n\r\nconst APP_BASE_URL = process.env.REACT_APP_BASE_URL;\r\n\r\nexport const getSubServices = ({\r\n  serviceName,\r\n  userCountryId,\r\n  isMainService,\r\n}) => {\r\n  return fetchAction({\r\n    type: \"GET_SUB_SERVICES_DATA\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL}/Services/GetSubServiceByName/${serviceName}/${userCountryId}/${isMainService}`,\r\n    verb: \"GET\",\r\n  });\r\n};\r\n","//libs\r\nimport React, { useEffect } from \"react\";\r\nimport { FAESubServices, FAETitle } from \"@findanexpert-fae/components\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\n\r\n//src\r\nimport {\r\n  addSpaces,\r\n  getCookies,\r\n  getFileSrcFromPublicFolder,\r\n  replaceSpaces,\r\n  replaceSymbolToSpace,\r\n} from \"../../utils\";\r\nimport { getSubServices } from \"../../redux/actions/subServicesPageActions\";\r\nimport { faeSubServicesParser } from \"../../parsers\";\r\nimport history from \"../../history\";\r\n\r\n//scss\r\nimport \"./SubServicesPage.scss\";\r\nimport { FAEText } from \"@findanexpert-fae/components/dist/stories/FAEText/FAEText\";\r\nimport { FAELoading } from \"@findanexpert-fae/components/dist/stories/FAELoading/FAELoading\";\r\nconst loaderImage = getFileSrcFromPublicFolder(\"loader.GIF\");\r\nconst SubServicesPage = ({\r\n  error,\r\n  loading,\r\n  getSubServices,\r\n  subServices,\r\n  userCountryId,\r\n  userId\r\n}) => {\r\n  // const { service, mainService, voucherId }\r\n   const searchData = useParams();\r\n  const serviceName = addSpaces(searchData?.service, \"-\");\r\n  const location = useLocation();\r\n  console.log(searchData,location, 'searchData')\r\n\r\n  const { mainService, voucherId, selected_country_id }  = location?.state == undefined ? {mainService:JSON.parse(searchData?.mainService), voucherId:JSON.parse(searchData?.voucherId), selected_country_id:JSON.parse(searchData?.selected_country_id)}: location?.state;\r\n\r\n  document.title = `Chelsford | ${serviceName} Service`;\r\n  userCountryId = (selected_country_id == undefined || selected_country_id ==null) ? userCountryId : JSON.parse(selected_country_id)\r\n  console.log(searchData,selected_country_id, userCountryId, \"userCountryId\")\r\n  useEffect(() => {\r\n       getSubServices({\r\n        serviceName,\r\n        userCountryId:1,\r\n        isMainService: mainService ?? true,\r\n      });\r\n  }, [getSubServices, mainService, serviceName, userCountryId]);\r\n  const isProfileCompleted =  getCookies(\"customer_details\") !== undefined && getCookies(\"customer_details\").isProfileCompleted;\r\n  const userSignedInStatus = (userId !== \"\" && userId !== undefined) || getCookies(\"userId\") !== undefined ? true : false;\r\n \r\n  function sendwithStates( pathname,   ismainService, getRedirectCredential){\r\n \r\n  const  {  id,  isInHouse, isInClinic,  hasAttributes,  hasSubservice, name,\r\n    discountedPrice,  duration,  currencySymbol,  hasSession, price, isTraining,\r\n    isOnline, hasProducts  }= getRedirectCredential;\r\n\r\n    !userSignedInStatus && localStorage.setItem(\"redirectUrl\", pathname)\r\n    !userSignedInStatus && ismainService ?  localStorage.setItem('stateObject', JSON.stringify({serviceId: id, mainService: false, voucherId })) :\r\n    localStorage.setItem('stateObject', JSON.stringify({...getRedirectCredential, serviceId: id}))\r\n    ismainService ? history.push({\r\n      pathname: pathname,\r\n      state: { mainService: false, voucherId }, }):\r\n        history.push({\r\n          pathname: pathname,\r\n          state: {\r\n            serviceId: id,\r\n            isInClinic,\r\n            isInHouse,\r\n            isOnline,\r\n            hasAttributes,\r\n            price: discountedPrice === 0 ? price : discountedPrice,\r\n            duration,\r\n            hasProducts,\r\n            currencySymbol,\r\n            voucherId,\r\n          },\r\n      }) \r\n  }\r\n\r\n\r\n  const redirectUrl = async ({ id, isInHouse, isInClinic, hasAttributes, hasSubservice, name, discountedPrice, duration, currencySymbol, hasSession, price, isTraining, isOnline, hasProducts  }) => {\r\n    const getRedirectCredential= {  id,isInHouse,isInClinic,hasAttributes,hasSubservice,name,discountedPrice,duration,currencySymbol,hasSession,price,isTraining,isOnline,hasProducts } \r\n    const filteredName =replaceSymbolToSpace(name, \" \")\r\n    return await hasSubservice === true  ? sendwithStates( `/booking/${replaceSpaces(filteredName, \"-\")}/sub-services/false/${voucherId ? voucherId: 0}/${userCountryId}`,true, getRedirectCredential)  \r\n      : isTraining ? sendwithStates(`/booking/${replaceSpaces(filteredName, \"-\")}/training-selection`,false, getRedirectCredential)\r\n      : hasSession  ? sendwithStates(`/booking/${replaceSpaces(filteredName, \"-\")}/sessions`,false, getRedirectCredential)\r\n      : (isInClinic && isInHouse) ||\r\n        (isInHouse && isOnline) ||\r\n        (isInClinic && isOnline) ? sendwithStates(`/booking/${replaceSpaces(filteredName, \"-\")}/location-selection`, false, getRedirectCredential)\r\n      : isOnline ? sendwithStates(`/booking/${searchData?.service}/attributes`,false, getRedirectCredential)\r\n      : isInClinic ?  sendwithStates( `/booking/${replaceSpaces(filteredName, \"-\")}/address-selection`,false, getRedirectCredential)\r\n      : sendwithStates(`/booking/${replaceSpaces(filteredName, \"-\")}/address-selection`, false, getRedirectCredential)\r\n  };\r\n\r\n\r\n\r\n  \r\n  const handleSubServiceClicked = async (selectedSubService) => {\r\n     const filteredName =replaceSymbolToSpace(serviceName, \" \")\r\n     await !isProfileCompleted && userSignedInStatus  ? history.push({\r\n          pathname: \"/profile/edit\",\r\n            state: { next: history.location.pathname },\r\n          })\r\n    : history.push({\r\n      pathname: `/booking/${replaceSpaces(filteredName, \"-\")}/training-selection`,\r\n      state: {\r\n        serviceId: selectedSubService?.id,\r\n        ...selectedSubService\r\n      },\r\n    })  \r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  if (loading) {\r\n    return <FAELoading type=\"svg\" loaderImage={loaderImage} height=\"630px\" />;\r\n  } \r\n  const doPadding= subServices?.length<4 ?(subServices.length==1 ?{paddingBottom: 353}:{paddingBottom: 220}): {paddingBottom: 294}\r\n\r\n  return (\r\n    <>\r\n      <div className=\"fae--sub-services-page-container dpt dpb\">\r\n        <div className=\"fae--sub-services-page-wrapper\" style={doPadding}>\r\n          <FAETitle\r\n          style={{textTransform:\"uppercase\"}}\r\n            label={serviceName}\r\n            logo={getFileSrcFromPublicFolder(\"title_logo.svg\")}\r\n          /> \r\n            <FAESubServices\r\n                loading={loading}\r\n                border=\"semiCircle\"\r\n                loaderProps={{\r\n                  loaderImage,\r\n                  height: \"150px\",\r\n                  type: \"video\",\r\n                }}\r\n                subServices={faeSubServicesParser(subServices)}\r\n                shadowBoxProps={{\r\n                  primary: true,\r\n                }}\r\n                onClick={handleSubServiceClicked}\r\n              /> \r\n          {!loading &&  Array.isArray(subServices)? (subServices.length ==0? <FAEText className=\"ResultEmpty\" subHeading style={{textAlign: \"center\"}}> <img src={getFileSrcFromPublicFolder(\"result not found-img.png\")} /></FAEText>:\"\"):\"\"}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({\r\n  subServicesPageReducer: { error, loading, subServices },\r\n  defaultReducer: { userCountryId, userId },\r\n}) => ({\r\n  error,\r\n  loading,\r\n  subServices,\r\n  userCountryId,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      getSubServices,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SubServicesPage);\r\n"],"sourceRoot":""}