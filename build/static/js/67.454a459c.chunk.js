(this["webpackJsonpfindanexpert-frontend"]=this["webpackJsonpfindanexpert-frontend"]||[]).push([[67],{1232:function(n,e,t){"use strict";t.d(e,"a",(function(){return d})),t.d(e,"b",(function(){return a})),t.d(e,"d",(function(){return u})),t.d(e,"e",(function(){return s})),t.d(e,"f",(function(){return l})),t.d(e,"c",(function(){return f}));t(23);var o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_VOUCHER,r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BEARER_TOKEN,c=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,i=new Headers;i.append("Content-Type","application/json"),i.append("mode","no-cors"),i.append("Authorization","Bearer ".concat(r)),i.append("Access-Control-Allow-Origin","*");var d=function(n){var e=n.cartId,t=n.transactionId,r=JSON.stringify({cartId:e,transactionId:t}),c={method:"POST",headers:i,body:r,redirect:"follow"};return fetch("".concat(o,"/Payment/ThreedsStatus"),c).then((function(n){return n.json()})).then((function(n){return n})).catch((function(n){return n}))},a=function(n){var e=n.cartId,t=n.paymentAmount,r=n.stripePaymentMethodId,c=n.userCountryId,d=n.bookingId,a=n.voucherCode,u=n.userCurrencyCode,s=n.transactionId,l=n.userId,f=JSON.stringify({bookingId:d,cartId:e,countryId:c,currency:u,paymentAmount:t,returnUrl:"".concat("localhost"==document.domain?"https://expert-dev.findanexpert.net/paymentverification":-1!==document.domain.indexOf("findanexpert")?"https://".concat(document.domain,"/paymentverification"):"https://www.expert.one/paymentverification"),stripePaymentMethodId:r,transactionId:s,userId:l,voucherCode:a}),h={method:"POST",headers:i,body:f,redirect:"follow"};return fetch("".concat(o,"/Payment/CapturePayment"),h).then((function(n){return n.json()})).then((function(n){return n})).catch((function(n){return n}))};function u(n){var e={method:"POST",headers:i,body:JSON.stringify(n),redirect:"follow"};return fetch("".concat(o,"/OneTimePayment/CapturePayment"),e).then((function(n){return null===n||void 0===n?void 0:n.json()})).then((function(n){return n})).catch((function(n){console.log("e",n)}))}function s(n){var e={method:"POST",headers:i,body:JSON.stringify(n),redirect:"follow"};return fetch("".concat(o,"/OneTimePayment/HoldPayment"),e).then((function(n){return null===n||void 0===n?void 0:n.json()})).then((function(n){return n})).catch((function(n){return console.log("e",n)}))}function l(n){var e={method:"POST",headers:i,body:JSON.stringify(n),redirect:"follow"};return fetch("".concat(o,"/OneTimePayment/ThreedsStatus"),e).then((function(n){return null===n||void 0===n?void 0:n.json()})).then((function(n){return n})).catch((function(n){return console.log("e",n)}))}function f(n){var e={method:"POST",headers:i,body:JSON.stringify(n),redirect:"follow"};return fetch("".concat(c,"/Addresses/GetClinicAddresses"),e).then((function(n){return null===n||void 0===n?void 0:n.json()})).then((function(n){return n})).catch((function(n){return console.log("e",n)}))}},1781:function(n,e,t){},1851:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return f}));var o=t(107),r=t(181),c=t(13),i=t(2),d=t(9),a=t(1232),u=(t(1781),t(10)),s=t(142),l=t(1),f=function(){var n=Object(i.useState)({code:400}),e=Object(c.a)(n,2),t=e[0],f=e[1],h=new URLSearchParams(window.location.search).get("cartId"),O=new URLSearchParams(window.location.search).get("transactionId"),v=window.location.href.indexOf("foo.com")>-1,S=document.getElementsByTagName("body")[0],m=v?"foo-class":"threeds-body-class";S.className=S.className+" "+m,Object(i.useEffect)(Object(r.a)(Object(o.a)().mark((function n(){return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.a)({cartId:h,transactionId:O,callback:function(n){return window.Android.threeDSStatusFunc(null===n||void 0===n?void 0:n.code,null===n||void 0===n?void 0:n.message,null===n||void 0===n?void 0:n.reason,null===n||void 0===n?void 0:n.redirectUrl,null===n||void 0===n?void 0:n.returnUrl,null===n||void 0===n?void 0:n.setupIntentResponseDetail,null===n||void 0===n?void 0:n.error)}}).then((function(n){f(n)}));case 2:case"end":return n.stop()}}),n)}))),[]);var p=t.code,T=t.message,y=(t.reason,t.redirectUrl,t.returnUrl,t.setupIntentResponseDetail,t.error);console.log(t,"status");var E=Object(u.i)("loader.GIF");return Object(l.jsx)("div",{className:"fae-threeds-webview",children:400==p?Object(l.jsxs)(d.FAEText,{style:{textAlign:"center"},children:[Object(l.jsx)(d.FAELoading,{type:"svg",loaderImage:E,height:"200px"}),"Loading ..."]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d.FAEText,{children:T}),Object(l.jsx)(s.FAEButton,{onClick:function(){return function(n,e,t){window.Android.threeDSStatusFunc(n,e,t)}(p,y,T)},children:"Proceed"})]})})}}}]);
//# sourceMappingURL=67.454a459c.chunk.js.map