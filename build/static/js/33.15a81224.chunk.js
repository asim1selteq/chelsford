(this["webpackJsonpfindanexpert-frontend"]=this["webpackJsonpfindanexpert-frontend"]||[]).push([[33],{1233:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"f",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return l}));var r=a(23),i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_JDS,c=function(e){e.isInClinic,e.isInHouse,e.serviceId;var t=e.userId;e.selectedDate,e.selectedTime,e.radius,e.addressIdForClinics;return Object(r.a)({type:"GET_ADDRESSES_LIST",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(i,"/Addresses/GetCustomerAddresses/").concat(t,"/true")})},o=function(e){var t=e.serviceId,a=e.selectedDate,i=(e.selectedTime,e.latitude),c=e.longitude,o=e.userCountryId,s=e.serviceVenu,d=e.distance,u=e.startTime,l=e.endTime;return Object(r.a)({type:"GET_ADDRESSES_FOR_BOOKING",verb:"POST",endpoint:"".concat(n,"/Clinic/GetProvidersInSpecificSlot"),payload:JSON.stringify({bookDate:a,timeStart:u,timeEnd:l,latitude:i,longitude:c,countryId:o,serviceVenu:s,serviceId:t,distance:d})})},s=function(e){return Object(r.a)({type:"GET_USER_HOME_ADDRESSES",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(i,"/Addresses/GetCustomerAddresses/").concat(e,"/true")})},d=function(e){var t=e.addressId,a=e.location,n=e.cartId,c=e.serviceId,o=e.userId,s=e.trainingId,d=e.voucherId;return Object(r.a)({type:"SAVE_ADDRESS_FOR_BOOKING",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(i,"/TempBooking/SaveTempBooking"),payload:JSON.stringify({userId:o,serviceID:c,addressId:t,location:a,cartId:n,TrainingDetailId:s,voucherId:d})})},u=function(){return{type:"MAKE_NEXT_PAGE_FALSE"}},l=function(e){var t=e.serviceId,a=e.countryId,i=e.latitude,c=e.longitude;return Object(r.a)({type:"CHECK_SERVICES_AVAILABILITY",verb:"POST",endpoint:"".concat(n,"/ServiceAvailability/CheckServiceAvailability"),payload:JSON.stringify({serviceId:t,countryId:a,latitude:"".concat(i),longitude:"".concat(c),serviceVenu:2})})}},1234:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return d}));var r=a(23),i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_JDS,c=function(e){var t=e.selectedDate,a=e.serviceId,i=e.bookingDuration,c=e.providerId;return Object(r.a)({type:"GET_BOOKING_SLOTS_INHOUSE",endpoint:"".concat(n,"/TimeSlots/GetTimeSlots"),payload:JSON.stringify({bookingDate:t,serviceId:a,providersId:c,duration:i}),verb:"POST"})},o=function(e){var t=e.selectedDate,a=e.selectedTime,n=e.bookingId,c=e.cartId,o=e.notes;e.bookingStartTime,e.bookingEndTime,e.addressId;return Object(r.a)({type:"SAVE_DATE_AND_TIME",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(i,"/TempBooking/SaveTempBooking"),payload:JSON.stringify({bookingDate:t,bookingTime:a,tempBookingId:n,cartId:c,customerNotes:o})})},s=function(e){var t=e.selectedDate,a=e.cartId,n=e.bookingStartTime,c=e.bookingEndTime,o=e.addressId;return Object(r.a)({type:"SAVE_DATE_AND_TIME",verb:"PUT",headers:{contentType:"includeBearer"},endpoint:"".concat(i,"/TempBooking/BookingDateTime"),payload:JSON.stringify({cartId:a,bookingDate:t,bookingStartTime:n,bookingEndTime:c,addressId:o})})},d=function(){return{type:"MAKE_DATE_TIME_NEXT_PAGE_FALSE"}}},1290:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return o}));var r=a(23),i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,n=function(e){return Object(r.a)({type:"GET_SESSION_BOOKINGS",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(i,"/Booking/GetCustomerSessionBookings?UserId=").concat(e,"&PageNumber=1&RowsOfPage=50")})},c=function(e,t){return Object(r.a)({type:"SAVE_SESSION_BOOKINGS",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(i,"/Booking/SaveSessions"),payload:JSON.stringify({cartId:e,numberOfSessions:t})})},o=function(e,t){return Object(r.a)({type:"DELETE_SESSION_BOOKING",verb:"DELETE",headers:{contentType:"includeBearer"},endpoint:"".concat(i,"/Booking/DeleteSessionBooking?BookingId=").concat(e,"&SessionId=").concat(t)})}},1411:function(e,t,a){},1412:function(e,t,a){"use strict";var r=a(53),i=a(108);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a(2)),c=(0,r(a(109)).default)(n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=c},1830:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var r=a(20),i=a(3),n=a(107),c=a(181),o=a(13),s=a(2),d=a(9),u=a(76),l=a(92),b=a(38),p=a(10),v=a(391),O=a(127),g=a(1233),j=a(21),f=a(1234),m=a(1412),S=a.n(m),I=(a(1411),a(1290)),E=a(1),T=Object(p.i)("loader.GIF"),_=Object(p.i)("placeholder.jpg"),h=Object(p.i)("image_upload_icon.svg"),x=Object(p.i)("video_upload_icon.svg"),A=Object(l.b)((function(e){var t=e.serviceAttributesPageReducer,a=t.error,r=t.loading,i=t.serviceAttributes,n=t.nextPageAttributes,c=t.videoUploadedResponse,o=t.uploadedImages,s=t.uploadedVideos,d=t.isDeletedResponse,u=e.addressSelectionPageReducer,l=u.bookingId,b=u.cartId,p=u.checkServiceavailabiltiyData,v=e.dateTimeSelectionPageReducer.nextPageDateTimeSelection;return{error:a,loading:r,userCountryId:e.defaultReducer.userCountryId,serviceAttributes:i,nextPageAttributes:n,videoUploadedResponse:c,bookingId:l,cartId:b,uploadedImages:o,uploadedVideos:s,isDeletedResponse:d,nextPageDateTimeSelection:v,checkServiceavailabiltiyData:p}}),(function(e){return Object(u.b)({getServiceAttributesData:v.c,makeServiceAttributesNextPageFalse:v.e,saveServiceAttributes:v.g,uploadBookingVideo:v.h,saveAddress:g.f,makeVideoUploadedResponseEmpty:v.f,makeNextPageFalse:g.e,getBookingVideoAndImages:v.b,deleteImageOrVideo:v.a,makeIsDeletedResponseEmpty:v.d,makeDateTimeNextPageFalse:f.b,saveBookingDateAndTime:f.c,SaveSessionBooking:I.b,CheckServiceAvailability:g.a},e)}))((function(e){e.error;var t=e.loading,a=e.userCountryId,u=e.serviceAttributes,l=void 0===u?[]:u,v=e.getServiceAttributesData,g=e.nextPageAttributes,f=e.makeServiceAttributesNextPageFalse,m=e.saveServiceAttributes,I=e.videoUploadedResponse,A=e.uploadBookingVideo,y=e.bookingId,k=e.cartId,D=e.saveAddress,N=e.makeVideoUploadedResponseEmpty,P=e.makeNextPageFalse,R=e.getBookingVideoAndImages,B=e.uploadedImages,C=e.uploadedVideos,F=e.deleteImageOrVideo,w=e.isDeletedResponse,V=e.makeIsDeletedResponseEmpty,L=e.SaveSessionBooking,K=e.saveBookingDateAndTime,G=e.CheckServiceAvailability,H=e.checkServiceavailabiltiyData,U=void 0===H?[]:H,W=Object(p.h)("userId"),q=Object(b.m)().service,J=Object(p.c)(q,"-");document.title="Chelsford | ".concat(J," - Attributes");var M=Object(b.l)().state,Y=M.serviceId,X=M.isOnline,z=M.isInHouse,Q=M.voucherId,Z=M.isInClinic,$=M.selectedDate,ee=M.selectedTime,te=M.hasProducts,ae=M.selectedSessions,re=M.latitude,ie=M.longitude,ne=Object(s.useState)([]),ce=Object(o.a)(ne,2),oe=ce[0],se=ce[1],de=Object(s.useState)([]),ue=Object(o.a)(de,2),le=ue[0],be=ue[1],pe=Object(s.useState)(!1),ve=Object(o.a)(pe,2),Oe=ve[0],ge=ve[1],je=Object(s.useState)(""),fe=Object(o.a)(je,2),me=fe[0],Se=fe[1],Ie=Object(s.useState)(!1),Ee=Object(o.a)(Ie,2),Te=Ee[0],_e=Ee[1],he=Object(s.useState)(!1),xe=Object(o.a)(he,2),Ae=xe[0],ye=xe[1],ke=Object(s.useState)({}),De=Object(o.a)(ke,2),Ne=De[0],Pe=De[1];Object(s.useEffect)((function(){X&&D({addressId:0,location:"Online",serviceId:Y,userId:W,cartId:"",voucherId:Q})}),[X,D,Y,W,Q]),Object(s.useEffect)(Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(Y);case 2:if(!z){e.next=5;break}return e.next=5,G({serviceId:Y,countryId:a,latitude:re,longitude:ie});case 5:return R(k||M.cartId),e.abrupt("return",(function(){return P()}));case 7:case"end":return e.stop()}}),e)}))),[k,R,v,P,Y,M.cartId]),Object(s.useEffect)((function(){if(!Object(p.n)(I)){_e(!1),ge(!1);var e=I.message;0!==I.code?alert(e):(alert(e),R(k||M.cartId)),N()}}),[I,W,N,k,M.cartId,R]),Object(s.useEffect)((function(){if(!Object(p.n)(w)){_e(!1),ge(!1);var e=w.message;0!==w.code?alert(e):(alert(e),R(k||M.cartId)),V()}}),[k,R,w,V,M.cartId]),Object(s.useEffect)(Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=18;break}return e.next=3,ae;case 3:if(e.t0=e.sent,e.t1=e.t0>0,!e.t1){e.next=7;break}L(k,ae);case 7:return f(),e.next=10,te;case 10:if(e.t2=e.sent,!e.t2){e.next=13;break}j.a.push({pathname:"/product-list:".concat(q),state:Object(i.a)(Object(i.a)({},M),{},{notes:me,bookingId:y||M.bookingId,cartId:k||M.cartId,pathName:"/booking/".concat(q,"/date-time-selection"),serviceId:Y,bookingName:J,providerId:U.availableProviders})});case 13:return e.next=15,!te;case 15:if(e.t3=e.sent,!e.t3){e.next=18;break}j.a.push({pathname:"/booking/".concat(q,"/date-time-selection"),state:Object(i.a)(Object(i.a)({},M),{},{notes:me,bookingId:y||M.bookingId,cartId:k||M.cartId,bookingName:J,providerId:U.availableProviders})});case 18:localStorage.setItem("cartid",M.cartId);case 19:case"end":return e.stop()}}),e)}))),[y,k,Z,f,g,K,$,ee,q,M,me]);var Re=function(e,t){be(Object(p.m)([{id:e,value:t}].concat(Object(r.a)(le)),"id"))},Be=function(e){var t=e.isRequired,a=e.id,i=e.error;return!0===t&&se(Object(p.m)([{id:a,error:i}].concat(Object(r.a)(oe)),"id")),i},Ce=function(e,t,a){Pe({e:e,id:t,filetype:a}),ye(!0)};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"fae--service-attributes-page-container dpt dpb",children:Object(E.jsxs)("div",{className:"fae--service-attributes-page-wrapper",children:[t&&Object(E.jsx)(d.FAELoading,{type:"svg",loaderImage:T,height:"300px"}),!t&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(d.FAETitle,{label:J,logo:Object(p.i)("title_logo.svg")}),Object(E.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),oe.some((function(e){return!0===e.error}))?alert("Please fill required fields"):m({cartId:k||M.cartId,bookingId:y||M.bookingId,fieldAnswers:le})},className:"fae--service-attributes-page-attributes-form",children:[s.Children.toArray(l.map((function(e){var t=e.attributeTypeName,a=e.attributeKey,r=e.attributeID,i=e.options,n=void 0===i?[]:i,c=e.isRequired,o=t.toLowerCase();return Object(E.jsxs)(E.Fragment,{children:["select"===o&&Object(E.jsx)(d.FAESelect,{label:a,primary:!0,shadowBoxProps:{primary:!0},values:Object(O.c)(n),required:c,isRequired:c,getSelectedValue:function(e){return Re(r,e)}}),"textbox"===o&&Object(E.jsx)(d.FAETextField,{label:a,primary:!0,shadowBoxProps:{primary:!0},placeholder:a,required:c,isRequired:c,getValue:function(e){return Re(r,e)}}),"checkbox"===o&&Object(E.jsx)(d.FAECheckBoxGroup,{label:a,values:Object(O.c)(n),primary:!0,shadowBoxProps:{primary:!0},error:function(e){return c&&e.length<1?Be({isRequired:c,id:r,error:!0}):Be({isRequired:c,id:r,error:!1})},errorMessage:"Select at least 1",isRequired:c,getSelectedValues:function(e){return Re(r,e.toString())}}),"radiobutton"===o&&Object(E.jsx)(d.FAERadioGroup,{label:a,values:Object(O.c)(n),primary:!0,shadowBoxProps:{primary:!0},isRequired:c,required:c,getSelectedValue:function(e){return Re(r,e)}})]})}))),Object(E.jsx)(d.FAEShadowBox,{children:Object(E.jsx)(d.FAETextField,{label:"Add Text Notes",placeholder:"Notes...",primary:!0,shadowBoxProps:{primary:!0},value:me,getValue:function(e){return Se(e)}})}),Object(E.jsx)(d.FAEShadowBox,{className:"fae--service-attributes-page-notes-wrapper",padding:!0,primary:!0,children:Object(E.jsxs)("div",{className:"fae--service-attributes-page-image-or-video-notes-wrapper",children:[Object(E.jsxs)("div",{className:"fae--service-attributes-page-add-wrapper",children:[Object(E.jsx)("label",{htmlFor:"video-upload",className:"pointer",children:Object(E.jsxs)(d.FAEText,{className:"fae--service-attributes-uploading-image-or-video-button",children:[Object(E.jsx)("img",{src:x,alt:"video_upload_icon",width:"40px",height:"40px"}),"Add Video Notes"]})}),Object(E.jsx)("input",{type:"file",accept:"video/*",name:"image-upload",id:"video-upload",onChange:function(e){e.preventDefault(),_e(!0),e.target.files[0]&&A({cartId:k||M.cartId,userId:W,src:e.target.files[0],filetype:"V"})},style:{display:"none"}})]}),Object(E.jsxs)("div",{className:"fae--service-attributes-page-add-wrapper",children:[Object(E.jsx)("label",{htmlFor:"image-upload",className:"pointer",children:Object(E.jsxs)(d.FAEText,{className:"fae--service-attributes-uploading-image-or-video-button",children:[Object(E.jsx)("img",{src:h,alt:"image_upload_icon",width:"40px",height:"40px"}),"Add Image Notes"]})}),Object(E.jsx)("input",{type:"file",accept:"image/*",name:"image-upload",id:"image-upload",onChange:function(e){e.preventDefault(),ge(!0),e.target.files[0]&&A({cartId:k||M.cartId,userId:W,src:e.target.files[0],filetype:"I"})},style:{display:"none"}})]})]})}),Object(E.jsxs)(d.FAEShadowBox,{padding:!0,primary:!0,style:{flexDirection:"column",gap:"10px"},children:[Object(E.jsxs)("div",{className:"fae--service-attributes-uploaded-images-or-videos-wrapper line-break",children:[Object(E.jsx)(d.FAEText,{subHeading:!0,children:"Videos"}),Object(E.jsx)("div",{className:"fae--services-attributes-page-already-uploaded-images-and-videos",children:Te?Object(E.jsx)(d.FAELoading,{loaderImage:T,height:"200px",type:"svg"}):C.map((function(e){var t=e.filePath,a=e.id;return Object(E.jsxs)("div",{className:"fae--service-attributes-custom-image-or-video-wrapper-main-container",children:[Object(E.jsx)("a",{className:"fae--service-attributes-custom-image-or-video-wrapper",target:"_blank",href:t,rel:"noreferrer",children:Object(E.jsx)("div",{className:"fae--service-card-image-container",children:Object(E.jsx)("video",{src:t,alt:t,width:"100%",height:"100%",type:"video/mp4"},a)})}),Object(E.jsx)("div",{onClick:function(e){Ce(e,a,!0)},className:"fae--addresses-delete-icon-wrapper pointer",children:Object(E.jsx)(S.a,{style:{color:"#ffebee"}})})]})}))})]}),Object(E.jsxs)("div",{className:"fae--service-attributes-uploaded-images-or-videos-wrapper",children:[Object(E.jsx)(d.FAEText,{subHeading:!0,children:"Images"}),Object(E.jsx)("div",{className:"fae--services-attributes-page-already-uploaded-images-and-videos",children:Oe?Object(E.jsx)(d.FAELoading,{loaderImage:T,height:"200px",type:"svg"}):B.map((function(e){var t=e.id,a=e.filePath;return Object(E.jsxs)("div",{className:"fae--service-attributes-custom-image-or-video-wrapper-main-container",children:[Object(E.jsx)("a",{className:"fae--service-attributes-custom-image-or-video-wrapper",target:"_blank",href:a,rel:"noreferrer",children:Object(E.jsx)(d.FAEImage,{placeholder:_,src:a,alt:a,width:"100%",height:"100%"},t)}),Object(E.jsx)("div",{onClick:function(e){Ce(e,t,!1)},className:"fae--addresses-delete-icon-wrapper pointer",children:Object(E.jsx)(S.a,{style:{color:"#ffebee"}})})]})}))})]})]}),Object(E.jsx)(d.FAEButton,{type:"submit",className:"fae--service-attributes-button",children:"Next"})]})]})]})}),Ae&&Object(E.jsx)(d.FAEDialogueBox,{title:"",open:Ae,content:"Are you sure you want to delete this file.",buttons:[{label:"Yes",onClick:function(){var e=Ne.e,t=Ne.id;Ne.filetype?function(e,t){e.stopPropagation(),e.preventDefault(),_e(!0),F({cartId:k||M.cartId,id:t})}(e,t):function(e,t){e.stopPropagation(),e.preventDefault(),ge(!0),F({cartId:k||M.cartId,id:t})}(e,t),ye(!1)}},{label:"Cancel",onClick:function(){return ye(!1)}}]})]})}))}}]);
//# sourceMappingURL=33.15a81224.chunk.js.map