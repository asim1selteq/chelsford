(this["webpackJsonpfindanexpert-frontend"]=this["webpackJsonpfindanexpert-frontend"]||[]).push([[35],{1222:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var r=n(23),o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_VOUCHER,a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MARKETING,i=function(e){return Object(r.a)({type:"GET_SERVICES_VOUCHERS",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/Voucher/GetActiveVoucherByUserId?id=").concat(e)})},c=function(e,t){return Object(r.a)({type:"GET_SUMMARY_VOUCHERS",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(a,"/Voucher/GetVoucherByServiceId?userId=").concat(e,"&serviceId=").concat(t)})},d=function(e){return Object(r.a)({type:"GET_HISTORY_VOUCHERS",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(a,"/Voucher/GetServiceVoucherHistory?userId=").concat(e)})}},1232:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return m}));n(23);var r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_VOUCHER,o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BEARER_TOKEN,a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,i=new Headers;i.append("Content-Type","application/json"),i.append("mode","no-cors"),i.append("Authorization","Bearer ".concat(o)),i.append("Access-Control-Allow-Origin","*");var c=function(e){var t=e.cartId,n=e.transactionId,o=JSON.stringify({cartId:t,transactionId:n}),a={method:"POST",headers:i,body:o,redirect:"follow"};return fetch("".concat(r,"/Payment/ThreedsStatus"),a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))},d=function(e){var t=e.cartId,n=e.paymentAmount,o=e.stripePaymentMethodId,a=e.userCountryId,c=e.bookingId,d=e.voucherCode,s=e.userCurrencyCode,u=e.transactionId,l=e.userId,m=JSON.stringify({bookingId:c,cartId:t,countryId:a,currency:s,paymentAmount:n,returnUrl:"".concat("localhost"==document.domain?"https://expert-dev.findanexpert.net/paymentverification":-1!==document.domain.indexOf("findanexpert")?"https://".concat(document.domain,"/paymentverification"):"https://www.expert.one/paymentverification"),stripePaymentMethodId:o,transactionId:u,userId:l,voucherCode:d}),O={method:"POST",headers:i,body:m,redirect:"follow"};return fetch("".concat(r,"/Payment/CapturePayment"),O).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))};function s(e){var t={method:"POST",headers:i,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(r,"/OneTimePayment/CapturePayment"),t).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){console.log("e",e)}))}function u(e){var t={method:"POST",headers:i,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(r,"/OneTimePayment/HoldPayment"),t).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){return console.log("e",e)}))}function l(e){var t={method:"POST",headers:i,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(r,"/OneTimePayment/ThreedsStatus"),t).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){return console.log("e",e)}))}function m(e){var t={method:"POST",headers:i,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(a,"/Addresses/GetClinicAddresses"),t).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){return console.log("e",e)}))}},1246:function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"f",(function(){return s})),n.d(t,"j",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return m})),n.d(t,"m",(function(){return O})),n.d(t,"l",(function(){return p})),n.d(t,"k",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return j}));var r=n(23),o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL_2,i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_VOUCHER,c=function(e){var t=e.cartId,n=e.serviceId,a=e.userId,i=e.voucherCode,c=e.isFreeConsultation,d=e.selectedSessions,s=e.countryId,u=e.discountCodeResp,l=e.discountCodeAmount,m=e.isTraining,O=e.is_service;return Object(r.a)({type:"GET_SUMMARY_DATA",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/CalculateSummary"),payload:JSON.stringify({countryId:s,serviceId:n,userId:a,isService:!0,cartId:t,VoucherCode:i,isFreeConsultation:c,session:d,devicePlatform:"web",deviceName:"web",discountCode:u,discountCodeAmount:l,isTraining:m,is_service:O})})},d=function(e){var t=e.serviceId,n=e.userId;return Object(r.a)({type:"GET_VOUCHER_LIST",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/Voucher/GetVoucherList/").concat(n,"/").concat(t)})},s=function(e){var t=e.cartId,n=e.paymentAmount,o=e.stripePaymentMethodId,a=e.userCountryId,c=e.bookingId,d=e.voucherCode,s=e.userCurrencyCode,u=e.transactionId,l=e.userId;return Object(r.a)({type:"SAVE_BOOKING",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(i,"/Payment/CapturePayment"),payload:JSON.stringify({bookingId:c,cartId:t,countryId:a,currency:s,paymentAmount:n,returnUrl:"".concat("localhost"==document.domain?"https://expert-dev.findanexpert.net/paymentverification":-1!==document.domain.indexOf("findanexpert")?"https://".concat(document.domain,"/paymentverification"):"https://www.expert.one/paymentverification"),stripePaymentMethodId:o,transactionId:u,userId:l,voucherCode:d})})},u=function(e){var t=e.paymentAmount,n=e.stripePaymentMethodId,o=e.userCountryId,i=e.email,c=e.bookingId,d=e.isReferralUsed,s=e.isTreatmentOfferUsed,u=e.cartId,l=e.voucherCode,m=e.selectedSessions,O=e.userCurrencyCode;return Object(r.a)({type:"SAVE_BOOKING",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(a,"/Payment/Cod"),payload:JSON.stringify({stripepaymentmethodId:n,bookingid:c,serviceproviderid:0,currency:O,paymentamount:t,referralbonusused:d,isfreetreatmentused:s,isocode:o,email:i,cartId:u,VoucherCode:l,numberOfSession:m})})},l=function(e){var t=e.paymentAmount,n=e.stripePaymentMethodId,o=e.bookingId,a=e.cartId,c=e.userCurrencyCode,d=e.userId;return Object(r.a)({type:"HOLD_PAYMENT",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(i,"/Payment/HoldPayment"),payload:JSON.stringify({bookingId:o,cartId:a,currency:c,paymentAmount:t,paymentMethodId:n,returnUrl:"".concat("localhost"==document.domain?"https://expert-dev.findanexpert.net/paymentverification":-1!==document.domain.indexOf("findanexpert")?"https://".concat(document.domain,"/paymentverification"):"https://www.expert.one/paymentverification"),userId:d})})},m=function(e){var t=e.amount,n=e.cartId,o=e.chargeId,i=(e.distance,e.isCaptured),c=e.isReferralReceiver,d=(e.latitude,e.longitude,e.numberOfSessions,e.providerIds,e.referralBonusUsed),s=e.userId,u=e.voucherCode,l=(e.serviceVenu,e.bookingDate,e.bookingTime,e.duration,e.serviceId),m=e.trainingStartTime,O=e.trainingStartDate;return Object(r.a)({type:"CREATE_BOOKING",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(a,"/Booking/CreateBookingTraining"),payload:JSON.stringify({amount:t,cartId:n,chargeId:o,isCaptured:i,isReferralReceiver:c,referralBonusUsed:d,userId:s,voucherCode:u,bookingDate:O,bookingTime:m,serviceId:l})})},O=function(){return{type:"SET_SAVE_BOOKING_RESPONSE_TO_EMPTY"}},p=function(){return{type:"SET_HOLD_PAYMENT_RESPONSE_TO_EMPTY"}},v=function(){return{type:"SET_CREATEBOOKING_PAYMENT_RESPONSE_TO_EMPTY"}},h=function(e){var t=e.tempBookingId,n=e.cartId,o=e.userId;return Object(r.a)({type:"SALES_ORDER",verb:"POST",headers:{contentType:"includeBearer"},payload:JSON.stringify({tempBookingId:t,cartId:n,userId:o}),endpoint:"".concat(a,"/SalesOrder/SalesOrder")})},b=function(e){var t=e.salesOrderNumber,n=e.cartId,o=e.bookingId,i=e.userId,c=e.providerId;return Object(r.a)({type:"SALES_GET_INVOICE",verb:"POST",headers:{contentType:"includeBearer"},payload:JSON.stringify({salesOrderNumber:t,cartId:n,bookingId:o,userId:i,providerId:c}),endpoint:"".concat(a,"/SalesOrder/Getinvoice")})},y=function(e){var t=e.userid,n=e.serviceid,o=e.discountcode,i=e.currentdate,c=e.countryid,d=e.numberofsession,s=e.referraldiscount;return Object(r.a)({headers:{contentType:"includeBearer"},type:"APPLY_DISCOUNT_CODE",verb:"POST",payload:JSON.stringify({userid:isNaN(t)?t:JSON.parse(t),serviceid:n,discountcode:o,currentdate:i,countryid:c,numberofsession:d,referraldiscount:s}),endpoint:"".concat(a,"/CalculateSummary/redeemdiscountcode")})},j=function(){return{type:"SET_DIDSCOUNT_CODE_OBJ_TO_EMPTY"}}},1257:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d}));var r=n(23),o=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_VOUCHER),a=function(e){return Object(r.a)({type:"GET_CARD_LIST",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/Payment/ListOfCustomerPaymentMethods?Email=").concat(e)})},i=function(e){var t=e.userId,n=e.paymentMethodId;return Object(r.a)({type:"DELETE_CARD",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/Payment/RemovePaymentMethod"),verb:"DELETE",payload:JSON.stringify({userId:t,paymentMethodId:n})})},c=function(e){var t=e.userId,n=e.paymentMethodId;return Object(r.a)({type:"MAKE_CARD_DEFAULT",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/Payment/AddDefaultPaymentMethod"),verb:"POST",payload:JSON.stringify({userId:t,paymentMethodId:n})})},d=function(){return{type:"SET_DEFAULT_CARD_OBJ_RESPONSE"}}},1409:function(e,t,n){},1828:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var r=n(3),o=n(107),a=n(181),i=n(13),c=n(2),d=n(9),s=n(76),u=n(92),l=n(38),m=n(10),O=n(1246),p=n(1257),v=n(21),h=(n(127),n(1409),n(1232)),b=n(99),y=n(1222),j=n(180),f=n(1),S=Object(m.i)("loader.GIF"),T=(Object(m.i)("loader_forcomponent.svg"),Object(u.b)((function(e){var t=e.summaryPageReducer,n=t.error,r=t.loading,o=t.summary,a=t.saveBookingResponse,i=t.voucherList,c=t.holdpaymentData,d=t.createBookingResp,s=t.salesOrder,u=t.discountPayload,l=t.disocuntLoading,m=e.paymentDetailsPageReducer,O=m.cardList,p=m.defaultCardId,v=e.defaultReducer;return{error:n,loading:r,summary:o,cardList:O,saveBookingResponse:a,userCountryId:v.userCountryId,userCountry:v.userCountry,voucherList:i,userCurrencyCode:v.userCurrencyCode,defaultCardId:p,holdpaymentData:c,createBookingResp:d,summaryvoucher:e.servicesVouchersPageReducer.summaryvoucher,salesOrder:s,discountPayload:u,disocuntLoading:l}}),(function(e){return Object(s.b)({getSummary:O.h,getCardList:p.b,setSaveBookingResponseToEmpty:O.m,setHoldPaymentResponseToEmpty:O.l,setCreateBookingResponseToEmpty:O.k,saveCodBooking:O.j,getVoucherList:O.i,HoldPayment:O.b,createBooking:O.g,GetVoucherByServiceId:y.b,Getinvoice:O.a,SalesOrderSummary:O.c,applyDiscountCode:O.d,applyDiscountCodeObjectEmpty:O.e},e)}))((function(e){var t=e.summary,n=void 0===t?[]:t,s=e.getSummary,u=(e.error,e.loading),O=e.getCardList,p=e.cardList,y=(e.saveBooking,e.setSaveBookingResponseToEmpty),T=e.setHoldPaymentResponseToEmpty,E=e.setCreateBookingResponseToEmpty,I=(e.saveBookingResponse,e.userCountryId),C=e.userCountry,g=e.getVoucherList,_=(e.voucherList,e.userCurrencyCode),x=e.defaultCardId,A=e.HoldPayment,P=e.holdpaymentData,N=void 0===P?[]:P,R=e.saveCodBooking,D=e.createBooking,k=e.createBookingResp,B=e.GetVoucherByServiceId,F=e.summaryvoucher,U=void 0===F?[]:F,L=e.SalesOrderSummary,H=e.Getinvoice,V=e.salesOrder,M=(e.applyDiscountCode,e.discountPayload),K=void 0===M?{}:M,w=(e.disocuntLoading,e.applyDiscountCodeObjectEmpty),W=Object(m.h)("customer_details").email,G=Object(c.useState)(u),J=Object(i.a)(G,2),Y=J[0],z=J[1],q=Object(l.l)(),Q=q.state,X=q.pathname,Z=Q.LinkUserCountry,$=Q.LinkUserCountryId,ee=Q.serviceId,te=Q.cartId,ne=Q.bookingId,re=Q.freeConsultation,oe=Q.selectedSessions,ae=Q.providerId;void 0!==Z&&null!==Z&&!1!==Z&&(C=Z,I=$);var ie=Object(c.useState)(""),ce=Object(i.a)(ie,2),de=ce[0],se=ce[1],ue=Object(c.useState)(""),le=Object(i.a)(ue,2),me=le[0],Oe=le[1],pe=Object(c.useState)(!1),ve=Object(i.a)(pe,2),he=ve[0],be=ve[1],ye=Object(c.useState)(!1),je=Object(i.a)(ye,2),fe=je[0],Se=je[1],Te=Object(c.useState)(""),Ee=Object(i.a)(Te,2),Ie=Ee[0],Ce=Ee[1],ge=Object(c.useState)(""),_e=Object(i.a)(ge,2),xe=_e[0],Ae=(_e[1],Object(c.useState)(!1)),Pe=Object(i.a)(Ae,2),Ne=Pe[0],Re=(Pe[1],Object(c.useState)("")),De=Object(i.a)(Re,2),ke=De[0],Be=(De[1],Object(c.useState)(!1)),Fe=Object(i.a)(Be,2),Ue=(Fe[0],Fe[1]),Le=Object(c.useState)("Ok"),He=Object(i.a)(Le,2),Ve=He[0],Me=He[1],Ke=(n.address,n.price),we=n.totalAmount,We=n.serviceName,Ge=n.bookingDate,Je=n.bookingTime,Ye=n.percentageDiscount,ze=n.currencySymbol,qe=n.referralDiscount,Qe=n.voucherCode,Xe=n.voucherDiscount,Ze=n.duration,$e=n.trainingEndDate,et=n.trainingStartDate,tt=n.trainingStartTime,nt=n.isTraining,rt=n.description,ot=n.session,at=n.isReferralReceiver;Object(c.useEffect)((function(){B(Object(m.h)("userId"),ee)}),[]),Object(c.useEffect)((function(){""!==C&&se("PK"===C?"cash":"card")}),[C]),Object(c.useEffect)((function(){var e,t;s({serviceId:ee,cartId:te,voucherCode:1==(null===U||void 0===U||null===(e=U.vouchers)||void 0===e?void 0:e.length)?null===U||void 0===U||null===(t=U.vouchers[0])||void 0===t?void 0:t.voucherCode:xe,userId:Object(m.h)("userId"),isFreeConsultation:re,selectedSessions:0,countryId:1,isTraining:!0,is_service:!1}),L({tempBookingId:ne,cartId:te,userId:JSON.parse(Object(m.h)("userId"))}),g({serviceId:ee,userId:Object(m.h)("userId")})}),[te,s,g,ee]),document.title="Chelsford | ".concat(We," - Summary"),Object(c.useEffect)((function(){""!==de&&"card"===de&&O(W)}),[W,O,de]),Object(c.useEffect)((function(){Oe(null!==x&&void 0!==x?x:"")}),[x]);var it=null===p||void 0===p?void 0:p.filter((function(e){return 1==(null===e||void 0===e?void 0:e.defaultPaymentMethod)})),ct=function(e){var t,n,r,o,a;if(z(!0),w(),(""==(null===(t=it[0])||void 0===t?void 0:t.id)||null==(null===(n=it[0])||void 0===n?void 0:n.id)||void 0==(null===(r=it[0])||void 0===r?void 0:r.id))&&171!==I)return Ce("Please select or add your payment card."),be(!0),void Me("Select Card");re?R({email:W,bookingId:ne,isTreatmentOfferUsed:!1,isReferralUsed:!1,paymentAmount:0,stripePaymentMethodId:"Cash",userCountryId:I,cartId:te,voucherCode:Qe,selectedSessions:oe}):(H({salesOrderNumber:null===V||void 0===V||null===(o=V.salesOrders)||void 0===o?void 0:o.salesOrderNumber,cartId:te,bookingId:ne,userId:JSON.parse(Object(m.h)("userId")),providerId:0}),""==ne?alert("Booking Id can't be empty"):"cash"===de?R({email:W,bookingId:ne,isTreatmentOfferUsed:!1,isReferralUsed:!1,paymentAmount:we,stripePaymentMethodId:"Cash",userCountryId:I,cartId:te,voucherCode:Qe,selectedSessions:oe,userCurrencyCode:_}):A({paymentAmount:we,stripePaymentMethodId:null===(a=it[0])||void 0===a?void 0:a.id,bookingId:ne,cartId:te,userCurrencyCode:_,email:W,userId:Object(m.h)("userId")})&&Se(!0))};Object(c.useEffect)(Object(a.a)(Object(o.a)().mark((function e(){var t,n,r,a,i,c,d,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=N.message,N.reason,n=N.redirectUrl,r=N.returnUrl,a=N.setupIntentResponseDetail,c=(i=a||{}).transactionId,d=i.paymentMethodId,Object(m.n)(N)){e.next=14;break}if(!0!==(null===N||void 0===N?void 0:N.error)&&0==N.code&&(z(!0),w(),Object(h.b)({cartId:te,paymentAmount:we,stripePaymentMethodId:d,userCountryId:""!==I?I:Object(m.h)("switched_id"),bookingId:ne,voucherCode:xe,userCurrencyCode:_,transactionId:c,userId:Object(m.h)("userId")}).then((function(e){var t;!0!==(null===e||void 0===e?void 0:e.error)&&1!==(null===e||void 0===e?void 0:e.statusCode)?D({trainingStartTime:tt,trainingStartDate:et,amount:we,cartId:te,chargeId:null===e||void 0===e||null===(t=e.setupIntentResponseDetail)||void 0===t?void 0:t.chargeId,distance:20,isCaptured:!0,isReferralReceiver:at,latitude:"".concat(null===Q||void 0===Q?void 0:Q.latitude),longitude:"".concat(null===Q||void 0===Q?void 0:Q.longitude),numberOfSessions:ot,providerIds:ae,referralBonusUsed:!1,userId:JSON.parse(Object(m.h)("userId")),voucherCode:xe,serviceVenu:Q.isInClinic?2:1,bookingDate:Ge,bookingTime:Je,duration:Ze,serviceId:ee}):Object(m.a)({toaster:"error",message:e.message})}))),!0===(null===N||void 0===N?void 0:N.error)||10!=N.code){e.next=13;break}return e.next=7,H({salesOrderNumber:null===V||void 0===V||null===(s=V.salesOrders)||void 0===s?void 0:s.salesOrderNumber,cartId:te,bookingId:ne,userId:JSON.parse(Object(m.h)("userId")),providerId:0});case 7:return e.next=9,Object(m.r)("summary_detail",{isInClinic:Q.isInClinic,trainingStartTime:tt,trainingStartDate:et,bookingTime:nt?tt:Je,bookingDate:nt?et:Ge,serviceName:We,currencySymbol:ze,isReferralReceiver:at,selectedSessions:oe,latitude:null===Q||void 0===Q?void 0:Q.latitude,longitude:null===Q||void 0===Q?void 0:Q.longitude,UbookingId:ne,totalAmount:we,returnUrl:r,Vouchercode:xe,availableProviderId:ae,paymentMethod:d,duration:Ze,serviceId:ee});case 9:return e.next=11,window.location.assign("".concat(n));case 11:e.next=14;break;case 13:1==(null===N||void 0===N?void 0:N.error)&&1==N.code&&(Ce(t),be(!0));case 14:return e.abrupt("return",(function(){y(),E(),T()}));case 15:case"end":return e.stop()}}),e)}))),[N,fe]),Object(c.useEffect)((function(){return Object(m.n)(k)||(0==k.code&&0==k.error?v.a.push({pathname:"/thank-you-for-booking",state:{message:null===k||void 0===k?void 0:k.message,bookingTime:nt?tt:Je,bookingDate:nt?et:Ge,serviceName:We,bookingId:ne,cartid:te}}):Object(m.a)({toaster:"error",message:null===k||void 0===k?void 0:k.message})),function(){y(),E(),T()}}),[k.code]);return Object(c.useEffect)((function(){if(!Object(m.n)(K))return null!==K&&void 0!==K&&K.error?null!==K&&void 0!==K&&K.error&&(Object(m.a)({message:null===K||void 0===K?void 0:K.message,toaster:"error"}),Ue("false")):(s({serviceId:ee,cartId:te,voucherCode:"",userId:Object(m.h)("userId"),isFreeConsultation:re,selectedSessions:oe,discountCodeResp:ke,discountCodeAmount:null===K||void 0===K?void 0:K.discountCodeAmount}),"Success"==(null===K||void 0===K?void 0:K.message)?Object(m.a)({message:"Your Discount code applied successfuly.",toaster:"success"}):Object(m.a)({message:null===K||void 0===K?void 0:K.message,toaster:"success"}),Ue("true")),function(){return w()}}),[null===K||void 0===K?void 0:K.error,Ne]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"random-design-container dpt dpb",children:[Y&&Object(f.jsx)(d.FAELoading,{type:"svg",loaderImage:S,height:"400px"}),!Y&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(d.FAETitle,{label:We,logo:Object(m.i)("title_logo.svg")}),Object(f.jsxs)("div",{className:"details-and-method-container",children:[Object(f.jsxs)(d.FAEText,{subHeading:!0,children:[Object(f.jsx)("span",{className:"red-text",children:"Service"})," Details"]}),""!==xe&&0!==Xe&&Object(f.jsxs)("div",{className:"fae-success-sum",children:[Object(f.jsx)("div",{children:"Vocher applied "})," ",Object(f.jsx)(j.FAEImage,{className:"fae-success-sum-icon",placeholder:Object(m.i)("icon-placeholder.png"),src:Object(m.i)("success.png")})]}),Object(f.jsxs)(d.FAEShadowBox,{primary:!0,padding:!0,className:"fae--summary-wrapper",children:[Object(f.jsxs)("div",{className:"summary-page-each-info-unit line-break",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(d.FAEText,{tertiary:!0,paragraph:!0,className:"summary-info-headers",bold:!0,children:"Service Name"}),Object(f.jsx)(d.FAEText,{className:"summary-info-text ",children:We})]}),Object(f.jsxs)(d.FAEText,{className:"summary-info-text ",children:[ze,Ke]})]}),Object(f.jsxs)("div",{className:"summary-page-each-info-unit line-break",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(d.FAEText,{tertiary:!0,paragraph:!0,className:"summary-info-headers",children:"Date and Time"}),Object(f.jsx)(d.FAEText,{className:"summary-info-text",children:nt?"".concat(et," - ").concat($e):Ge})]}),Object(f.jsx)(d.FAEText,{className:"summary-info-text",children:nt?"".concat(null===tt||void 0===tt?void 0:tt.split(":")[0]," : ").concat(null===tt||void 0===tt?void 0:tt.split(":")[1]):Je})]}),0!==ot&&Object(f.jsx)("div",{className:"summary-page-each-info-unit line-break",children:Object(f.jsxs)("div",{children:[Object(f.jsx)(d.FAEText,{tertiary:!0,paragraph:!0,className:"summary-info-headers",children:"No. Of Sessions"}),Object(f.jsx)(d.FAEText,{className:"summary-info-text",children:ot})]})}),Object(f.jsxs)("div",{className:"summary-page-each-info-unit line-break",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(d.FAEText,{tertiary:!0,paragraph:!0,className:"summary-info-headers",children:"Location"}),Object(f.jsx)(d.FAEText,{className:"summary-info-text",children:n.location})]}),!nt&&Object(f.jsxs)("div",{children:[Object(f.jsx)(d.FAEText,{tertiary:!0,paragraph:!0,className:"summary-info-headers",children:"Duration"}),Object(f.jsxs)(d.FAEText,{className:"summary-info-text",children:[Ze," min(s)"]})]})]}),nt&&Object(f.jsx)("div",{className:"summary-page-each-info-unit line-break",children:Object(f.jsxs)("div",{children:[Object(f.jsx)(d.FAEText,{tertiary:!0,paragraph:!0,className:"summary-info-headers",children:"Description"}),Object(f.jsx)(d.FAEText,{className:"summary-info-text",children:rt})]})})]})]}),!re&&Object(f.jsxs)("div",{className:"details-and-method-container payment-details",children:[Object(f.jsxs)(d.FAEText,{subHeading:!0,children:[Object(f.jsx)("span",{className:"red-text",children:"Payment"})," Details"]}),Object(f.jsxs)(d.FAEShadowBox,{primary:!0,padding:!0,className:"details-and-method-wrapper-body",children:[Object(f.jsxs)("div",{className:"summary-page-each-info-unit",children:[Object(f.jsx)(d.FAEText,{tertiary:!0,children:"Price"}),Object(f.jsxs)(d.FAEText,{className:"summary-info-text",tertiary:!0,children:[ze,Ke]})]}),Object(f.jsxs)("div",{className:"summary-page-each-info-unit",children:[Object(f.jsx)(d.FAEText,{tertiary:!0,children:"Discount"}),Object(f.jsxs)(d.FAEText,{className:"summary-info-text",tertiary:!0,children:[ze,Ye]})]}),0==u&&null!==K&&void 0!==K&&K.discountCodeAmount&&0!==(null===K||void 0===K?void 0:K.discountCodeAmount)?Object(f.jsxs)("div",{className:"summary-page-each-info-unit",children:[Object(f.jsx)(d.FAEText,{tertiary:!0,children:"Discount Code Amount "}),Object(f.jsxs)(d.FAEText,{className:"summary-info-text",tertiary:!0,children:[ze,null===K||void 0===K?void 0:K.discountCodeAmount]})]}):"",0!==qe&&Object(f.jsxs)("div",{className:"summary-page-each-info-unit",children:[Object(f.jsx)(d.FAEText,{tertiary:!0,children:"Referral Bonus"}),Object(f.jsxs)(d.FAEText,{className:"summary-info-text",tertiary:!0,children:[ze,qe]})]}),0!==Xe&&Object(f.jsxs)("div",{className:"summary-page-each-info-unit",children:[Object(f.jsx)(d.FAEText,{tertiary:!0,children:"Voucher Discount"}),Object(f.jsxs)(d.FAEText,{className:"summary-info-text",tertiary:!0,children:[ze,Xe]})]}),Object(f.jsxs)("div",{className:"summary-page-each-info-unit top-line-break",children:[Object(f.jsx)(d.FAEText,{className:"summary-sub-total",children:"Subtotal"}),Object(f.jsxs)(d.FAEText,{className:"summary-sub-total",children:[ze,we]})]})]})]}),"card"==de&&Object(f.jsxs)("div",{className:"details-and-method-container payment-details",children:[Object(f.jsxs)(d.FAEText,{subHeading:!0,children:[Object(f.jsx)("span",{className:"red-text",children:"Payment"})," Information"]}),Object(f.jsx)(d.FAEShadowBox,{padding:!0,primary:!0,className:"details-and-method-wrapper-body",children:Object(f.jsxs)("div",{className:"voucher-body-wrapper",children:[Object(f.jsxs)("div",{style:{width:"90%",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"0.5px solid rgba(237, 237, 237, 1)",paddingBottom:"10px",cursor:"pointer"},onClick:function(){return v.a.push({pathname:"/payment-details",state:Object(r.a)(Object(r.a)({},Q),{},{redirectedUrl:X})})},children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(d.FAEText,{tertiary:!0,paragraph:!0,children:"Payment Method"}),0==(null===p||void 0===p?void 0:p.length)?Object(f.jsx)(d.FAEText,{className:"fae--payment-details-card-bar red-text",children:"Please add Credit or Debit Card"}):Object(f.jsx)(d.FAEText,{className:"fae--payment-details-card-bar",children:"Credit or Debit Card"})]}),0!==(null===p||void 0===p?void 0:p.length)&&Object(f.jsx)(d.FAEText,{tertiary:!0,children:"Change Payment ->"})]}),c.Children.toArray(null===p||void 0===p?void 0:p.map((function(e){e.id;var t=e.card,n=t.last4,r=t.brand;return e.defaultPaymentMethod&&Object(f.jsxs)("div",{style:{width:"90%"},children:[Object(f.jsxs)(d.FAEText,{tertiary:!0,paragraph:!0,children:[r.toUpperCase()," Card"]}),Object(f.jsx)(d.FAEText,{className:"fae--payment-details-card-bar",children:n.padStart(16,"*")})]})})))]})})]}),Object(f.jsx)("br",{}),re?Object(f.jsx)(d.FAEButton,{onClick:ct,children:"Book Free Consultation"}):"cash"===de||""!==me?0==(null===p||void 0===p?void 0:p.length)?Object(f.jsx)(d.FAEButton,{onClick:function(){return v.a.push({pathname:"/payment-details/add-card",state:Object(r.a)(Object(r.a)({},Q),{},{redirectedUrl:X})})},children:"Confirm Booking"}):Object(f.jsx)(d.FAEButton,{onClick:ct,children:"Confirm Booking"}):""]})]}),Object(f.jsx)(d.FAEDialogueBox,{open:he,content:Ie,buttons:[{label:Ve,onClick:function(){"Select Card"===Ve?v.a.push({pathname:"/payment-details",state:Object(r.a)(Object(r.a)({},Q),{},{redirectedUrl:X})}):z(!1),be(!1)}}]}),Object(f.jsx)(b.a,{})]})})))}}]);
//# sourceMappingURL=35.cacce8ac.chunk.js.map