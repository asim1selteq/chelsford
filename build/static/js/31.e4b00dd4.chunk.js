(this["webpackJsonpfindanexpert-frontend"]=this["webpackJsonpfindanexpert-frontend"]||[]).push([[31],{1233:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l}));var i=n(23),o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_JDS,a=function(e){e.isInClinic,e.isInHouse,e.serviceId;var t=e.userId;e.selectedDate,e.selectedTime,e.radius,e.addressIdForClinics;return Object(i.a)({type:"GET_ADDRESSES_LIST",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/Addresses/GetCustomerAddresses/").concat(t,"/true")})},c=function(e){var t=e.serviceId,n=e.selectedDate,o=(e.selectedTime,e.latitude),a=e.longitude,c=e.userCountryId,d=e.serviceVenu,s=e.distance,u=e.startTime,l=e.endTime;return Object(i.a)({type:"GET_ADDRESSES_FOR_BOOKING",verb:"POST",endpoint:"".concat(r,"/Clinic/GetProvidersInSpecificSlot"),payload:JSON.stringify({bookDate:n,timeStart:u,timeEnd:l,latitude:o,longitude:a,countryId:c,serviceVenu:d,serviceId:t,distance:s})})},d=function(e){return Object(i.a)({type:"GET_USER_HOME_ADDRESSES",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/Addresses/GetCustomerAddresses/").concat(e,"/true")})},s=function(e){var t=e.addressId,n=e.location,r=e.cartId,a=e.serviceId,c=e.userId,d=e.trainingId,s=e.voucherId;return Object(i.a)({type:"SAVE_ADDRESS_FOR_BOOKING",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/TempBooking/SaveTempBooking"),payload:JSON.stringify({userId:c,serviceID:a,addressId:t,location:n,cartId:r,TrainingDetailId:d,voucherId:s})})},u=function(){return{type:"MAKE_NEXT_PAGE_FALSE"}},l=function(e){var t=e.serviceId,n=e.countryId,o=e.latitude,a=e.longitude;return Object(i.a)({type:"CHECK_SERVICES_AVAILABILITY",verb:"POST",endpoint:"".concat(r,"/ServiceAvailability/CheckServiceAvailability"),payload:JSON.stringify({serviceId:t,countryId:n,latitude:"".concat(o),longitude:"".concat(a),serviceVenu:2})})}},1234:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return s}));var i=n(23),o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_JDS,a=function(e){var t=e.selectedDate,n=e.serviceId,o=e.bookingDuration,a=e.providerId;return Object(i.a)({type:"GET_BOOKING_SLOTS_INHOUSE",endpoint:"".concat(r,"/TimeSlots/GetTimeSlots"),payload:JSON.stringify({bookingDate:t,serviceId:n,providersId:a,duration:o}),verb:"POST"})},c=function(e){var t=e.selectedDate,n=e.selectedTime,r=e.bookingId,a=e.cartId,c=e.notes;e.bookingStartTime,e.bookingEndTime,e.addressId;return Object(i.a)({type:"SAVE_DATE_AND_TIME",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/TempBooking/SaveTempBooking"),payload:JSON.stringify({bookingDate:t,bookingTime:n,tempBookingId:r,cartId:a,customerNotes:c})})},d=function(e){var t=e.selectedDate,n=e.cartId,r=e.bookingStartTime,a=e.bookingEndTime,c=e.addressId;return Object(i.a)({type:"SAVE_DATE_AND_TIME",verb:"PUT",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/TempBooking/BookingDateTime"),payload:JSON.stringify({cartId:n,bookingDate:t,bookingStartTime:r,bookingEndTime:a,addressId:c})})},s=function(){return{type:"MAKE_DATE_TIME_NEXT_PAGE_FALSE"}}},1258:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return s}));n(13),n(1289);var i=n(23),o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_JDS,a=function(e){var t=e.selectedDate,n=e.serviceId,o=e.latitude,a=e.longitude,c=e.countryId,d=e.duration,s=e.distance,u=e.serviceVenu;"".concat(1==="".concat((new Date).getHours()).length?"0".concat((new Date).getHours()):(new Date).getHours(),":").concat(1==="".concat((new Date).getMinutes()).length?"0".concat((new Date).getMinutes()):(new Date).getMinutes()),"".concat((new Date).getFullYear(),"-").concat(1==="".concat((new Date).getMonth()+1).length?"0".concat((new Date).getMonth()+1):(new Date).getMonth()+1,"-").concat(1==="".concat((new Date).getDate()).length?"0".concat((new Date).getDate()):(new Date).getDate());return Object(i.a)({type:"GET_BOOKING_SLOTS_DATA",endpoint:"".concat(r,"/Clinic/CreateTimeSlots"),payload:JSON.stringify({bookingDate:t,latitude:o,longitude:a,distance:s,countryId:c,serviceId:n,duration:d,serviceVenu:u}),verb:"POST"})},c=function(){return{type:"MAKE_DATE_TIME_NEXT_PAGE_FALSE"}},d=function(e){var t=e.selectedDate,n=(e.providerId,e.isInClinic,e.duration),o=(e.cartId,e.serviceId),a=(e.tempbookingid,e.isBusiness,e.businessId),c=e.serviceVenu;return Object(i.a)({type:"GET_ALTERNATE_BOOKING_SLOTS_DATA",endpoint:"".concat(r,"/Clinic/CreateTimeSlotsForBusiness"),payload:JSON.stringify({businessId:a,bookingDate:t,serviceId:o,duration:n,serviceVenu:c}),verb:"POST"})},s=function(e){var t=e.tempBookingId,n=e.addressId,r=e.cartId,a=e.bookingDate,c=e.bookingTime,d=e.customerNotes;return Object(i.a)({type:"SAVE_ALTERNET_BOOKING",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/TempBooking/SaveTempBooking"),payload:JSON.stringify({tempBookingId:t,addressId:n,cartId:r,bookingDate:a,bookingTime:c,customerNotes:d})})}},1318:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n(23),o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL_2,a=function(e){var t=e.selectedDate,n=e.providerId,r=e.isInClinic,a=e.duration,c=e.cartId,d=e.serviceId,s=e.tempbookingid;e.isBusiness,e.businessId;return Object(i.a)({type:"GET_EDIT_BOOKING_SLOTS_DATA",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/Providers/CheckExpertAvailableSlots"),payload:JSON.stringify({bookingDate:t,bookingDuration:a,currentTime:"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate()," ").concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds()),genderPreference:"both",isBusiness:!1,isInClinic:r,providerId:n,serviceId:d,tempBookingId:s,cartId:c}),verb:"POST"})},c=function(e){var t=e.selectedDate,n=(e.selectedTime,e.bookingId),o=(e.cartId,e.userId,e.providerId),a=e.customerId,c=e.endTime,d=e.startTime,s=e.sessionId,u=(e.isSessionBookingAPI,e.latitude),l=e.longitude,T=e.duration,S=e.serviceId,_=e.serviceVenu;return Object(i.a)({type:"SAVE_EDITED_DATE_AND_TIME",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(r,"/Booking/UpdateBookingJds"),payload:JSON.stringify({bookingId:n,sessionId:s,customerId:a,providerIds:"".concat(o),bookingDate:t,startTime:d,endTime:c,distance:20,latitude:"".concat(u),longitude:"".concat(l),duration:T,serviceId:S,serviceVenu:_})})},d=function(){return{type:"MAKE_EDITED_DATE_TIME_NEXT_PAGE_FALSE"}}},1779:function(e,t,n){},1848:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var i=n(107),o=n(3),r=n(181),a=n(13),c=n(2),d=n(9),s=n(76),u=n(92),l=n(38),T=n(1258),S=n(1234),_=n(1233),v=n(10),E=n(127),O=n(21),I=(n(1779),n(1318)),b=n(1),g=Object(v.i)("loader.GIF"),D=Object(u.b)((function(e){var t=e.dateTimeSelectionForClinicsReducer,n=t.error,i=t.loading,o=t.timeSlots,r=t.alternatetimeSlots,a=t.nextPageDateTimeSelection,c=e.defaultReducer;c.userId;return{error:n,loading:i,timeSlots:o,alternatetimeSlots:r,nextPageDateTimeSelection:a,userCountry:c.userCountry}}),(function(e){return Object(s.b)({getBookingSlots:T.c,makeDateTimeNextPageFalse:T.d,alternateGetBookingSlots:T.b,SaveAlternateTempBooking:T.a,saveAddress:_.f,saveBookingDateAndTimeNextTime:S.d,saveEditedBookingDateTime:I.c},e)}))((function(e){var t=e.loading,n=(e.timeSlots,e.alternatetimeSlots),s=void 0===n?[]:n,u=e.getBookingSlots,T=e.makeDateTimeNextPageFalse,S=e.alternateGetBookingSlots,_=(e.saveAddress,e.saveBookingDateAndTimeNextTime),I=e.saveEditedBookingDateTime,D=(e.userCountry,Object(l.m)().service),p=Object(v.c)(D,"-");document.title="Chelsford | ".concat(p," - Schedule");var m=Object(l.l)().state,f=m.serviceId,A=m.isInHouse,P=m.isInClinic,k=m.duration,y=m.bookingId,C=m.cartId,N=(m.voucherId,m.addressId),j=m.sessionFlag,B=m.providerId,R=(m.notes,m.sessionId),h=(m.availableProviderId,m.businessId),F=m.latitude,K=m.longitude;console.log(m,"state");var L="".concat((new Date).getFullYear(),"-").concat(1==="".concat((new Date).getMonth()+1).length?"0".concat((new Date).getMonth()+1):(new Date).getMonth()+1,"-").concat(1==="".concat((new Date).getDate()).length?"0".concat((new Date).getDate()):(new Date).getDate()),w=Object(c.useState)(L),H=Object(a.a)(w,2),x=H[0],G=H[1],V=Object(c.useState)(""),M=Object(a.a)(V,2),U=M[0],W=M[1],J=Object(v.h)("userId");Object(c.useEffect)((function(){W(""),""!==x&&S({businessId:h,selectedDate:x,serviceId:f,duration:k,serviceVenu:P?2:1})}),[k,u,P,A,x,f]);var Y=s.map((function(e){return e.availablefrom=e.timeStart,e.availableto=e.timeEnd,e})),X=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t){var n,r,a,c,d;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=Y.filter((function(e){return e.availablefrom==U})),c=null===(n=a[0])||void 0===n?void 0:n.availablefrom,d=null===(r=a[0])||void 0===r?void 0:r.availableto,e.next=6,_({selectedDate:x,cartId:C,bookingStartTime:c,bookingEndTime:d,addressId:N});case 6:return e.next=8,N;case 8:if(e.t0=e.sent,!e.t0){e.next=11;break}O.a.push({pathname:"/booking/".concat(D,"/summary"),state:Object(o.a)(Object(o.a)({},m),{},{bookingId:y,cartId:C,selectedDate:x,selectedTime:U,availableProviderId:B})});case 11:return e.next=13,T();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t){var n,o,r,a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=Y.filter((function(e){return e.availablefrom==U})),a=null===(n=r[0])||void 0===n?void 0:n.availablefrom,c=null===(o=r[0])||void 0===o?void 0:o.availableto,0!==B?I({bookingId:y,providerId:B,selectedDate:x,selectedTime:U,customerId:isNaN(J)?J:JSON.parse(J),endTime:c,startTime:a,sessionId:R,isSessionBookingAPI:!0,latitude:F,longitude:K,duration:k,serviceId:f,serviceVenu:P?2:1}):alert("Provider not found."),e.next=7,j;case 7:if(e.t0=e.sent,!e.t0){e.next=10;break}O.a.push("/your-bookings/session");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"fae--date-time-selection-main-container dpt dpb",children:[Object(b.jsx)(d.FAETitle,{label:p,logo:Object(v.i)("title_logo.svg")}),Object(b.jsx)(d.FAEDateTimeSelection,{className:"fae-date-time-selection-container-width",loaderForTimeSlots:t,loaderPropsForTimeSlots:{loaderImage:g,height:"200px",type:"video"},getSelectedDate:G,getSelectedTime:W,slots:Object(E.b)(Y)}),""!==U&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center"},className:"dpb",children:[!j&&Object(b.jsx)(d.FAEButton,{className:"fae--date-time-selection-button",style:{borderRadius:"4px"},onClick:X,children:"Next"}),j&&Object(b.jsx)(d.FAEButton,{className:"fae--date-time-selection-button",style:{borderRadius:"4px"},onClick:q,children:"Save"})]})})]})})}))}}]);
//# sourceMappingURL=31.e4b00dd4.chunk.js.map