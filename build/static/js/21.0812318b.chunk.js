(this["webpackJsonpfindanexpert-frontend"]=this["webpackJsonpfindanexpert-frontend"]||[]).push([[21,38],{1207:function(e,t,a){},1208:function(e,t,a){},1209:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return m}));var n=a(2),r=a(9),c=a(38),s=a(10),i=a(21),d=a(3),l=a(6),o=(a(1207),a(180)),u=a(1),b=["className","tabs","renderOption","activeTab"],j=["label","href","className","icon","svgIconSrc"],O=function(e){var t=e.className,a=void 0===t?"":t,c=e.tabs,s=void 0===c?[]:c,i=e.renderOption,O=e.activeTab,p=void 0===O?"":O,m=Object(l.a)(e,b),v=function(e){return e.toLowerCase()===p.toLowerCase()?"active-tab":""};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",Object(d.a)(Object(d.a)({className:"fae--user-info-tabs-main-container ".concat(a)},m),{},{children:n.Children.toArray(s.map((function(e,t){var a=e.label,n=e.href,c=void 0===n?"":n,s=e.className,b=e.icon,O=e.svgIconSrc,p=Object(l.a)(e,j);return""===c?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(r.FAEText,Object(d.a)(Object(d.a)({tertiary:"active-tab"!==v(a)},p),{},{className:"fae--user-info-tab ".concat(v(a)," ").concat(s),children:[""==!O&&Object(u.jsx)(o.FAEImage,{className:"fae-sidebar-icon",src:O}),""==!b&&Object(u.jsxs)("div",{className:"fae-sidebar-icon",children:[" ",b,"  "]}),i?i(e):a]}))}):Object(u.jsx)("a",Object(d.a)(Object(d.a)({className:"fae--user-info-tab ".concat(s),target:"_blank",href:c,rel:"noreferrer"},p),{},{children:Object(u.jsx)(r.FAEText,{children:i?i(e):a})}))})))}))})},p=(a(1208),[{label:"Profile",svgIconSrc:Object(s.i)("icons/profileIcon.svg"),onClick:function(){return i.a.push("/profile")}},{label:"Your Bookings",svgIconSrc:Object(s.i)("icons/bookingGreyColor.svg"),onClick:function(){return i.a.push("/your-bookings/upcoming")}},{label:"Payment Details",svgIconSrc:Object(s.i)("icons/paymentgreyicons.svg"),onClick:function(){return i.a.push("/payment-details")}}]),m=function(e){var t,a=e.childWidth,n=e.children,i=e.paddingTop,d=Object(c.l)(),l=(t=d.pathname,p.find((function(e){return!0===Object(s.c)(t,"-").includes(e.label.toLocaleLowerCase())})).label);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"fae--user-info-page-layout-main-container",children:[Object(u.jsx)(O,{tabs:p,activeTab:l,className:"side-tabs-user-info"}),Object(u.jsx)("div",{className:"fae--user-info-page-layout-pages-data dpb ".concat(null!==i&&void 0!==i?i:""),children:Object(u.jsx)(r.FAEContainer,{className:"fae-page-classname",children:Object(u.jsxs)("div",{style:{width:null!==a&&void 0!==a?a:"100%"},children:[" ",n]})})})]})})}},1257:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return d}));var n=a(23),r=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_VOUCHER),c=function(e){return Object(n.a)({type:"GET_CARD_LIST",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(r,"/Payment/ListOfCustomerPaymentMethods?Email=").concat(e)})},s=function(e){var t=e.userId,a=e.paymentMethodId;return Object(n.a)({type:"DELETE_CARD",headers:{contentType:"includeBearer"},endpoint:"".concat(r,"/Payment/RemovePaymentMethod"),verb:"DELETE",payload:JSON.stringify({userId:t,paymentMethodId:a})})},i=function(e){var t=e.userId,a=e.paymentMethodId;return Object(n.a)({type:"MAKE_CARD_DEFAULT",headers:{contentType:"includeBearer"},endpoint:"".concat(r,"/Payment/AddDefaultPaymentMethod"),verb:"POST",payload:JSON.stringify({userId:t,paymentMethodId:a})})},d=function(){return{type:"SET_DEFAULT_CARD_OBJ_RESPONSE"}}},1414:function(e,t,a){},1814:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var n=a(13),r=a(3),c=a(2),s=a(9),i=a(76),d=a(92),l=a(38),o=a(99),u=(a(310),a(1209)),b=a(23),j=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_VOUCHER,O=function(e){var t=e.userId,a=e.firstName,n=e.surname,r=e.expirationYear,c=e.expirationMonth,s=e.cardNumber,i=e.cvv,d=e.city,l=e.country,o=e.line1,u=e.line2,O=e.state,p=e.postalCode;return Object(b.a)({type:"SAVE_CARD_DATA",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(j,"/Payment/SavePaymentMethod"),payload:JSON.stringify({userId:t,cardOwnerFirstName:a,cardOwnerLastName:n,cardNumber:s,expirationYear:r,expirationMonth:c,cvv:i,billingAddress:{city:d,country:l,line1:o,line2:u,state:O,postalCode:p}})})},p=function(){return{type:"SET_CARD_DATA_RESPONSE_TO_EMPTY"}},m=a(10),v=a(21),g=(a(1414),a(1327)),h=(a(1328),a(1329),a(1257)),f=a(1),x=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STRIPE_KEY,Object(m.i)("loader.GIF")),C=Object(d.b)((function(e){var t=e.addPaymentCardPageReducer,a=t.error,n=t.loading,r=t.saveCardDataResponse,c=e.defaultReducer,s=(c.userCountryId,c.userCountry);c.userCurrencyCode;return{error:a,loading:n,saveCardDataResponse:r,userCountry:s}}),(function(e){return Object(i.b)({setCardDataResponseToEmpty:p,setDefaultCardObjEmpty:h.d,saveCardData:O,makeCardDefault:h.c},e)}))((function(e){var t=e.loading,a=void 0===t||t,i=e.saveCardDataResponse,d=e.setCardDataResponseToEmpty,b=e.setDefaultCardObjEmpty,j=e.saveCardData,O=e.userCountry,p=e.makeCardDefault;document.title="Chelsford | Add Card";var h=Object(l.l)().state,C=void 0===h?"/payment-details":"".concat(h.redirectedUrl),y=Object(m.h)("customer_details"),S=(y.firstName,y.lastName),E=y.email,_=Object(m.h)("userId");Object(c.useEffect)((function(){if(!Object(m.n)(i)){var e,t=i.code,a=i.message,n=i.error;return 0==t&0==n&&p({userId:_,paymentMethodId:null===i||void 0===i||null===(e=i.setupIntentResponseDetail)||void 0===e?void 0:e.paymentMethodId}),0==t&0==n&&Object(m.a)({message:"Your card added successfuly."}),0!==t&1==n&&Object(m.a)({toaster:"error",message:a}),0==t&0==n&&v.a.push({pathname:C,state:Object(r.a)(Object(r.a)({},h),{},{cardmessage:a})}),function(){d(),b()}}}),[E,C,i,h]);var T=Object(c.useState)(""),N=Object(n.a)(T,2),A=N[0],P=N[1],D=Object(c.useState)(""),R=Object(n.a)(D,2),F=R[0],I=R[1],L=Object(c.useState)(""),M=Object(n.a)(L,2),H=M[0],U=M[1],K=Object(c.useState)(""),B=Object(n.a)(K,2),k=B[0],W=B[1],Y=Object(c.useState)(""),V=Object(n.a)(Y,2),w=V[0],J=V[1],G=Object(c.useState)(""),q=Object(n.a)(G,2),z=q[0],Q=q[1],X=Object(c.useState)(""),Z=Object(n.a)(X,2),$=Z[0],ee=Z[1],te=Object(c.useState)(""),ae=Object(n.a)(te,2),ne=ae[0],re=ae[1],ce=Object(c.useState)(""),se=Object(n.a)(ce,2),ie=se[0],de=se[1],le=Object(c.useState)(""),oe=Object(n.a)(le,2),ue=oe[0],be=oe[1],je=Object(c.useState)(O),Oe=Object(n.a)(je,2),pe=Oe[0],me=Oe[1],ve=Object(c.useState)(""),ge=Object(n.a)(ve,2),he=ge[0],fe=ge[1],xe=Object(c.useState)(!1),Ce=Object(n.a)(xe,2),ye=(Ce[0],Ce[1],Object(c.useState)("")),Se=Object(n.a)(ye,2),Ee=(Se[0],Se[1],function(e){"name"===e.target.name?(W("name"),J(e.target.value.toUpperCase())):"number"===e.target.name?e.target.value.replace(/\s/g,"").length<=16?e.target.value.replace(/\s/g,"").length%4===0&&"insertText"===e.nativeEvent.inputType?(W("number"),Q(e.target.value+" ")):(W("number"),Q(e.target.value)):(Object(m.a)({toaster:"error",message:"not more than 16 digits!"}),console.log(e.target.value.replace(/\s/g,"").substring(0,16))):"expiry"===e.target.name?(W("expiry"),U(e.target.value),I(e.target.value.split("-")[1]+"/"+e.target.value.split("-")[0])):"cvc"===e.target.name&&(e.target.value.replace(/\s/g,"").length<=4?e.target.value.replace(/\s/g,"").length%5===0&&"insertText"===e.nativeEvent.inputType?(W("cvc"),P(e.target.value+" ")):(W("cvc"),P(e.target.value)):(Object(m.a)({toaster:"error",message:"not more than 4 digits!"}),console.log(e.target.value.replace(/\s/g,"").substring(0,16))))}),_e=function(e){"address"===e.target.name?ee(e.target.value):"address_line"===e.target.name?re(e.target.value):"city"===e.target.name?de(e.target.value):"state"===e.target.name?be(e.target.value):"country"===e.target.name?me(e.target.value):"post_code"===e.target.name&&fe(e.target.value)};return Object(f.jsxs)("div",{className:"fae-payment-card-page",children:[Object(f.jsxs)(u.default,{children:[a&&Object(f.jsx)(s.FAELoading,{type:"svg",loaderImage:x,height:"400px"}),!a&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(g.a,{cvc:A,expiry:F,focused:k,name:w,number:z,callback:function(e){return console.log("ee: ",e)}}),Object(f.jsx)("br",{}),Object(f.jsxs)("form",{className:"card-detail-form",onSubmit:function(e){e.preventDefault();var t=z.replace(/\s/g,"").substring(0,16),a=parseInt(F.split("/")[0]),n=parseInt(F.split("/")[1]);j({firstName:w,surname:S,userId:_,expirationYear:n,expirationMonth:a,cardNumber:t,cvv:A,city:ie,country:pe,line1:$,line2:ne,state:ue,postalCode:he})},children:[Object(f.jsx)(s.FAEText,{subHeading:!0,className:"card-heading",children:"Credit Card"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Card Number"}),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("input",{type:"tel",name:"number",placeholder:"Card Number",className:"card-input-field",value:z,required:!0,onChange:Ee})}),Object(f.jsx)("label",{children:"Card Holder"}),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("input",{type:"text",name:"name",placeholder:"Card Holder",className:"card-input-field",value:w,required:!0,onChange:Ee})}),Object(f.jsx)("label",{children:"Expiry Month/Year"}),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("input",{type:"month",name:"expiry",placeholder:"Expiry Month/Year",className:"card-input-field",value:H,onChange:Ee,required:!0,min:"2023-01",max:"2030-05"})}),Object(f.jsx)("label",{children:"CVC"}),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("input",{type:"number",name:"cvc",placeholder:"CVC",className:"card-input-field",value:A,onChange:Ee,required:!0,minLength:4,maxLength:4})})]}),Object(f.jsx)("br",{}),Object(f.jsx)(s.FAEText,{subHeading:!0,className:"card-heading",children:"Billing Address"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Address"}),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("input",{type:"text",name:"address",placeholder:"Address",className:"card-input-field",value:$,onChange:_e})}),Object(f.jsx)("label",{children:"Address line 2"}),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("input",{type:"text",name:"address_line",placeholder:"Address Line 2",className:"card-input-field",value:ne,onChange:_e})}),Object(f.jsxs)("div",{className:"billing-detail",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"City"}),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("input",{type:"text",name:"city",placeholder:"City",className:"card-input-field",value:ie,onChange:_e})})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"State"}),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("input",{type:"text",name:"state",placeholder:"State",className:"card-input-field",value:ue,onChange:_e})})]})]}),Object(f.jsxs)("div",{className:"billing-detail",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Country"}),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("select",{defaultValue:O,onChange:function(e){return me(e.target.value)},className:"card-input-field",children:[Object(f.jsx)("option",{value:"PK",children:"Pakistan"}),Object(f.jsx)("option",{value:"GB",children:"United Kingdom"}),Object(f.jsx)("option",{value:"US",children:"United State Of America"}),Object(f.jsx)("option",{value:"SA",children:"Saudi Arabia"})]})})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Post Code"}),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("input",{type:"text",name:"post_code",placeholder:"Post Code",className:"card-input-field",value:he,onChange:_e})})]})]})]}),Object(f.jsx)("br",{}),Object(f.jsx)(s.FAEButton,{className:"fae-payment-card-btn",type:"submit",children:"Add Card"})]})]})]}),Object(f.jsx)(o.a,{})]})}))}}]);
//# sourceMappingURL=21.0812318b.chunk.js.map