{"version":3,"sources":["../node_modules/@material-ui/icons/DeleteOutline.js","Pages/ProductCartList/ProductCartList.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","ProductCartList","props","_products$allProductC","_products$allProductC2","_products$allProductC3","_products$allProductC4","_products$allProductC5","location","useLocation","getHistoryState","state","productcartId","history","push","loaderImage","getFileSrcFromPublicFolder","_useState","useState","_useState2","_slicedToArray","flagCall","setFlagCall","products","useSelector","productsReducer","dispatch","useDispatch","_useState3","_useState4","productQuantiry","setProductQuantity","_useState5","_useState6","totalPrice","setTotalPrice","_useState7","Name","ItemPrice","Price","Items","_useState8","invoice","useEffect","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","getProductsCart","stop","cartHandler","_ref2","_callee2","productID","cartId","isDeleted","_context2","addToCart","_x","_x2","_x3","apply","arguments","placeholderImage","cartListInvoice","useCallback","pri","t","concat","_toConsumableArray","allProductCart","map","product","ind","flatDiscount","quantity","price","_jsxs","className","children","_jsx","loading","FAELoading","type","height","_Fragment","FAETitle","label","logo","FAEFloatingBookingPrice","currencySymbol","justify","reduce","num","backgroundImage","length","index","FAEProductCard","src","imagePath","productName","shortDescription","description","discountedPrice","primary","alt","placeholder","textOnImage","textPosition","noOfProductsAdded","onClick","hasProductAttributes","productid","productisDeleted","pathname","getQuantityOfProducts","e","percentageDiscount","FAEButton","DeleteOutlineIcon","savedAttributState","pathName","ToastContainer"],"mappings":"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","file":"static/js/52.1df5b3ca.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteOutline');\n\nexports.default = _default;","// React library \r\nimport React, { useCallback, useEffect, useState } from 'react'\r\nimport {  useLocation } from 'react-router-dom';\r\n// Expert Reusable components \r\nimport './ProductCartList.scss'\r\nimport { getFileSrcFromPublicFolder } from '../../utils';\r\nimport { FAEProductCard , FAEButton, FAETitle, FAELoading } from '@findanexpert-fae/components';\r\nimport {  addToCart, getProductsCart } from '../../redux/actions/productActions';\r\nimport history from '../../history';\r\n// Other Third party library \r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport { useDispatch, useSelector } from 'react-redux'; \r\nimport { ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { FAEFloatingBookingPrice } from '@findanexpert-fae/components/dist/stories/FAEFloatingBookingPrice/FAEFloatingBookingPrice';\r\n \r\n function ProductCartList(props) {\r\n  const location = useLocation();  \r\n  const getHistoryState=location.state\r\n  !getHistoryState?.productcartId  &&  history.push('/')\r\n  const loaderImage = getFileSrcFromPublicFolder(\"loader.GIF\");\r\n  const [flagCall, setFlagCall]=useState(true)\r\n  const reduxProducts= useSelector(state=>state)\r\n  const products=reduxProducts.productsReducer\r\n  const dispatch= useDispatch()\r\n  const [productQuantiry, setProductQuantity]= useState(0)\r\n  const [totalPrice, setTotalPrice]= useState([])  \r\n  const [invoice, setInvoice]=useState([{Name: '', ItemPrice:0, Price: 0, Items: 0}])\r\n  useEffect( async() => { \r\n    await dispatch(getProductsCart(getHistoryState.productcartId)) \r\n   }, [flagCall]);\r\n\r\n  const cartHandler = async (productID, cartId, isDeleted)=>{  \r\n        await dispatch(addToCart(productID,  getHistoryState?.productcartId, productQuantiry, isDeleted))\r\n        await dispatch(getProductsCart(getHistoryState.productcartId))\r\n        setFlagCall(!flagCall) \r\n  }\r\n \r\n  const goCustomizeProduct = (productid, productcartId, productisDeleted)=>{\r\n    history.push({pathname:\"/add-customize-prod-to-cart\", state:{productid:productid, productcartId:productcartId, productisDeleted:productisDeleted}})\r\n  } \r\n   const placeholderImage = getFileSrcFromPublicFolder(\"placeholder.jpg\");\r\n   const CartPrice= useCallback((pri) => {\r\n        setTotalPrice((t) => [...t, pri]);\r\n    }, [totalPrice]);\r\n \r\n  const forwardTo =()=>{\r\n    history.push({\r\n      pathname: location.state.savedAttributState.state.pathName,\r\n       state: location.state.savedAttributState.state,\r\n    });\r\n  }  \r\n  const cartListInvoice= products?.allProductCart?.map((product, ind)=> product?.flatDiscount? product?.flatDiscount* product?.quantity:product?.price* product?.quantity)\r\n   return (\r\n    <div className='fae-cart-section'>\r\n    <div className=\"fae--cart-page-container cart-containter dpt dpb\">\r\n      <div className=\"fae--cart-page-wrapper\"> \r\n        {products?.loading && (\r\n          <FAELoading type=\"svg\" loaderImage={loaderImage} height=\"200px\" />\r\n         )} \r\n         { !products.loading ?  \r\n         <>\r\n           <div className=\"product-list-header\">\r\n              <div>\r\n              </div>\r\n              <div> \r\n                 <FAETitle\r\n                    className=\"fae-cart-title\"\r\n                    label=\"Cart\"\r\n                    logo={getFileSrcFromPublicFolder(\"title_logo.svg\")}\r\n                  />\r\n               </div>  \r\n              <div>\r\n                {invoice && (\r\n                  <FAEFloatingBookingPrice\r\n                    currencySymbol={ products?.allProductCart[0]?.currencySymbol}\r\n                    justify=\"flex-end\"\r\n                    price={cartListInvoice.reduce((t,num)=>t+num,0)}\r\n                    backgroundImage={getFileSrcFromPublicFolder(\"parchii_icon.svg\")}\r\n                  />\r\n                )}\r\n              </div>\r\n          </div>\r\n          {products?.allProductCart?.length !==0 ?\r\n              products?.allProductCart?.map((product, index)=>\r\n                (<div className=\"fae--cart-page-services-wrapper\"  key={index}>\r\n                   <FAEProductCard \r\n                      src={product?.imagePath} \r\n                      label={product?.productName}\r\n                      shortDescription={product?.description}\r\n                      discountedPrice={product?.flatDiscount}\r\n                      price={product?.price}\r\n                      currencySymbol={product?.currencySymbol}\r\n                      primary={false }  \r\n                      type='img'\r\n                      alt='product image' \r\n                      placeholder={placeholderImage}\r\n                      textOnImage={''} \r\n                      textPosition='' \r\n                      noOfProductsAdded = {product?.quantity}  \r\n                      onClick ={()=>product?.hasProductAttributes=== true?goCustomizeProduct(product?.productID, product?.cartId, product?.isDeleted):cartHandler(product?.productID, product?.cartId, product?.isDeleted )}\r\n                      getQuantityOfProducts = {(e) =>setProductQuantity(e)} \r\n                     \r\n                    />  \r\n                    {product?.percentageDiscount !==0 && <span className='fae-cart-disc-percent'>{product?.percentageDiscount !==0 && `${product?.percentageDiscount}%`}</span>}\r\n                    <FAEButton className='fae-cart-del-btn' onClick={()=>cartHandler(product?.productID, product?.cartId, true )}><DeleteOutlineIcon/></FAEButton>\r\n                  </div> \r\n                  ))\r\n                 :'Not found'\r\n                 }\r\n               </>\r\n               : 'Not found'\r\n              }\r\n           </div> \r\n         </div>\r\n       { products?.allProductCart?.length !==0 ? <FAEButton className='fae-prodcut-next-btn' onClick={forwardTo}>NEXT</FAEButton>:''}\r\n       < >\r\n         \r\n       </>\r\n       \r\n        <ToastContainer/>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default ProductCartList\r\n"],"sourceRoot":""}