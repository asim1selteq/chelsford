{"version":3,"sources":["Temps/FAEUserInfoTabs/FAEUserInfoTabs.js","Pages/UserInfoPageLayout/UserInfoPageLayout.js","redux/actions/paymentDetailsPageActions.js","../node_modules/@material-ui/icons/CheckCircle.js","Pages/PaymentDetailsPage/PaymentDetailsPage.js"],"names":["FAEUserInfoTabs","_ref","_ref$className","className","_ref$tabs","tabs","renderOption","_ref$activeTab","activeTab","rest","_objectWithoutProperties","_excluded","selectedTab","value","toLowerCase","_jsx","_Fragment","children","_objectSpread","concat","Children","toArray","map","tab","index","label","_tab$href","href","icon","svgIconSrc","_excluded2","_jsxs","FAEText","tertiary","FAEImage","src","target","rel","userInfoTabs","getFileSrcFromPublicFolder","onClick","history","push","UserInfoPageLayout","childWidth","paddingTop","location","useLocation","pathname","find","addSpaces","includes","toLocaleLowerCase","FAEContainer","style","width","APP_BASE_URL_PAYMENT","process","REACT_APP_BASE_URL","REACT_APP_PAYMENT_VOUCHER","getCardList","email","fetchAction","type","verb","headers","contentType","endpoint","deleteCard","userId","paymentMethodId","payload","JSON","stringify","makeCardDefault","_ref2","setDefaultCardObjEmpty","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","default","React","_default","createElement","d","getCookies","loaderImage","deleteIcon","connect","_ref2$paymentDetailsP","paymentDetailsPageReducer","error","loading","cardList","cardDeleted","defaultCardId","defaultCardData","userCountry","defaultReducer","dispatch","bindActionCreators","_ref$defaultCardData","document","title","_useState","useState","_useState2","_slicedToArray","open","setOpen","state","undefined","redirectedUrl","useEffect","objectIsEmpty","code","message","console","log","FAEToaster","toaster","videoUploadIcon","FAERadioGroup","values","direction","heading","FAELoading","height","card","cardInfoResponse","id","_card$card","last4","exp_month","exp_year","brand","defaultPaymentMethod","customer","display","padStart","paragraph","secondary","CheckCircleIcon","color","Popup","trigger","alt","e","stopPropagation","position","close","clickHandler","ToastContainer"],"mappings":"+ZAUaA,EAAkB,SAAHC,GAMrB,IAADC,EAAAD,EALJE,iBAAS,IAAAD,EAAG,GAAEA,EAAAE,EAAAH,EACdI,YAAI,IAAAD,EAAG,GAAEA,EACTE,EAAYL,EAAZK,aAAYC,EAAAN,EACZO,iBAAS,IAAAD,EAAG,GAAEA,EACXE,EAAIC,YAAAT,EAAAU,GAEDC,EAAc,SAACC,GACnB,OAAOA,EAAMC,gBAAkBN,EAAUM,cAAgB,aAAe,EAC1E,EACA,OACEC,cAAAC,WAAA,CAAAC,SACEF,cAAA,MAAAG,wBAAA,CACEf,UAAS,sCAAAgB,OAAwChB,IAC7CM,GAAI,IAAAQ,SAEPG,WAASC,QACRhB,EAAKiB,KAAI,SAACC,EAAKC,GACb,IAAQC,EAA2DF,EAA3DE,MAAKC,EAAsDH,EAApDI,YAAI,IAAAD,EAAG,GAAEA,EAAEvB,EAAyCoB,EAAzCpB,UAAWyB,EAA8BL,EAA9BK,KAAMC,EAAwBN,EAAxBM,WAAepB,EAAIC,YAAKa,EAAGO,GACtE,MAAgB,KAATH,EACNZ,cAAAC,WAAA,CAAAC,SAEAc,eAACC,UAAOd,wBAAA,CACLe,SAAiC,eAAvBrB,EAAYa,IAClBhB,GAAI,IACRN,UAAS,sBAAAgB,OAAwBP,EAC/Ba,GACD,KAAAN,OAAIhB,GAAYc,SAAA,CACH,KAAZY,GAAkBd,cAACmB,WAAQ,CAAC/B,UAAU,mBAAmBgC,IAAKN,IACxD,KAAND,GAAYG,eAAA,OAAK5B,UAAU,mBAAkBc,SAAA,CAAC,IAAEW,EAAK,QACrDtB,EAAeA,EAAaiB,GAAOE,QAIvCV,cAAA,IAAAG,wBAAA,CACEf,UAAS,sBAAAgB,OAAwBhB,GACjCiC,OAAO,SACPT,KAAMA,EACNU,IAAI,cACA5B,GAAI,IAAAQ,SAERF,cAACiB,UAAO,CAAAf,SAAEX,EAAeA,EAAaiB,GAAOE,MAGnD,SAKV,EC9CMa,G,QAAe,CACnB,CACEb,MAAO,UACPI,WAAaU,YAA2B,yBACxCC,QAAS,kBAAMC,IAAQC,KAAK,WAAW,GAEzC,CACEjB,MAAO,gBACPI,WAAaU,YAA2B,8BACxCC,QAAS,kBAAMC,IAAQC,KAAK,0BAA0B,GAOxD,CACEjB,MAAO,kBACPI,WAAaU,YAA2B,8BACxCC,QAAS,kBAAMC,IAAQC,KAAK,mBAAmB,KAiDpCC,EA3BY,SAAH1C,GAA8C,IARhDY,EAQQ+B,EAAU3C,EAAV2C,WAAY3B,EAAQhB,EAARgB,SAAU4B,EAAU5C,EAAV4C,WAC5CC,EAAWC,cAEXvC,GAXcK,EAWWiC,EAASE,SATjCV,EAAaW,MAClB,SAAC1B,GAAG,OACgE,IAAlE2B,YAAUrC,EAAO,KAAKsC,SAAS5B,EAAIE,MAAM2B,oBAA6B,IACxE3B,OAQF,OACEV,cAAAC,WAAA,CAAAC,SACEc,eAAA,OAAK5B,UAAU,4CAA2Cc,SAAA,CACxDF,cAACf,EAAe,CACdK,KAAMiC,EACN9B,UAAWA,EACXL,UAAU,wBAEZY,cAAA,OACEZ,UAAS,6CAAAgB,OACG,OAAV0B,QAAU,IAAVA,IAAc,IACb5B,SAEHF,cAACsC,eAAY,CAAClD,UAAU,qBAAoBc,SAC1Cc,eAAA,OAAKuB,MAAO,CAAEC,MAAiB,OAAVX,QAAU,IAAVA,IAAc,QAAS3B,SAAA,CAAC,IAAEA,aAM3D,C,oCC/EA,oJAGMuC,GADeC,mIAAYC,mBACJD,mIAAYE,2BAC5BC,EAAc,SAACC,GAC1B,OAAOC,YAAY,CACjBC,KAAM,gBACNC,KAAM,MACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADhD,OAAKqC,EAAoB,gDAAArC,OAA+C0C,IAEpF,EAEaO,EAAa,SAAHnE,GAAqC,IAA/BoE,EAAMpE,EAANoE,OAAQC,EAAerE,EAAfqE,gBACnC,OAAOR,YAAY,CACjBC,KAAM,cACNE,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADhD,OAAKqC,EAAoB,gCACjCQ,KAAM,SACNO,QAASC,KAAKC,UAAU,CACpBJ,OAAQA,EACRC,gBAAiBA,KAIzB,EAEaI,EAAkB,SAAHC,GAAqC,IAA/BN,EAAMM,EAANN,OAAQC,EAAeK,EAAfL,gBACxC,OAAOR,YAAY,CACjBC,KAAM,oBACNE,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADhD,OAAKqC,EAAoB,oCACjCQ,KAAM,OACNO,QAASC,KAAKC,UAAU,CACpBJ,OAAQA,EACRC,gBAAiBA,KAGzB,EACaM,EAAyB,WACnC,MAAO,CACNb,KAAM,gCAEV,C,oCCzCA,IAAIc,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,KAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CrE,OAAO,IAETqE,EAAQC,aAAU,EAElB,IAAIC,EAAQL,EAAwBD,EAAQ,IAIxCO,GAAW,EAFMR,EAAuBC,EAAQ,MAElBK,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,0HACD,eAEJL,EAAQC,QAAUE,C,qQCUZxB,EAAQ2B,YAAW,oBAAoB3B,MACvC4B,EAAclD,YAA2B,cACzCmD,EAAanD,YAA2B,mBAyM/BoD,eA3BS,SAAHhB,GAAA,IAAAiB,EAAAjB,EACnBkB,0BACEC,EAAKF,EAALE,MACAC,EAAOH,EAAPG,QACAC,EAAQJ,EAARI,SACAC,EAAWL,EAAXK,YACAC,EAAaN,EAAbM,cACAC,EAAeP,EAAfO,gBAE2B,MACxB,CACLL,QACAC,UACAC,WACAC,cACAG,YAN6BzB,EAA7B0B,eAAkBD,YAOlBF,gBACAC,kBACD,IAE0B,SAACG,GAC1B,OAAOC,YACL,CAAE3C,gBAAaQ,eAAYM,oBAAiBE,4BAC5C0B,EAEJ,GAEeX,EAvMY,SAAH1F,GACjBA,EAAL6F,MAWK,IAVLC,EAAO9F,EAAP8F,QACAC,EAAQ/F,EAAR+F,SACApC,EAAW3D,EAAX2D,YACAQ,EAAUnE,EAAVmE,WACA6B,EAAWhG,EAAXgG,YACAG,EAAWnG,EAAXmG,YAEA1B,GADazE,EAAbiG,cACejG,EAAfyE,iBACAE,EAAsB3E,EAAtB2E,uBAAsB4B,EAAAvG,EACtBkG,uBAAe,IAAAK,EAAC,CAAC,EAACA,EAGlBC,SAASC,MAAK,8BACd,IAAM5D,EAAWC,cACjB4D,EAAwBC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAAhCI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACZI,EAAUnE,EAAVmE,WACsBC,IAAVD,GAAwB,GAAA9F,OAAM8F,EAAME,eACxDC,qBAAU,WACR,IAAKC,YAAclB,GAOnB,OAN2B,IAAR,OAAfA,QAAe,IAAfA,OAAe,EAAfA,EAAiBmB,OAAqC,cAAX,OAAfnB,QAAe,IAAfA,OAAe,EAAfA,EAAiBoB,WAC/CC,QAAQC,IAAItB,EAAiB,mBAC7BuB,YAAW,CACTH,QAAQ,wCAGL,kBAAK3C,GAAwB,CAGtC,GAAG,CAAEuB,IAELiB,qBAAU,YACY,IAAhBnB,IACFyB,YAAW,CACTC,QAAQ,UACRJ,QAAQ,8BAER3D,EAAYC,GAElB,GAAG,CAACoC,IACJmB,qBAAU,WACRI,QAAQC,IAAmB,OAAftB,QAAe,IAAfA,OAAe,EAAfA,EAAiBmB,KAAM,eACnC1D,EAAYC,EACd,GAAG,CAACD,EAA4B,OAAfuC,QAAe,IAAfA,OAAe,EAAfA,EAAiBmB,OACpCE,QAAQC,IAAmB,OAAftB,QAAe,IAAfA,OAAe,EAAfA,EAAiBmB,KAAM,yBACjC,IAAMjD,EAAOmB,YAAW,UAKlBoC,EAAkBrF,IAgBxB,OACER,eAAAf,WAAA,CAAAC,SAAA,CACEF,cAAC4B,UAAkB,CAAA1B,SACA,OAAhBmF,EACCrF,cAAC8G,gBAAa,CACZC,OAAQ,CACN,CACErG,MAAO,mBACPZ,MAAO,SAGXkH,UAAU,WACVlH,MAAM,SAGRkB,eAAA,OAAK5B,UAAU,2CAA0Cc,SAAA,CACvDc,eAAA,OAAK5B,UAAU,8CAA6Cc,SAAA,CAC1DF,cAACiB,UAAO,CAACgG,SAAO,EAAA/G,SAAC,oBAA0B,IAEzCc,eAACC,UAAO,CACNQ,QAAS,kBAAMC,IAAQC,KAAK,4BAA4B,EACxDvC,UAAU,kCAAiCc,SAAA,CAC3CF,cAAA,QAAMZ,UAAU,gBAAec,SAAC,MAAQ,sBAI7C8E,GACChF,cAACkH,aAAU,CACTlE,KAAK,MACL0B,YAAaA,EACbyC,OAAO,WAGTnC,GACAhF,cAAA,OAAKZ,UAAU,qCAAoCc,SAChDG,WAASC,QACA,OAAR2E,QAAQ,IAARA,OAAQ,EAARA,EAAU1E,KAAI,SAAC6G,GACb,IApDHC,EAqDKC,EAIEF,EAJFE,GAAEC,EAIAH,EAHFA,KAAQI,EAAKD,EAALC,MAAOC,EAASF,EAATE,UAAWC,EAAQH,EAARG,SAAUC,EAAKJ,EAALI,MAEpCC,GACER,EAFFS,SAEET,EADFQ,sBAEF,OACE5G,eAAA,OACES,QAAS,kBACkB,IAAzBmG,GACEjE,EAAgB,CAACL,SAAQC,gBAAgB+D,GAAK,EAElDlI,UAAU,2CAA0Cc,SAAA,CAEpDc,eAAA,OAAKuB,MAAO,CAACuF,QAAQ,QAAQ5H,SAAA,CAC3BF,cAACmB,WAAQ,CAAC/B,UAAU,qBAAqBgC,KAnElDiG,EAmEgEM,EAhEnEd,EADY,QAAlBQ,EACsB,sBACG,cAAlBA,EACe,wBACE,YAAlBA,EACgB,qBACC,OAAlBA,EACiB,gBAEA,0BAyDJrG,eAAA,OAAAd,SAAA,CACEF,cAACiB,UAAO,CAAC7B,UAAU,gCAA+Bc,SAChDsH,EAAMO,SAAS,GAAI,OAErB/G,eAACC,UAAO,CAAC+G,WAAS,EAACC,WAAS,EAAA/H,SAAA,CAAC,YACjBuH,EAAU,IAAEC,EAAS,IAAEE,WAIvC5G,eAAA,OAAK5B,UAAU,iCAAgCc,SAAA,CAC5C0H,GACC5H,cAACkI,IAAe,CAAC3F,MAAO,CAAE4F,MAAO,YAEN,IAA1BP,QAAwDzB,GAAxByB,GAA6D,MAAxBA,GAAiCA,IACvG5H,cAACoI,IAAK,CAAEC,QACJrI,cAAA,OACIZ,UAAU,8BACVgC,IAAKuD,EACL2D,IAAI,cACJ9F,MAAM,OACN2E,OAAO,OACP1F,QAAS,SAAC8G,GACRA,EAAEC,iBACJ,IAEHxC,KAAMA,EAAOyC,SAAS,cAAavI,SACnC,SAAAwI,GAAK,OACJ1H,eAAA,OAAK5B,UAAU,2BAA0Bc,SAAA,CAAC,4CAExCF,cAAA,KAAGZ,UAAU,QAAQqC,QAASiH,EAAMxI,SAAC,SAGrCF,cAAA,UAAQZ,UAAU,iBAAiBqC,QAAS,kBAzG1D,SAAC6F,EAAIxE,GACvBO,EAAW,CAAEC,SAAQC,gBAAgB+D,IACrCrB,GAAQ,EACV,CAsGkF0C,CAAarB,EAAU,EAAEpH,SAAC,UACtE,SAOtB,YAOZF,cAAC4I,IAAc,MAGrB,G","file":"static/js/14.b4f4751e.chunk.js","sourcesContent":["//libs\r\nimport React, { Children } from \"react\";\r\n\r\n//src\r\nimport { FAEText } from \"@findanexpert-fae/components\";\r\n\r\n//scss\r\nimport \"./FAEUserInfoTabs.scss\";\r\nimport { FAEImage } from \"@findanexpert-fae/components/dist/stories/FAEImage/FAEImage\";\r\n\r\nexport const FAEUserInfoTabs = ({\r\n  className = \"\",\r\n  tabs = [],\r\n  renderOption,\r\n  activeTab = \"\",\r\n  ...rest\r\n}) => {\r\n  const selectedTab = (value) => {\r\n    return value.toLowerCase() === activeTab.toLowerCase() ? \"active-tab\" : \"\";\r\n  };\r\n  return (\r\n    <>\r\n      <div\r\n        className={`fae--user-info-tabs-main-container ${className}`}\r\n        {...rest}\r\n      >\r\n        {Children.toArray(\r\n          tabs.map((tab, index) => {\r\n            const { label, href = \"\", className, icon, svgIconSrc, ...rest } = tab;\r\n            return href === \"\" ? (\r\n             <> \r\n           \r\n             <FAEText\r\n                tertiary={selectedTab(label) === \"active-tab\" ? false : true}\r\n                {...rest}\r\n                className={`fae--user-info-tab ${selectedTab(\r\n                  label\r\n                )} ${className}`}  >\r\n                {!svgIconSrc==\"\" && <FAEImage className=\"fae-sidebar-icon\" src={svgIconSrc} />}\r\n                {!icon==\"\" && <div className=\"fae-sidebar-icon\"> {icon}  </div>}\r\n                 {renderOption ? renderOption(tab) : label}\r\n              </FAEText>\r\n              </>\r\n            ) : (\r\n              <a\r\n                className={`fae--user-info-tab ${className}`}\r\n                target=\"_blank\"\r\n                href={href}\r\n                rel=\"noreferrer\"\r\n                {...rest}\r\n              >\r\n                <FAEText>{renderOption ? renderOption(tab) : label}</FAEText>\r\n              </a>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","//libs\r\nimport React from \"react\";\r\nimport {  FAEContainer } from \"@findanexpert-fae/components\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport CachedIcon from '@material-ui/icons/Cached';\r\n//src\r\nimport { addSpaces, getFileSrcFromPublicFolder } from \"../../utils\";\r\nimport history from \"../../history\";\r\nimport {FAEUserInfoTabs} from \"../../Temps/FAEUserInfoTabs/FAEUserInfoTabs\"\r\n//scss\r\nimport \"./UserInfoPageLayout.scss\";\r\nimport { FAEImage } from \"@findanexpert-fae/components/dist/stories/FAEImage/FAEImage\";\r\n \r\nconst userInfoTabs = [\r\n  {\r\n    label: \"Profile\",\r\n    svgIconSrc:  getFileSrcFromPublicFolder(\"icons/profileIcon.svg\"),\r\n    onClick: () => history.push(\"/profile\"),\r\n  },\r\n  {\r\n    label: \"Your Bookings\",\r\n    svgIconSrc:  getFileSrcFromPublicFolder(\"icons/bookingGreyColor.svg\"),\r\n    onClick: () => history.push(\"/your-bookings/upcoming\"),\r\n  }, \r\n  // {\r\n  //   label: \"Your Addresses\",\r\n  //   svgIconSrc:  getFileSrcFromPublicFolder(\"icons/locationgrey.svg\"),\r\n  //   onClick: () => history.push(\"/your-addresses\"),\r\n  // }, \r\n  {\r\n    label: \"Payment Details\",\r\n    svgIconSrc:  getFileSrcFromPublicFolder(\"icons/paymentgreyicons.svg\"),\r\n    onClick: () => history.push(\"/payment-details\"),\r\n  },\r\n  // {\r\n  //   label: \"Switch Country\",\r\n  //   svgIconSrc:  getFileSrcFromPublicFolder(\"icons/swithc-country.svg\"),\r\n  //   onClick: () => history.push(\"/switch-country\"),\r\n  // }, \r\n  // {\r\n  //   label:  \"Your Vouchers\", \r\n  //   svgIconSrc:  getFileSrcFromPublicFolder(\"icons/vouchergrey.svg\"),\r\n  //   onClick: () => history.push(\"/your-vouchers/service-voucher\"),\r\n  // }, \r\n];\r\n\r\nconst getActiveTab = (value) => {\r\n\r\n  return userInfoTabs.find(\r\n    (tab) =>\r\n      addSpaces(value, \"-\").includes(tab.label.toLocaleLowerCase()) === true\r\n  ).label;\r\n};\r\n \r\nconst UserInfoPageLayout = ({ childWidth, children, paddingTop }) => {\r\n  const location = useLocation();\r\n \r\n  const activeTab = getActiveTab(location.pathname);\r\n  \r\n  return (\r\n    <>\r\n      <div className=\"fae--user-info-page-layout-main-container\">\r\n        <FAEUserInfoTabs\r\n          tabs={userInfoTabs}\r\n          activeTab={activeTab}\r\n          className=\"side-tabs-user-info\"\r\n        />\r\n        <div\r\n          className={`fae--user-info-page-layout-pages-data dpb ${\r\n            paddingTop ?? \"\"\r\n          }`}\r\n        >\r\n          <FAEContainer className=\"fae-page-classname\">\r\n            <div style={{ width: childWidth ?? \"100%\" }}> {children}</div>\r\n          </FAEContainer>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserInfoPageLayout;\r\n","import { fetchAction } from \"../utils\";\r\n\r\nconst APP_BASE_URL = process.env.REACT_APP_BASE_URL;\r\nconst APP_BASE_URL_PAYMENT = process.env.REACT_APP_PAYMENT_VOUCHER;\r\nexport const getCardList = (email) => {\r\n  return fetchAction({\r\n    type: \"GET_CARD_LIST\",\r\n    verb: \"GET\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL_PAYMENT}/Payment/ListOfCustomerPaymentMethods?Email=${email}`,\r\n  });\r\n};\r\n\r\nexport const deleteCard = ({ userId, paymentMethodId }) => {\r\n  return fetchAction({\r\n    type: \"DELETE_CARD\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL_PAYMENT}/Payment/RemovePaymentMethod`,\r\n    verb: \"DELETE\",\r\n    payload: JSON.stringify({ \r\n        userId: userId,\r\n        paymentMethodId: paymentMethodId\r\n      \r\n    }),\r\n  });\r\n};\r\n\r\nexport const makeCardDefault = ({ userId, paymentMethodId }) => {\r\n  return fetchAction({\r\n    type: \"MAKE_CARD_DEFAULT\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL_PAYMENT}/Payment/AddDefaultPaymentMethod`,\r\n    verb: \"POST\",\r\n    payload: JSON.stringify({ \r\n        userId: userId,\r\n        paymentMethodId: paymentMethodId \r\n    }),\r\n  });\r\n};\r\nexport const setDefaultCardObjEmpty = () => {\r\n   return {\r\n    type: \"SET_DEFAULT_CARD_OBJ_RESPONSE\",\r\n   }\r\n};\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckCircle');\n\nexports.default = _default;","//libs\r\nimport React, { useEffect, Children, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  FAEText,\r\n  FAELoading,\r\n  FAERadioGroup,\r\n} from \"@findanexpert-fae/components\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\n//src\r\nimport UserInfoPageLayout from \"../UserInfoPageLayout\";\r\nimport { FAEToaster, getCookies, getFileSrcFromPublicFolder, objectIsEmpty } from \"../../utils\";\r\nimport {\r\n  deleteCard,\r\n  getCardList,\r\n  makeCardDefault,\r\n  setDefaultCardObjEmpty,\r\n} from \"../../redux/actions/paymentDetailsPageActions\";\r\nimport history from \"../../history\";\r\nimport Popup from \"reactjs-popup\"\r\nimport 'reactjs-popup/dist/index.css';\r\n//scss\r\nimport \"./PaymentDetailsPage.scss\";\r\nimport { FAEImage } from \"@findanexpert-fae/components/dist/stories/FAEImage/FAEImage\";\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\nconst email = getCookies(\"customer_details\").email;\r\nconst loaderImage = getFileSrcFromPublicFolder(\"loader.GIF\");\r\nconst deleteIcon = getFileSrcFromPublicFolder(\"delete_icon.svg\");\r\n\r\nconst PaymentDetailsPage = ({\r\n  error,\r\n  loading,\r\n  cardList,\r\n  getCardList,\r\n  deleteCard,\r\n  cardDeleted,\r\n  userCountry,\r\n  defaultCardId,\r\n  makeCardDefault,\r\n  setDefaultCardObjEmpty,\r\n  defaultCardData={}\r\n}) => {\r\n  \r\n  document.title = `Chelsford | Payment Details`;\r\n  const location = useLocation();\r\n  const [open, setOpen] = useState(false); \r\n  const { state } = location;\r\n  const redirectUrl = state === undefined ? \"\" : `${state.redirectedUrl}`; \r\n  useEffect(() => {\r\n    if (!objectIsEmpty(defaultCardData)){\r\n     if(defaultCardData?.code==0 && defaultCardData?.message==\"succeeded\"){\r\n      console.log(defaultCardData, 'defaultCardData')\r\n      FAEToaster({ \r\n        message:\"Your selected card is now default.\", \r\n      }) \r\n    }\r\n    return ()=> setDefaultCardObjEmpty()\r\n  }\r\n    // \r\n  }, [ defaultCardData]);\r\n\r\n  useEffect(() => {\r\n    if (cardDeleted === true) {\r\n      FAEToaster({\r\n        toaster:\"success\",\r\n        message:\"Card Deleted successfuly.\", \r\n      }) \r\n        getCardList(email);\r\n    } \r\n  }, [cardDeleted]);\r\n  useEffect(() => {\r\n    console.log(defaultCardData?.code, 'dddd ?.code')\r\n    getCardList(email);\r\n  }, [getCardList, defaultCardData?.code]);\r\nconsole.log(defaultCardData?.code, 'defaultCardData?.code')\r\n  const userId=getCookies(\"userId\")\r\n  const clickHandler= (id, email)=>{\r\n    deleteCard({ userId, paymentMethodId:id });\r\n    setOpen(false)\r\n  }\r\n  const videoUploadIcon = getFileSrcFromPublicFolder;\r\n const cardIcon=(cardInfoResponse)=>{\r\n  \r\n    if (cardInfoResponse==\"visa\") {\r\n      return (videoUploadIcon(\"icons/visa_card.PNG\")); \r\n    } else if (cardInfoResponse==\"mastercard\") { \r\n      return (videoUploadIcon(\"icons/master_card.PNG\")); \r\n    } else if(cardInfoResponse==\"unionpay\") { \r\n      return (videoUploadIcon(\"icons/unionpay.PNG\")); \r\n    }else if(cardInfoResponse==\"jcb\"){ \r\n      return (videoUploadIcon(\"icons/jcb.PNG\")); \r\n    }else{\r\n      return (videoUploadIcon(\"icons/visa_card.PNG\")); \r\n    }\r\n }\r\n \r\n  return (\r\n    <>\r\n      <UserInfoPageLayout>\r\n        {userCountry === \"PK\" ? (\r\n          <FAERadioGroup\r\n            values={[\r\n              {\r\n                label: \"Cash on Delivery\",\r\n                value: \"cash\",\r\n              },\r\n            ]}\r\n            direction=\"vertical\"\r\n            value=\"cash\"\r\n          />\r\n        ) : (\r\n          <div className=\"fae--payment-details-page-main-container\">\r\n            <div className=\"fae--payment-details-heading-button-wrapper\">\r\n              <FAEText heading>Payment Details</FAEText>{\" \"}\r\n              {/* {redirectUrl === \"\" && ( */}\r\n                <FAEText\r\n                  onClick={() => history.push(\"/payment-details/add-card\")}\r\n                  className=\"fae--payment-details-add-button\">\r\n                  <span className=\"red-text bold\">+</span> Add New Card\r\n                </FAEText>\r\n              {/* )} */}\r\n            </div>\r\n            {loading && (\r\n              <FAELoading\r\n                type=\"svg\"\r\n                loaderImage={loaderImage}\r\n                height=\"200px\"\r\n              />\r\n            )}\r\n            {!loading && (\r\n              <div className=\"fae--payment-details-cards-wrapper\">\r\n                {Children.toArray(\r\n                  cardList?.map((card) => {\r\n                    const {\r\n                      id,\r\n                      card: { last4, exp_month, exp_year, brand },\r\n                      customer,\r\n                      defaultPaymentMethod\r\n                    } = card; \r\n                    return (\r\n                      <div\r\n                        onClick={() =>\r\n                          defaultPaymentMethod !== true &&\r\n                            makeCardDefault({userId, paymentMethodId:id })\r\n                         }\r\n                        className=\"fae--paymet-details-card-wrapper pointer\"\r\n                        >  \r\n                        <div style={{display:'flex'}}>\r\n                          <FAEImage className=\"fae-img-card-brand\" src={cardIcon(brand)} />\r\n                          <div>\r\n                            <FAEText className=\"fae--payment-details-card-bar\">\r\n                             {last4.padStart(16, \"*\")}\r\n                            </FAEText>\r\n                            <FAEText paragraph secondary>\r\n                              Expires: {exp_month}/{exp_year} {defaultPaymentMethod}\r\n                            </FAEText>\r\n                           </div>\r\n                        </div>\r\n                        <div className=\"fae--payment-card-unit-actions\">\r\n                          {defaultPaymentMethod && (\r\n                            <CheckCircleIcon style={{ color: \"green\" }} />\r\n                          )}\r\n                           {(defaultPaymentMethod   == \"\" || defaultPaymentMethod  ==undefined || defaultPaymentMethod  ==null &&  defaultPaymentMethod) && (  \r\n                            <Popup  trigger={  \r\n                                <img\r\n                                    className=\"fae--payment-details-action\"\r\n                                    src={deleteIcon}\r\n                                    alt=\"delete_icon\"\r\n                                    width=\"auto\"\r\n                                    height=\"auto\"\r\n                                    onClick={(e) => {\r\n                                      e.stopPropagation(); \r\n                                    }}\r\n                                  />\r\n                               } open={open}  position=\"left center\">\r\n                                {close => (\r\n                                  <div className=\"fae-change-country-popup\">\r\n                                    Are you sure you want to delete this card\r\n                                    <a className=\"close\" onClick={close}>\r\n                                      &times;\r\n                                    </a>\r\n                                    <button className='popup-sure-btn' onClick={()=>clickHandler(id, email) }>Yes</button>\r\n                                  </div>\r\n                                )} \r\n                          </Popup>  \r\n                          )}  \r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </UserInfoPageLayout>\r\n      <ToastContainer/>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({\r\n  paymentDetailsPageReducer: {\r\n    error,\r\n    loading,\r\n    cardList,\r\n    cardDeleted,\r\n    defaultCardId,\r\n    defaultCardData\r\n  },\r\n  defaultReducer: { userCountry },\r\n}) => ({\r\n  error,\r\n  loading,\r\n  cardList,\r\n  cardDeleted,\r\n  userCountry,\r\n  defaultCardId,\r\n  defaultCardData\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    { getCardList, deleteCard, makeCardDefault, setDefaultCardObjEmpty },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PaymentDetailsPage);\r\n\r\n\r\n\r\n\r\n// //libs\r\n// import React, { useEffect, Children, useState } from \"react\";\r\n// import { connect } from \"react-redux\";\r\n// import { bindActionCreators } from \"redux\";\r\n// import {\r\n//   FAEText,\r\n//   FAELoading,\r\n//   FAERadioGroup,\r\n// } from \"@findanexpert-fae/components\";\r\n// import CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\n// import { useLocation } from \"react-router-dom\";\r\n\r\n// //src\r\n// import UserInfoPageLayout from \"../UserInfoPageLayout\";\r\n// import { FAEToaster, getCookies, getFileSrcFromPublicFolder, objectIsEmpty } from \"../../utils\";\r\n// import {\r\n//   deleteCard,\r\n//   getCardList,\r\n//   makeCardDefault,\r\n//   setDefaultCardObjEmpty,\r\n// } from \"../../redux/actions/paymentDetailsPageActions\";\r\n// import history from \"../../history\";\r\n// import Popup from \"reactjs-popup\"\r\n// import 'reactjs-popup/dist/index.css';\r\n// //scss\r\n// import \"./PaymentDetailsPage.scss\";\r\n// import { FAEImage } from \"@findanexpert-fae/components/dist/stories/FAEImage/FAEImage\";\r\n// import { ToastContainer } from \"react-toastify\";\r\n\r\n// const email = getCookies(\"customer_details\").email;\r\n// const loaderImage = getFileSrcFromPublicFolder(\"loader.GIF\");\r\n// const deleteIcon = getFileSrcFromPublicFolder(\"delete_icon.svg\");\r\n\r\n// const PaymentDetailsPage = ({\r\n//   error,\r\n//   loading,\r\n//   cardList,\r\n//   getCardList,\r\n//   deleteCard,\r\n//   cardDeleted,\r\n//   userCountry,\r\n//   defaultCardId,\r\n//   makeCardDefault,\r\n//   setDefaultCardObjEmpty,\r\n//   defaultCardData={}\r\n// }) => {\r\n  \r\n//   document.title = `Chelsford | Payment Details`;\r\n//   const location = useLocation();\r\n//   const [open, setOpen] = useState(false); \r\n//   const { state } = location;\r\n//   const redirectUrl = state === undefined ? \"\" : `${state.redirectedUrl}`; \r\n//   useEffect(() => {\r\n//     if (!objectIsEmpty(defaultCardData)){\r\n//      if(defaultCardData?.code==0 && defaultCardData?.message==\"succeeded\"){ \r\n//       FAEToaster({ \r\n//         message:\"Your selected card is now default.\", \r\n//       }) \r\n//     }\r\n//     return ()=> setDefaultCardObjEmpty()\r\n//   }\r\n//     // \r\n//   }, [ defaultCardData]);\r\n\r\n//   useEffect(() => {\r\n//     if (cardDeleted === true) {\r\n//       FAEToaster({\r\n//         toaster:\"success\",\r\n//         message:\"Card Deleted successfuly.\", \r\n//       }) \r\n//       redirectUrl !== \"\"\r\n//       ? history.push({\r\n//           pathname: redirectUrl,\r\n//           state: { ...state },\r\n//         }) :\r\n//         getCardList(email);\r\n//     } \r\n//   }, [cardDeleted]);\r\n//   useEffect(() => {\r\n//     getCardList(email);\r\n//   }, [getCardList]);\r\n\r\n//   const userId=getCookies(\"userId\")\r\n//   const clickHandler= (id, email)=>{\r\n//     deleteCard({ userId, paymentMethodId:id });\r\n//     setOpen(false)\r\n//   }\r\n//   const videoUploadIcon = getFileSrcFromPublicFolder;\r\n//  const cardIcon=(cardInfoResponse)=>{\r\n  \r\n//     if (cardInfoResponse==\"visa\") {\r\n//       return (videoUploadIcon(\"icons/visa_card.PNG\")); \r\n//     } else if (cardInfoResponse==\"mastercard\") { \r\n//       return (videoUploadIcon(\"icons/master_card.PNG\")); \r\n//     } else if(cardInfoResponse==\"unionpay\") { \r\n//       return (videoUploadIcon(\"icons/unionpay.PNG\")); \r\n//     }else if(cardInfoResponse==\"jcb\"){ \r\n//       return (videoUploadIcon(\"icons/jcb.PNG\")); \r\n//     }else{\r\n//       return (videoUploadIcon(\"icons/visa_card.PNG\")); \r\n//     }\r\n//  }\r\n \r\n//   return (\r\n//     <>\r\n//       <UserInfoPageLayout>\r\n//         {userCountry === \"PK\" ? (\r\n//           <FAERadioGroup\r\n//             values={[\r\n//               {\r\n//                 label: \"Cash on Delivery\",\r\n//                 value: \"cash\",\r\n//               },\r\n//             ]}\r\n//             direction=\"vertical\"\r\n//             value=\"cash\"\r\n//           />\r\n//         ) : (\r\n//           <div className=\"fae--payment-details-page-main-container\">\r\n//             <div className=\"fae--payment-details-heading-button-wrapper\">\r\n//               <FAEText heading>Payment Details</FAEText>{\" \"}\r\n//               {/* {redirectUrl === \"\" && ( */}\r\n//                 <FAEText\r\n//                   onClick={() => history.push(\"/payment-details/add-card\")}\r\n//                   className=\"fae--payment-details-add-button\">\r\n//                   <span className=\"red-text bold\">+</span> Add New Card\r\n//                 </FAEText>\r\n//               {/* )} */}\r\n//             </div>\r\n//             {loading && (\r\n//               <FAELoading\r\n//                 type=\"svg\"\r\n//                 loaderImage={loaderImage}\r\n//                 height=\"200px\"\r\n//               />\r\n//             )}\r\n//             {!loading && (\r\n//               <div className=\"fae--payment-details-cards-wrapper\">\r\n//                 {Children.toArray(\r\n//                   cardList?.map((card) => {\r\n//                     const {\r\n//                       id,\r\n//                       card: { last4, exp_month, exp_year, brand },\r\n//                       customer,\r\n//                       defaultPaymentMethod\r\n//                     } = card; \r\n//                     return (\r\n//                       <div\r\n//                         onClick={() =>\r\n//                           defaultPaymentMethod !== true &&\r\n//                             makeCardDefault({userId, paymentMethodId:id })\r\n//                          }\r\n//                         className=\"fae--paymet-details-card-wrapper pointer\"\r\n//                         >  \r\n//                         <div style={{display:'flex'}}>\r\n//                           <FAEImage className=\"fae-img-card-brand\" src={cardIcon(brand)} />\r\n//                           <div>\r\n//                             <FAEText className=\"fae--payment-details-card-bar\">\r\n//                              {last4.padStart(16, \"*\")}\r\n//                             </FAEText>\r\n//                             <FAEText paragraph secondary>\r\n//                               Expires: {exp_month}/{exp_year} {defaultPaymentMethod}\r\n//                             </FAEText>\r\n//                            </div>\r\n//                         </div>\r\n//                         <div className=\"fae--payment-card-unit-actions\">\r\n//                           {defaultPaymentMethod   !== \"\" || defaultPaymentMethod  !==undefined || defaultPaymentMethod  !==null &&  defaultPaymentMethod && (\r\n//                             <CheckCircleIcon style={{ color: \"green\" }} />\r\n//                           )}\r\n//                            {(defaultPaymentMethod   == \"\" || defaultPaymentMethod  ==undefined || defaultPaymentMethod  ==null &&  defaultPaymentMethod) && (  \r\n//                             <Popup  trigger={  \r\n//                                 <img\r\n//                                     className=\"fae--payment-details-action\"\r\n//                                     src={deleteIcon}\r\n//                                     alt=\"delete_icon\"\r\n//                                     width=\"auto\"\r\n//                                     height=\"auto\"\r\n//                                     onClick={(e) => {\r\n//                                       e.stopPropagation(); \r\n//                                     }}\r\n//                                   />\r\n//                                } open={open}  position=\"left center\">\r\n//                                 {close => (\r\n//                                   <div className=\"fae-change-country-popup\">\r\n//                                     Are you sure you want to delete this card\r\n//                                     <a className=\"close\" onClick={close}>\r\n//                                       &times;\r\n//                                     </a>\r\n//                                     <button className='popup-sure-btn' onClick={()=>clickHandler(id, email) }>Yes</button>\r\n//                                   </div>\r\n//                                 )} \r\n//                           </Popup>  \r\n//                           )}  \r\n//                         </div>\r\n//                       </div>\r\n//                     );\r\n//                   })\r\n//                 )}\r\n//               </div>\r\n//             )}\r\n//           </div>\r\n//         )}\r\n//       </UserInfoPageLayout>\r\n//       <ToastContainer/>\r\n//     </>\r\n//   );\r\n// };\r\n\r\n// const mapStateToProps = ({\r\n//   paymentDetailsPageReducer: {\r\n//     error,\r\n//     loading,\r\n//     cardList,\r\n//     cardDeleted,\r\n//     defaultCardId,\r\n//     defaultCardData\r\n//   },\r\n//   defaultReducer: { userCountry },\r\n// }) => ({\r\n//   error,\r\n//   loading,\r\n//   cardList,\r\n//   cardDeleted,\r\n//   userCountry,\r\n//   defaultCardId,\r\n//   defaultCardData\r\n// });\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//   return bindActionCreators(\r\n//     { getCardList, deleteCard, makeCardDefault, setDefaultCardObjEmpty },\r\n//     dispatch\r\n//   );\r\n// };\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(PaymentDetailsPage);\r\n"],"sourceRoot":""}