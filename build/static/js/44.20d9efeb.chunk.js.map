{"version":3,"sources":["redux/actions/servicesVocuhersPageActions.js","redux/actions/giftVouchersPageActions.js","Pages/VoucherHistoryPage/VoucherHistoryPage.js"],"names":["APP_BASE_URL","process","REACT_APP_PAYMENT_VOUCHER","REACT_APP_MARKETING","getServicesVouchers","userId","fetchAction","type","verb","headers","contentType","endpoint","concat","GetVoucherByServiceId","serviceId","GetServiceVoucherHistory","REACT_APP_BASE_URL","PAYMENT_VOUCHER","getGiftVouchers","sendGiftVoucher","_ref","email","amount","voucherCode","payload","JSON","stringify","VoucherCode","UserId","parseInt","CreatedForEmail","Amount","makeGiftVoucherResponseToEmpty","connect","getFileSrcFromPublicFolder","_ref2","_ref2$giftVouchersPag","giftVouchersPageReducer","error","loading","voucherhistory","servicesVouchersPageReducer","dispatch","bindActionCreators","_voucherhistory$resul","_voucherhistory$resul2","_voucherhistory$resul3","_voucherhistory$resul4","_voucherhistory$resul5","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","getCookies","useEffect","_jsx","_Fragment","children","_jsxs","className","id","result","vouchers","map","histryList","ind","_createdOn$split$","_createdOn$split$$spl","_createdOn$split$2","_createdOn$split$2$sp","createdOn","currencySymbol","serviceName","invoiceId","title","voucherId","split","at","length","style","fontWeight","textAlign","margin","padding","message"],"mappings":"wIAAA,kHAEMA,EAAeC,mIAAYC,0BAC3BC,EAAsBF,mIAAYE,oBAC3BC,EAAsB,SAACC,GAClC,OAAOC,YAAY,CACjBC,KAAM,wBACNC,KAAM,MACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKZ,EAAY,yCAAAY,OAAwCP,IAErE,EAGaQ,EAAwB,SAACR,EAAQS,GAC5C,OAAOR,YAAY,CACjBC,KAAM,uBACNC,KAAM,MACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKT,EAAmB,0CAAAS,OAAyCP,EAAM,eAAAO,OAAcE,IAEjG,EAEaC,EAA2B,SAACV,GACvC,OAAOC,YAAY,CACjBC,KAAM,uBACNC,KAAM,MACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKT,EAAmB,6CAAAS,OAA4CP,IAEhF,C,oCC9BA,kHAEML,EAAeC,mIAAYe,mBAC3BC,EAAiBhB,mIAAYC,0BAKtBgB,EAAkB,SAACb,GAC9B,OAAOC,YAAY,CACjBC,KAAM,oBACNC,KAAM,MACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKK,EAAe,mCAAAL,OAAkCP,IAElE,EAEac,EAAkB,SAAHC,GAAgD,IAA1CC,EAAKD,EAALC,MAAOhB,EAAMe,EAANf,OAAQiB,EAAMF,EAANE,OAAQC,EAAWH,EAAXG,YACvD,OAAOjB,YAAY,CACjBC,KAAM,oBACNC,KAAM,OACNC,QAAS,CAAEC,YAAa,iBACxBC,SAAS,GAADC,OAAKZ,EAAY,4BACzBwB,QAASC,KAAKC,UAAU,CACtBC,YAAaJ,EACbK,OAAQC,SAASxB,GACjByB,gBAAiBT,EACjBU,OAAQT,KAGd,EAEaU,EAAiC,WAC5C,MAAO,CACLzB,KAAM,sCAEV,C,gNC+Ce0B,GA9DKC,YAA2B,kBA8DhCD,aAnBS,SAAHE,GAAA,IAAAC,EAAAD,EACnBE,wBAI2C,MACtC,CACLC,MALOF,EAALE,MAMFC,QALSH,EAAPG,QAMFC,eAJ2CL,EAA3CM,4BAA6BD,eAK9B,IAE0B,SAACE,GAC1B,OAAOC,YACL,CAAC5B,8BACD2B,EAEJ,GAEeT,EA7DY,SAAHb,GACfA,EAAPmB,QAGK,IAADK,EAAAC,EAAAC,EAAAC,EAAAC,EAFJR,EAAcpB,EAAdoB,eACAzB,EAAwBK,EAAxBL,yBAEAkC,EAAwBC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GACvCI,GADWF,EAAA,GAASA,EAAA,GACUD,mBAAS,KAAGI,EAAAF,YAAAC,EAAA,GACpChD,GADQiD,EAAA,GAAYA,EAAA,GACZC,YAAW,WAIzB,OAHAC,qBAAU,WACRzC,EAAyBV,EAC3B,GAAG,IAEDoD,cAAAC,WAAA,CAAAC,SACEC,eAAA,OAAKC,UAAU,yCAAwCF,SAAA,CAEvDC,eAAA,SAAOE,GAAG,YAAWH,SAAA,CACnBC,eAAA,MAAAD,SAAA,CACEF,cAAA,MAAAE,SAAI,WACJF,cAAA,MAAAE,SAAI,UACJF,cAAA,MAAAE,SAAI,WAEJF,cAAA,MAAAE,SAAI,mBAEQ,OAAdnB,QAAc,IAAdA,GAAsB,QAARI,EAAdJ,EAAgBuB,cAAM,IAAAnB,GAAU,QAAVC,EAAtBD,EAAwBoB,gBAAQ,IAAAnB,OAAlB,EAAdA,EAAkCoB,KAAI,SAACC,EAAYC,GAAO,IAADC,EAAAC,EAAAC,EAAAC,EAClDjD,EAAgH4C,EAAhH5C,OAAQkD,EAAwGN,EAAxGM,UAAWC,EAA6FP,EAA7FO,eAAuCC,GAAsDR,EAA7ES,UAA6ET,EAAjEpD,UAAiEoD,EAAtDQ,aAA6BnD,GAAyB2C,EAAzCU,MAAyCV,EAAjC7D,OAAiC6D,EAAzB3C,aAAyB2C,EAAZW,UAC5G,OAAUjB,eAAA,MAAAD,SAAA,CACLF,cAAA,MAAAE,SAAKpC,IACLkC,cAAA,MAAAE,SAAKe,IACLd,eAAA,MAAAD,SAAA,CAAKc,EAAgBnD,KAErBsC,eAAA,MAAAD,SAAA,CAAc,OAATa,QAAS,IAATA,OAAS,EAATA,EAAWM,MAAM,KAAK,GAAG,QAAe,OAATN,QAAS,IAATA,GAAwB,QAAfJ,EAATI,EAAWM,MAAM,KAAK,UAAE,IAAAV,GAAY,QAAZC,EAAxBD,EAA0BU,MAAM,YAAI,IAAAT,OAA3B,EAATA,EAAsCU,GAAG,GAAG,MAAa,OAATP,QAAS,IAATA,GAAwB,QAAfF,EAATE,EAAWM,MAAM,KAAK,UAAE,IAAAR,GAAY,QAAZC,EAAxBD,EAA0BQ,MAAM,YAAI,IAAAP,OAA3B,EAATA,EAAsCQ,GAAG,GAAG,SAEpI,OAE4C,IAA7B,OAAdvC,QAAc,IAAdA,GAAsB,QAARM,EAAdN,EAAgBuB,cAAM,IAAAjB,GAAU,QAAVC,EAAtBD,EAAwBkB,gBAAQ,IAAAjB,OAAlB,EAAdA,EAAkCiC,SAAcpB,eAAA,OAAKqB,MAAO,CAACC,WAAW,OAAQC,UAAU,SAAaC,OAAQ,OAAQC,QAAQ,QAAS1B,SAAA,CAAC,IAAgB,OAAdnB,QAAc,IAAdA,GAAsB,QAARQ,EAAdR,EAAgBuB,cAAM,IAAAf,OAAR,EAAdA,EAAwBsC,eAM5K,I","file":"static/js/44.20d9efeb.chunk.js","sourcesContent":["import { fetchAction } from \"../utils\";\r\n\r\nconst APP_BASE_URL = process.env.REACT_APP_PAYMENT_VOUCHER;\r\nconst REACT_APP_MARKETING = process.env.REACT_APP_MARKETING\r\nexport const getServicesVouchers = (userId) => {\r\n  return fetchAction({\r\n    type: \"GET_SERVICES_VOUCHERS\",\r\n    verb: \"GET\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL}/Voucher/GetActiveVoucherByUserId?id=${userId}`,\r\n  });\r\n};\r\n \r\n\r\nexport const GetVoucherByServiceId = (userId, serviceId) => {\r\n  return fetchAction({\r\n    type: \"GET_SUMMARY_VOUCHERS\",\r\n    verb: \"GET\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${REACT_APP_MARKETING}/Voucher/GetVoucherByServiceId?userId=${userId}&serviceId=${serviceId}`,\r\n  });\r\n};\r\n\r\nexport const GetServiceVoucherHistory = (userId ) => {\r\n  return fetchAction({\r\n    type: \"GET_HISTORY_VOUCHERS\",\r\n    verb: \"GET\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${REACT_APP_MARKETING}/Voucher/GetServiceVoucherHistory?userId=${userId}`,\r\n  });\r\n}; ","import { fetchAction } from \"../utils\";\r\n\r\nconst APP_BASE_URL = process.env.REACT_APP_BASE_URL;\r\nconst PAYMENT_VOUCHER= process.env.REACT_APP_PAYMENT_VOUCHER\r\n\r\n \r\n\r\n\r\nexport const getGiftVouchers = (userId) => {\r\n  return fetchAction({\r\n    type: \"GET_GIFT_VOUCHERS\",\r\n    verb: \"GET\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${PAYMENT_VOUCHER}/Voucher/GetVoucherByUserId?id=${userId}`,\r\n  });\r\n};\r\n\r\nexport const sendGiftVoucher = ({ email, userId, amount, voucherCode }) => {\r\n  return fetchAction({\r\n    type: \"SEND_GIFT_VOUCHER\",\r\n    verb: \"POST\",\r\n    headers: { contentType: \"includeBearer\"},\r\n    endpoint: `${APP_BASE_URL}/Voucher/SendGiftVoucher`,\r\n    payload: JSON.stringify({\r\n      VoucherCode: voucherCode,\r\n      UserId: parseInt(userId),\r\n      CreatedForEmail: email,\r\n      Amount: amount,\r\n    }),\r\n  });\r\n};\r\n\r\nexport const makeGiftVoucherResponseToEmpty = () => {\r\n  return {\r\n    type: \"MAKE_GIFT_VOUCHER_RESPONSE_TO_EMPTY\",\r\n  };\r\n};\r\n","//libs \r\nimport { FAEButton } from \"@findanexpert-fae/components/dist/stories/FAEButton/FAEButton\";\r\nimport { FAEImage } from \"@findanexpert-fae/components/dist/stories/FAEImage/FAEImage\";\r\nimport { FAEText } from \"@findanexpert-fae/components/dist/stories/FAEText/FAEText\";\r\nimport React, {  useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\n//src\r\nimport {\r\n  getGiftVouchers,\r\n  makeGiftVoucherResponseToEmpty,\r\n  sendGiftVoucher,\r\n} from \"../../redux/actions/giftVouchersPageActions\"; \r\nimport { GetServiceVoucherHistory } from \"../../redux/actions/servicesVocuhersPageActions\";\r\nimport { getCookies, getFileSrcFromPublicFolder } from \"../../utils\";\r\n\r\n//scss\r\nimport \"./VoucherHistoryPage.scss\";\r\n\r\nconst loaderImage = getFileSrcFromPublicFolder(\"profileimg.png\");\r\nconst VoucherHistoryPage = ({\r\n  loading,\r\n  voucherhistory, \r\n  GetServiceVoucherHistory\r\n}) => { \r\n  const [open, setOpen] = useState(false);\r\n  const [content, setContent] = useState(\"\"); \r\n  const userId= getCookies(\"userId\")\r\n  useEffect(()=>{\r\n    GetServiceVoucherHistory(userId)\r\n  }, []) \r\n  return (\r\n    <>\r\n      <div className=\"fae--gift-vouchers-page-main-container\">\r\n       \r\n      <table id=\"customers\">\r\n        <tr>\r\n          <th>Number</th>\r\n          <th>Title</th>\r\n          <th>Amount</th>\r\n          {/* <th>Assign From</th> */}\r\n          <th>Redeem Date</th>\r\n        </tr>\r\n       {voucherhistory?.result?.vouchers?.map((histryList, ind)=>{\r\n        const {amount, createdOn, currencySymbol, invoiceId,  serviceId, serviceName, title,  userId, voucherCode, voucherId} =histryList\r\n       return  ( <tr>  \r\n            <td>{voucherCode}</td>\r\n            <td>{serviceName}</td>\r\n            <td>{currencySymbol}{amount}</td>\r\n            {/* <td><span>Maven Div</span><span><FAEImage src=\"\" /></span></td> */}\r\n            <td>{createdOn?.split(\"T\")[0]} --- {createdOn?.split(\"T\")[1]?.split(\":\")?.at(0)} : {createdOn?.split(\"T\")[1]?.split(\":\")?.at(1)} </td>\r\n        </tr>\r\n       )})}\r\n       </table>\r\n        {voucherhistory?.result?.vouchers?.length ==0 && <div style={{fontWeight:\"bold\", textAlign:\"center\",    margin: \"auto\", padding:\"3rem\" }}> {voucherhistory?.result?.message}</div>} \r\n     \r\n           \r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({\r\n  giftVouchersPageReducer: {\r\n    error,\r\n    loading,  \r\n  },\r\n  servicesVouchersPageReducer:{voucherhistory}\r\n}) => ({\r\n  error,\r\n  loading, \r\n  voucherhistory\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {GetServiceVoucherHistory },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(VoucherHistoryPage);\r\n"],"sourceRoot":""}