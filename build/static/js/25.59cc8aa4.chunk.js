(this["webpackJsonpfindanexpert-frontend"]=this["webpackJsonpfindanexpert-frontend"]||[]).push([[25],{1224:function(e,t,n){"use strict";n(142);var o=n(25),c=(n(2),n(1231),n(1));t.a=function(e){var t=e.id,n=e.Url,i=e.isService,d=e.code,a=e.date,r=e.Title,s=e.price,l=e.TitleAsign,u=e.onClick,p=(e.Button,e.currency);return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{class:"fae-voucher-card",id:t,onClick:u,children:[Object(c.jsx)("div",{className:"fae-VoucherService-img",style:{backgroundImage:"url(".concat(n,")")},children:Object(c.jsxs)("div",{className:"".concat(i?"service-card-data":"gift-card-data"),children:[Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsxs)("span",{children:["Code : ",d]})}),Object(c.jsx)("li",{children:Object(c.jsx)("span",{children:a})})]}),Object(c.jsxs)("span",{className:"fae-service-prices",children:[p,s]})]})}),Object(c.jsx)("div",{class:"fae-voucher-container",children:Object(c.jsxs)("div",{className:"fae-VoucherCard-titlesett",children:[Object(c.jsx)(o.FAEText,{className:"fae-VoucherCard-title",children:r}),Object(c.jsx)(o.FAEText,{className:"fae-VoucherCard-titleasign",children:l})]})})]})})}},1229:function(e,t,n){"use strict";var o=n(3),c=n(13),i=n(6),d=n(2),a=n(658),r=n.n(a),s=n(9),l=(n(1230),n(1)),u=["justify","align","className","primary","shadowBoxProps","isRequired","label","getValue","value","disabled","countryCode"];t.a=function(e){var t=e.justify,n=e.align,a=e.className,p=void 0===a?"":a,j=e.primary,b=e.shadowBoxProps,x=e.isRequired,v=e.label,m=e.getValue,h=void 0===m?function(){}:m,f=e.value,O=void 0===f?"":f,y=e.disabled,g=e.countryCode,T=Object(i.a)(e,u),I=Object(d.useState)(""),S=Object(c.a)(I,2),A=S[0],E=S[1],N=function(e){var t=e.code,n=e.number;E(O),n.length>3?h("+".concat(t,"-").concat(n.replace("+","").replace(t,"").replaceAll(" ","").replace(/[^\w\s]/gi,""))):h(n)};return Object(d.useEffect)((function(){E(O)}),[O]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(s.FAEContainer,{justify:t,align:n,children:j?Object(l.jsx)(s.FAEShadowBox,Object(o.a)(Object(o.a)({},b),{},{padding:!0,children:Object(l.jsxs)("div",{className:"fae--phone-input-container ".concat(p),children:[Object(l.jsx)(s.FAEText,{important:x&&!0,tertiary:!0,children:v}),Object(l.jsx)(r.a,Object(o.a)({name:"phone","data-cy":"user-phone",defaultCountry:g?g.toLowerCase():"pk",className:p,value:A,disabled:y,disableDropdown:y,onChange:function(e,t){return N({code:t.dialCode,number:e})}},T))]})})):Object(l.jsxs)("div",{className:"fae--select-container ".concat(p),children:[Object(l.jsx)(s.FAEText,{important:x&&!0,tertiary:!0,children:v}),Object(l.jsx)(r.a,Object(o.a)({name:"phone","data-cy":"user-phone",defaultCountry:g||"pk",className:p,variant:"outlined",value:A,disabled:y,disableDropdown:y,onChange:function(e,t){return N({code:t.dialCode,number:e})}},T))]})})})}},1230:function(e,t,n){},1231:function(e,t,n){},1232:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return p}));n(23);var o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_VOUCHER,c=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BEARER_TOKEN,i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,d=new Headers;d.append("Content-Type","application/json"),d.append("mode","no-cors"),d.append("Authorization","Bearer ".concat(c)),d.append("Access-Control-Allow-Origin","*");var a=function(e){var t=e.cartId,n=e.transactionId,c=JSON.stringify({cartId:t,transactionId:n}),i={method:"POST",headers:d,body:c,redirect:"follow"};return fetch("".concat(o,"/Payment/ThreedsStatus"),i).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))},r=function(e){var t=e.cartId,n=e.paymentAmount,c=e.stripePaymentMethodId,i=e.userCountryId,a=e.bookingId,r=e.voucherCode,s=e.userCurrencyCode,l=e.transactionId,u=e.userId,p=JSON.stringify({bookingId:a,cartId:t,countryId:i,currency:s,paymentAmount:n,returnUrl:"".concat("localhost"==document.domain?"https://expert-dev.findanexpert.net/paymentverification":-1!==document.domain.indexOf("findanexpert")?"https://".concat(document.domain,"/paymentverification"):"https://www.expert.one/paymentverification"),stripePaymentMethodId:c,transactionId:l,userId:u,voucherCode:r}),j={method:"POST",headers:d,body:p,redirect:"follow"};return fetch("".concat(o,"/Payment/CapturePayment"),j).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))};function s(e){var t={method:"POST",headers:d,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(o,"/OneTimePayment/CapturePayment"),t).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){console.log("e",e)}))}function l(e){var t={method:"POST",headers:d,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(o,"/OneTimePayment/HoldPayment"),t).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){return console.log("e",e)}))}function u(e){var t={method:"POST",headers:d,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(o,"/OneTimePayment/ThreedsStatus"),t).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){return console.log("e",e)}))}function p(e){var t={method:"POST",headers:d,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(i,"/Addresses/GetClinicAddresses"),t).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){return console.log("e",e)}))}},1393:function(e,t,n){},1799:function(e,t,n){"use strict";n.r(t);var o=n(107),c=n(181),i=n(3),d=n(13),a=n(2),r=n(9),s=(n(310),n(10)),l=(n(1229),n(409),n(180)),u=(n(1393),n(28)),p=(n(311),n(410),n(663),n(1224),n(664),n(76)),j=n(92),b=n(1232),x=n(38),v=n(288),m=n(1);t.default=Object(j.b)((function(e){var t=e.addPaymentCardPageReducer,n=t.error,o=t.loading,c=t.saveCardDataResponse,i=e.defaultReducer,d=(i.userCountryId,i.userCountry);i.userCurrencyCode;return{error:n,loading:o,saveCardDataResponse:c,userCountry:d}}),(function(e){return Object(p.b)({},e)}))((function(){var e=Object(x.l)().state,t=Object(a.useState)(e),n=Object(d.a)(t,2),p=n[0],j=n[1],h=Object(a.useState)(!1),f=Object(d.a)(h,2),O=f[0],y=f[1],g=Object(a.useState)(""),T=Object(d.a)(g,2),I=T[0],S=T[1],A=Object(a.useState)("no"),E=Object(d.a)(A,2),N=E[0],P=E[1],C=p||{},F=C.serviceName,w=C.cartId,B=C.currencySymbol,_=C.subTotal,R=C.bookingId,k=(C.amount,C.numberOfSessions),D=(C.currency,C.returnUrl,C.paymentMethodId,C.generalBookingId,C.countryId),z=C.voucherCode,U=C.saveOneTimeCardDataResponse,W=C.userId;Object(a.useEffect)((function(){var t,n;1==(null===p||void 0===p?void 0:p.summarypage)&&P("yes");var d=new URL(window.location.href),a=null!==(t=null===d||void 0===d||null===(n=d.searchParams)||void 0===n?void 0:n.get("transactionId"))&&void 0!==t?t:0,r="".concat("localhost"==document.domain?"https://expert-dev.findanexpert.net/payment-success":-1!==document.domain.indexOf("findanexpert")?"https://".concat(document.domain,"/payment-success"):"https://www.expert.one/payment-success");if(0===a){var l,u;console.log(a,"transactionid");var x={userId:W,cartId:w,bookingId:R,paymentAmount:_,currency:"\xa3"==B?"GBP":"PKR",returnUrl:r,paymentMethodId:null===U||void 0===U||null===(l=U.setupIntentResponseDetail)||void 0===l?void 0:l.paymentMethodId};Object(s.r)("summary_detail",Object(i.a)(Object(i.a)({},e),{},{bookingTime:"",bookingDate:"",serviceName:F,usercountryId:D,setuserid:W,currencySymbol:"\xa3"==B?"GBP":"PKR",isReferralReceiver:"",selectedSessions:k,latitude:"",longitude:"",UbookingId:R,totalAmount:_,returnUrl:r,Vouchercode:z,availableProviderId:"",paymentMethod:null===U||void 0===U||null===(u=U.setupIntentResponseDetail)||void 0===u?void 0:u.paymentMethodId})),Object(b.e)(x).then(function(){var t=Object(c.a)(Object(o.a)().mark((function t(n){var c,i,d;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(n),!1===n.error&&0===n.code&&(d={paymentAmount:e.subTotal,bookingId:e.bookingId,generalBookingId:e.generalBookingId?e.generalBookingId:0,stripePaymentMethodId:null===n||void 0===n||null===(c=n.setupIntentResponseDetail)||void 0===c?void 0:c.paymentMethodId,countryId:null===e||void 0===e?void 0:e.countryId,voucherCode:null!==e&&void 0!==e&&e.voucherCode?z:"",cartId:null===e||void 0===e?void 0:e.cartId,userId:null===e||void 0===e?void 0:e.userId,transactionId:null===n||void 0===n||null===(i=n.setupIntentResponseDetail)||void 0===i?void 0:i.transactionId,returnUrl:e.setReturnUrl},Object(b.d)(d).then((function(e){0==(null===e||void 0===e?void 0:e.code)&&0==(null===e||void 0===e?void 0:e.error)?P("yes"):(S(null===e||void 0===e?void 0:e.message),y(!0))}))),!1!==n.error||10!==n.code){t.next=7;break}return t.next=5,window.location.assign("".concat(null===n||void 0===n?void 0:n.redirectUrl));case 5:t.next=8;break;case 7:1==n.error&&1==n.code&&(S(null===n||void 0===n?void 0:n.message),y(!0));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}else{var v,m,h,f,O=void 0!==Object(s.h)("summary_detail")?Object(s.h)("summary_detail"):{},g=(O.bookingTime,O.bookingDate,O.currencyName),T=(O.usercountryId,O.setuserid),I=(O.serviceName,O.generalBookingId),A=(O.isReferralReceiver,O.currencySymbol,O.selectedSessions,O.latitude,O.longitude,O.UbookingId),E=O.totalAmount,N=(O.returnUrl,O.Vouchercode,O.availableProviderId,O.paymentMethod),C=(v=null===d||void 0===d||null===(m=d.searchParams)||void 0===m?void 0:m.get("payment_intent_client_secret"),null!==(h=null===d||void 0===d||null===(f=d.searchParams)||void 0===f?void 0:f.get("cartId"))&&void 0!==h?h:"no");Object(b.f)({cartId:C,transactionId:a}).then((function(e){if(0===e.code){var t={paymentAmount:E,bookingId:A,generalBookingId:I||0,stripePaymentMethodId:N,countryId:g,voucherCode:z||"",cartId:C,userId:T,transactionId:a,returnUrl:r};console.log(t,"captureObj 2"),Object(b.d)(t).then((function(e){0==(null===e||void 0===e?void 0:e.code)&&0==(null===e||void 0===e?void 0:e.error)?(j(Object(s.h)("summary_detail")),P("yes")):(S(null===e||void 0===e?void 0:e.message),y(!0))}))}}))}}),[]);var H=Object(s.i)("loader.GIF"),K="GBP"!==(null===p||void 0===p?void 0:p.currencySymbol)?"Rs":"\xa3";return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(u.FAEContainer,{style:{backgroundColor:"#f7f7f7"},children:[Object(m.jsxs)("div",{className:"fae-paynow-container",children:[Object(m.jsxs)("div",{className:"fae-paynow-logo",children:[Object(m.jsx)(l.FAEImage,{src:Object(s.i)("expert_logo.PNG")}),Object(m.jsx)("h1",{children:"Expert"})]}),"no"==N&&Object(m.jsx)(r.FAELoading,{type:"svg",loaderImage:H,height:"700px"}),"yes"==N&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"fae-paynow-card-above",children:[Object(m.jsxs)("div",{className:"fae-paynow-invoice",children:[Object(m.jsx)(r.FAEText,{style:{color:"#bcbcbc",paddingTop:"5px",paddingBottom:"5px"},children:"invoice ID."}),Object(m.jsx)(r.FAEText,{style:{fontSize:"16px"},children:null===p||void 0===p?void 0:p.invoiceNumber})]}),Object(m.jsxs)("div",{className:"fae-paynow-created-on",children:[Object(m.jsx)(r.FAEText,{style:{color:"#bcbcbc",paddingTop:"5px",paddingBottom:"5px"},children:"Created on"}),Object(m.jsx)(r.FAEText,{style:{fontSize:"16px"},children:null===p||void 0===p?void 0:p.createdDate})]})]}),Object(m.jsxs)("div",{className:"fae-paynow-card",children:[Object(m.jsxs)("div",{className:"fae-paynowpaid-card-top",children:[Object(m.jsxs)("div",{className:"fae-paynow-invoice",children:[Object(m.jsx)(r.FAEText,{style:{color:"#5FDF5A",paddingTop:"5px",paddingBottom:"5px"},children:"Paid"}),Object(m.jsxs)(r.FAEText,{style:{fontSize:"20px"},children:[K,null===p||void 0===p?void 0:p.subTotal]})]}),Object(m.jsxs)("div",{className:"fae-paynow-created-on",children:[Object(m.jsx)(r.FAEText,{style:{color:"#bcbcbc",paddingTop:"5px",paddingBottom:"5px"},children:"Payable By"}),Object(m.jsx)(r.FAEText,{style:{fontSize:"16px"},children:null===p||void 0===p?void 0:p.payableBy})]})]}),Object(m.jsxs)("div",{className:"fae-paynow-invoice-form",style:{margin:"15px",borderBottom:"2px solid #eeeeee"},children:[Object(m.jsx)(r.FAEText,{style:{color:"#bcbcbc",paddingTop:"5px",paddingBottom:"5px"},children:"invoice Form"}),Object(m.jsx)(r.FAEText,{style:{fontSize:"16px",paddingTop:"5px",paddingBottom:"15px",fontWeight:"bold"},children:null===p||void 0===p?void 0:p.businessName}),Object(m.jsxs)("div",{className:"fae-invoice-icons",children:[Object(m.jsx)(l.FAEImage,{className:"fae-addPhoneIcon-img",src:Object(s.i)("icons/phone.PNG")})," ",Object(m.jsx)(r.FAEText,{style:{fontSize:"16px",paddingTop:"5px",color:"#6c6c6c"},children:null===p||void 0===p?void 0:p.businessAddress})]}),Object(m.jsxs)("div",{className:"fae-invoice-icons",children:[Object(m.jsx)(l.FAEImage,{className:"fae-addPhoneIcon-img",src:Object(s.i)("icons/location.PNG")})," ",Object(m.jsx)(r.FAEText,{style:{fontSize:"16px",paddingTop:"5px",paddingBottom:"15px",color:"#6c6c6c"},children:null===p||void 0===p?void 0:p.businessPhone})]})]}),Object(m.jsxs)("div",{className:"fae-paynow-invoice-form",style:{margin:"15px",borderBottom:"2px solid #eeeeee"},children:[Object(m.jsx)(r.FAEText,{style:{color:"#bcbcbc",paddingTop:"5px",paddingBottom:"5px"},children:"invoice To"}),Object(m.jsx)(r.FAEText,{style:{fontSize:"16px",fontWeight:"bold"},children:null===p||void 0===p?void 0:p.userName}),Object(m.jsxs)("div",{className:"fae-invoice-icons",children:[Object(m.jsx)(l.FAEImage,{className:"fae-addPhoneIcon-img",src:Object(s.i)("icons/location.PNG")})," ",Object(m.jsx)(r.FAEText,{style:{fontSize:"16px",paddingTop:"5px",paddingBottom:"15px",color:"#6c6c6c"},children:null===p||void 0===p?void 0:p.customerAddress})]})]}),Object(m.jsxs)("div",{className:"fae-paynow-invoice-desc",style:{margin:"15px",borderBottom:"2px solid #eeeeee"},children:[Object(m.jsxs)("div",{className:"fae-paynow-description",children:[Object(m.jsx)(r.FAEText,{style:{color:"#bcbcbc",paddingTop:"5px",paddingBottom:"5px"},children:"Description"}),Object(m.jsx)(r.FAEText,{style:{fontSize:"16px",fontWeight:"bold"},children:null===p||void 0===p?void 0:p.serviceName}),Object(m.jsxs)(r.FAEText,{style:{fontSize:"14px",paddingTop:"5px",paddingBottom:"15px",color:"#6c6c6c"},children:[p.numberOfSessions," Sessions"]})]}),Object(m.jsxs)("div",{className:"fae-paynow-price",children:[Object(m.jsx)(r.FAEText,{style:{color:"#bcbcbc",paddingTop:"5px",paddingBottom:"5px"},children:"Price"}),Object(m.jsxs)(r.FAEText,{style:{fontSize:"16px"},children:[K,null===p||void 0===p?void 0:p.price]})]})]}),Object(m.jsxs)("div",{className:"fae-paynow-invoice-desc",style:{margin:"15px",borderBottom:"2px solid #eeeeee"},children:[Object(m.jsxs)("div",{className:"fae-paynow-description",children:[Object(m.jsx)(r.FAEText,{style:{fontSize:"16px",paddingTop:"5px",paddingBottom:"5px",color:"#6c6c6c"},children:"Sub Total"}),Object(m.jsx)(r.FAEText,{style:{fontSize:"16px",paddingTop:"5px",paddingBottom:"5px",color:"#6c6c6c"},children:"Discount"}),Object(m.jsx)(r.FAEText,{style:{fontSize:"16px",paddingTop:"5px",paddingBottom:"15px",color:"#6c6c6c"},children:"Tax"})]}),Object(m.jsxs)("div",{className:"fae-paynow-price",children:[Object(m.jsxs)(r.FAEText,{style:{fontSize:"16px",paddingTop:"5px",paddingBottom:"5px",color:"#6c6c6c"},children:[K,null===p||void 0===p?void 0:p.subTotal]}),Object(m.jsxs)(r.FAEText,{style:{fontSize:"16px",paddingTop:"5px",paddingBottom:"5px",color:"#6c6c6c",textAlign:"end"},children:[null===p||void 0===p?void 0:p.discount,"%"]}),Object(m.jsxs)(r.FAEText,{style:{fontSize:"16px",paddingTop:"5px",paddingBottom:"15px",color:"#6c6c6c",textAlign:"end"},children:[null===p||void 0===p?void 0:p.tax,"%"]})]})]}),Object(m.jsxs)("div",{className:"fae-paynow-invoice-desc",style:{margin:"15px"},children:[Object(m.jsx)("div",{className:"fae-paynow-description",children:Object(m.jsx)(r.FAEText,{style:{fontSize:"20px",paddingTop:"5px",paddingBottom:"15px",color:"#6c6c6c",fontWeight:"bold"},children:"Total to Pay"})}),Object(m.jsx)("div",{className:"fae-paynow-price",children:Object(m.jsxs)(r.FAEText,{style:{fontSize:"20px",paddingTop:"5px",paddingBottom:"15px",color:"#6c6c6c",fontWeight:"bold"},children:[K,null===p||void 0===p?void 0:p.subTotal]})})]})]})]})]}),Object(m.jsx)(v.FAEDialogueBox,{open:O,content:I,buttons:[{label:"Ok",onClick:function(){y(!1)}}]})]})})}))}}]);
//# sourceMappingURL=25.59cc8aa4.chunk.js.map