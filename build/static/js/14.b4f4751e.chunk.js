(this["webpackJsonpfindanexpert-frontend"]=this["webpackJsonpfindanexpert-frontend"]||[]).push([[14,38],{1207:function(e,t,a){},1208:function(e,t,a){},1209:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var n=a(2),c=a(9),r=a(38),d=a(10),i=a(21),s=a(3),o=a(6),l=(a(1207),a(180)),u=a(1),b=["className","tabs","renderOption","activeTab"],j=["label","href","className","icon","svgIconSrc"],f=function(e){var t=e.className,a=void 0===t?"":t,r=e.tabs,d=void 0===r?[]:r,i=e.renderOption,f=e.activeTab,O=void 0===f?"":f,p=Object(o.a)(e,b),m=function(e){return e.toLowerCase()===O.toLowerCase()?"active-tab":""};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",Object(s.a)(Object(s.a)({className:"fae--user-info-tabs-main-container ".concat(a)},p),{},{children:n.Children.toArray(d.map((function(e,t){var a=e.label,n=e.href,r=void 0===n?"":n,d=e.className,b=e.icon,f=e.svgIconSrc,O=Object(o.a)(e,j);return""===r?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(c.FAEText,Object(s.a)(Object(s.a)({tertiary:"active-tab"!==m(a)},O),{},{className:"fae--user-info-tab ".concat(m(a)," ").concat(d),children:[""==!f&&Object(u.jsx)(l.FAEImage,{className:"fae-sidebar-icon",src:f}),""==!b&&Object(u.jsxs)("div",{className:"fae-sidebar-icon",children:[" ",b,"  "]}),i?i(e):a]}))}):Object(u.jsx)("a",Object(s.a)(Object(s.a)({className:"fae--user-info-tab ".concat(d),target:"_blank",href:r,rel:"noreferrer"},O),{},{children:Object(u.jsx)(c.FAEText,{children:i?i(e):a})}))})))}))})},O=(a(1208),[{label:"Profile",svgIconSrc:Object(d.i)("icons/profileIcon.svg"),onClick:function(){return i.a.push("/profile")}},{label:"Your Bookings",svgIconSrc:Object(d.i)("icons/bookingGreyColor.svg"),onClick:function(){return i.a.push("/your-bookings/upcoming")}},{label:"Payment Details",svgIconSrc:Object(d.i)("icons/paymentgreyicons.svg"),onClick:function(){return i.a.push("/payment-details")}}]),p=function(e){var t,a=e.childWidth,n=e.children,i=e.paddingTop,s=Object(r.l)(),o=(t=s.pathname,O.find((function(e){return!0===Object(d.c)(t,"-").includes(e.label.toLocaleLowerCase())})).label);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"fae--user-info-page-layout-main-container",children:[Object(u.jsx)(f,{tabs:O,activeTab:o,className:"side-tabs-user-info"}),Object(u.jsx)("div",{className:"fae--user-info-page-layout-pages-data dpb ".concat(null!==i&&void 0!==i?i:""),children:Object(u.jsx)(c.FAEContainer,{className:"fae-page-classname",children:Object(u.jsxs)("div",{style:{width:null!==a&&void 0!==a?a:"100%"},children:[" ",n]})})})]})})}},1257:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return s}));var n=a(23),c=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_VOUCHER),r=function(e){return Object(n.a)({type:"GET_CARD_LIST",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(c,"/Payment/ListOfCustomerPaymentMethods?Email=").concat(e)})},d=function(e){var t=e.userId,a=e.paymentMethodId;return Object(n.a)({type:"DELETE_CARD",headers:{contentType:"includeBearer"},endpoint:"".concat(c,"/Payment/RemovePaymentMethod"),verb:"DELETE",payload:JSON.stringify({userId:t,paymentMethodId:a})})},i=function(e){var t=e.userId,a=e.paymentMethodId;return Object(n.a)({type:"MAKE_CARD_DEFAULT",headers:{contentType:"includeBearer"},endpoint:"".concat(c,"/Payment/AddDefaultPaymentMethod"),verb:"POST",payload:JSON.stringify({userId:t,paymentMethodId:a})})},s=function(){return{type:"SET_DEFAULT_CARD_OBJ_RESPONSE"}}},1292:function(e,t,a){"use strict";var n=a(53),c=a(108);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(a(2)),d=(0,n(a(109)).default)(r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.default=d},1763:function(e,t,a){},1837:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var n=a(13),c=a(2),r=a(92),d=a(76),i=a(9),s=a(1292),o=a.n(s),l=a(38),u=a(1209),b=a(10),j=a(1257),f=a(21),O=a(408),p=(a(659),a(1763),a(180)),m=a(99),v=a(1),h=Object(b.h)("customer_details").email,y=Object(b.i)("loader.GIF"),C=Object(b.i)("delete_icon.svg"),g=Object(r.b)((function(e){var t=e.paymentDetailsPageReducer,a=t.error,n=t.loading,c=t.cardList,r=t.cardDeleted,d=t.defaultCardId,i=t.defaultCardData;return{error:a,loading:n,cardList:c,cardDeleted:r,userCountry:e.defaultReducer.userCountry,defaultCardId:d,defaultCardData:i}}),(function(e){return Object(d.b)({getCardList:j.b,deleteCard:j.a,makeCardDefault:j.c,setDefaultCardObjEmpty:j.d},e)}))((function(e){e.error;var t=e.loading,a=e.cardList,r=e.getCardList,d=e.deleteCard,s=e.cardDeleted,j=e.userCountry,g=(e.defaultCardId,e.makeCardDefault),x=e.setDefaultCardObjEmpty,E=e.defaultCardData,_=void 0===E?{}:E;document.title="Chelsford | Payment Details";var N=Object(l.l)(),T=Object(c.useState)(!1),D=Object(n.a)(T,2),S=D[0],A=D[1],P=N.state;void 0===P||"".concat(P.redirectedUrl);Object(c.useEffect)((function(){if(!Object(b.n)(_))return 0==(null===_||void 0===_?void 0:_.code)&&"succeeded"==(null===_||void 0===_?void 0:_.message)&&(console.log(_,"defaultCardData"),Object(b.a)({message:"Your selected card is now default."})),function(){return x()}}),[_]),Object(c.useEffect)((function(){!0===s&&(Object(b.a)({toaster:"success",message:"Card Deleted successfuly."}),r(h))}),[s]),Object(c.useEffect)((function(){console.log(null===_||void 0===_?void 0:_.code,"dddd ?.code"),r(h)}),[r,null===_||void 0===_?void 0:_.code]),console.log(null===_||void 0===_?void 0:_.code,"defaultCardData?.code");var I=Object(b.h)("userId"),L=b.i;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.default,{children:"PK"===j?Object(v.jsx)(i.FAERadioGroup,{values:[{label:"Cash on Delivery",value:"cash"}],direction:"vertical",value:"cash"}):Object(v.jsxs)("div",{className:"fae--payment-details-page-main-container",children:[Object(v.jsxs)("div",{className:"fae--payment-details-heading-button-wrapper",children:[Object(v.jsx)(i.FAEText,{heading:!0,children:"Payment Details"})," ",Object(v.jsxs)(i.FAEText,{onClick:function(){return f.a.push("/payment-details/add-card")},className:"fae--payment-details-add-button",children:[Object(v.jsx)("span",{className:"red-text bold",children:"+"})," Add New Card"]})]}),t&&Object(v.jsx)(i.FAELoading,{type:"svg",loaderImage:y,height:"200px"}),!t&&Object(v.jsx)("div",{className:"fae--payment-details-cards-wrapper",children:c.Children.toArray(null===a||void 0===a?void 0:a.map((function(e){var t,a=e.id,n=e.card,c=n.last4,r=n.exp_month,s=n.exp_year,l=n.brand,u=(e.customer,e.defaultPaymentMethod);return Object(v.jsxs)("div",{onClick:function(){return!0!==u&&g({userId:I,paymentMethodId:a})},className:"fae--paymet-details-card-wrapper pointer",children:[Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(p.FAEImage,{className:"fae-img-card-brand",src:(t=l,L("visa"==t?"icons/visa_card.PNG":"mastercard"==t?"icons/master_card.PNG":"unionpay"==t?"icons/unionpay.PNG":"jcb"==t?"icons/jcb.PNG":"icons/visa_card.PNG"))}),Object(v.jsxs)("div",{children:[Object(v.jsx)(i.FAEText,{className:"fae--payment-details-card-bar",children:c.padStart(16,"*")}),Object(v.jsxs)(i.FAEText,{paragraph:!0,secondary:!0,children:["Expires: ",r,"/",s," ",u]})]})]}),Object(v.jsxs)("div",{className:"fae--payment-card-unit-actions",children:[u&&Object(v.jsx)(o.a,{style:{color:"green"}}),(""==u||void 0==u||null==u&&u)&&Object(v.jsx)(O.a,{trigger:Object(v.jsx)("img",{className:"fae--payment-details-action",src:C,alt:"delete_icon",width:"auto",height:"auto",onClick:function(e){e.stopPropagation()}}),open:S,position:"left center",children:function(e){return Object(v.jsxs)("div",{className:"fae-change-country-popup",children:["Are you sure you want to delete this card",Object(v.jsx)("a",{className:"close",onClick:e,children:"\xd7"}),Object(v.jsx)("button",{className:"popup-sure-btn",onClick:function(){return function(e,t){d({userId:I,paymentMethodId:e}),A(!1)}(a)},children:"Yes"})]})}})]})]})})))})]})}),Object(v.jsx)(m.a,{})]})}))}}]);
//# sourceMappingURL=14.b4f4751e.chunk.js.map