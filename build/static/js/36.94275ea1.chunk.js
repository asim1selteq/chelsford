(this["webpackJsonpfindanexpert-frontend"]=this["webpackJsonpfindanexpert-frontend"]||[]).push([[36],{1232:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return c})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return u})),r.d(t,"c",(function(){return O}));r(23);var s=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_VOUCHER,a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BEARER_TOKEN,n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,d=new Headers;d.append("Content-Type","application/json"),d.append("mode","no-cors"),d.append("Authorization","Bearer ".concat(a)),d.append("Access-Control-Allow-Origin","*");var i=function(e){var t=e.cartId,r=e.transactionId,a=JSON.stringify({cartId:t,transactionId:r}),n={method:"POST",headers:d,body:a,redirect:"follow"};return fetch("".concat(s,"/Payment/ThreedsStatus"),n).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))},c=function(e){var t=e.cartId,r=e.paymentAmount,a=e.stripePaymentMethodId,n=e.userCountryId,i=e.bookingId,c=e.voucherCode,o=e.userCurrencyCode,l=e.transactionId,u=e.userId,O=JSON.stringify({bookingId:i,cartId:t,countryId:n,currency:o,paymentAmount:r,returnUrl:"".concat("localhost"==document.domain?"https://expert-dev.findanexpert.net/paymentverification":-1!==document.domain.indexOf("findanexpert")?"https://".concat(document.domain,"/paymentverification"):"https://www.expert.one/paymentverification"),stripePaymentMethodId:a,transactionId:l,userId:u,voucherCode:c}),p={method:"POST",headers:d,body:O,redirect:"follow"};return fetch("".concat(s,"/Payment/CapturePayment"),p).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))};function o(e){var t={method:"POST",headers:d,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(s,"/OneTimePayment/CapturePayment"),t).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){console.log("e",e)}))}function l(e){var t={method:"POST",headers:d,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(s,"/OneTimePayment/HoldPayment"),t).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){return console.log("e",e)}))}function u(e){var t={method:"POST",headers:d,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(s,"/OneTimePayment/ThreedsStatus"),t).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){return console.log("e",e)}))}function O(e){var t={method:"POST",headers:d,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(n,"/Addresses/GetClinicAddresses"),t).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){return console.log("e",e)}))}},1233:function(e,t,r){"use strict";r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return c})),r.d(t,"f",(function(){return o})),r.d(t,"e",(function(){return l})),r.d(t,"a",(function(){return u}));var s=r(23),a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_JDS,d=function(e){e.isInClinic,e.isInHouse,e.serviceId;var t=e.userId;e.selectedDate,e.selectedTime,e.radius,e.addressIdForClinics;return Object(s.a)({type:"GET_ADDRESSES_LIST",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(a,"/Addresses/GetCustomerAddresses/").concat(t,"/true")})},i=function(e){var t=e.serviceId,r=e.selectedDate,a=(e.selectedTime,e.latitude),d=e.longitude,i=e.userCountryId,c=e.serviceVenu,o=e.distance,l=e.startTime,u=e.endTime;return Object(s.a)({type:"GET_ADDRESSES_FOR_BOOKING",verb:"POST",endpoint:"".concat(n,"/Clinic/GetProvidersInSpecificSlot"),payload:JSON.stringify({bookDate:r,timeStart:l,timeEnd:u,latitude:a,longitude:d,countryId:i,serviceVenu:c,serviceId:t,distance:o})})},c=function(e){return Object(s.a)({type:"GET_USER_HOME_ADDRESSES",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(a,"/Addresses/GetCustomerAddresses/").concat(e,"/true")})},o=function(e){var t=e.addressId,r=e.location,n=e.cartId,d=e.serviceId,i=e.userId,c=e.trainingId,o=e.voucherId;return Object(s.a)({type:"SAVE_ADDRESS_FOR_BOOKING",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(a,"/TempBooking/SaveTempBooking"),payload:JSON.stringify({userId:i,serviceID:d,addressId:t,location:r,cartId:n,TrainingDetailId:c,voucherId:o})})},l=function(){return{type:"MAKE_NEXT_PAGE_FALSE"}},u=function(e){var t=e.serviceId,r=e.countryId,a=e.latitude,d=e.longitude;return Object(s.a)({type:"CHECK_SERVICES_AVAILABILITY",verb:"POST",endpoint:"".concat(n,"/ServiceAvailability/CheckServiceAvailability"),payload:JSON.stringify({serviceId:t,countryId:r,latitude:"".concat(a),longitude:"".concat(d),serviceVenu:2})})}},1234:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return o}));var s=r(23),a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_JDS,d=function(e){var t=e.selectedDate,r=e.serviceId,a=e.bookingDuration,d=e.providerId;return Object(s.a)({type:"GET_BOOKING_SLOTS_INHOUSE",endpoint:"".concat(n,"/TimeSlots/GetTimeSlots"),payload:JSON.stringify({bookingDate:t,serviceId:r,providersId:d,duration:a}),verb:"POST"})},i=function(e){var t=e.selectedDate,r=e.selectedTime,n=e.bookingId,d=e.cartId,i=e.notes;e.bookingStartTime,e.bookingEndTime,e.addressId;return Object(s.a)({type:"SAVE_DATE_AND_TIME",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(a,"/TempBooking/SaveTempBooking"),payload:JSON.stringify({bookingDate:t,bookingTime:r,tempBookingId:n,cartId:d,customerNotes:i})})},c=function(e){var t=e.selectedDate,r=e.cartId,n=e.bookingStartTime,d=e.bookingEndTime,i=e.addressId;return Object(s.a)({type:"SAVE_DATE_AND_TIME",verb:"PUT",headers:{contentType:"includeBearer"},endpoint:"".concat(a,"/TempBooking/BookingDateTime"),payload:JSON.stringify({cartId:r,bookingDate:t,bookingStartTime:n,bookingEndTime:d,addressId:i})})},o=function(){return{type:"MAKE_DATE_TIME_NEXT_PAGE_FALSE"}}},1431:function(e,t,r){},1836:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return S}));var s=r(107),a=r(3),n=r(181),d=r(13),i=r(2),c=r(9),o=r(38),l=r(76),u=r(92),O=r(10),p=r(1233),b=r(21),f=(r(1431),r(1234)),j=(r(1432),r(1232)),T=r(1),g=Object(O.i)("loader.GIF"),m=Object(O.i)("notes_svg.svg"),h=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOOGLE_MAP_API_KEY,S=Object(u.b)((function(e){var t=e.addressSelectionPageReducer,r=t.error,s=t.loading_address,a=t.addresses,n=t.bookingId,d=t.cartId,i=t.nextPage,c=t.userHomeAddresses,o=e.defaultReducer;o.userId;return{error:r,loading_address:s,addresses:a,bookingId:n,cartId:d,nextPage:i,userHomeAddresses:c,userCountryId:o.userCountryId}}),(function(e){return Object(l.b)({getAddressesBStatus:p.c,saveAddress:p.f,makeNextPageFalse:p.e,getUserHomeAddresses:p.d,saveBookingDateAndTimeNextTime:f.d,saveBookingDateAndTime:f.c},e)}))((function(e){var t=e.getAddressesBStatus,r=e.addresses,l=e.loading_address,u=e.bookingId,p=e.getUserHomeAddresses,f=e.userHomeAddresses,S=e.saveBookingDateAndTimeNextTime,v=e.userCountryId,E=Object(i.useState)(!1),_=Object(d.a)(E,2),A=_[0],x=_[1],y=Object(i.useState)(""),I=Object(d.a)(y,2),C=I[0],N=I[1],P=Object(i.useState)(""),D=Object(d.a)(P,2),F=D[0],k=D[1],R=Object(i.useState)(20),B=Object(d.a)(R,2),w=B[0],H=B[1],K=Object(o.l)(),L=K.state,U=K.pathname,W=L.serviceId,G=L.isInClinic,V=L.hasAttributes,J=L.price,M=L.freeConsultation,Y=L.currencySymbol,z=L.voucherId,X=L.selectedTime,q=L.selectedDate,Q=L.exactflagOfClinic,Z=L.startTime,$=L.endTime,ee=L.servicePathName,te=L.AddressSelectid,re=L.cartId,se=L.latitude,ae=L.longitude,ne=L.id;document.title="Chelsford | ".concat(ee," - Select Address");var de=Object(i.useState)(te),ie=Object(d.a)(de,2),ce=ie[0],oe=ie[1];Object(i.useEffect)((function(){t({selectedDate:q,startTime:Z,endTime:$,latitude:se,longitude:ae,userCountryId:v,serviceVenu:2,serviceId:W,distance:20})}),[ce,t,G,w,q,X,W]);var le=ne;Object(i.useEffect)((function(){p(Object(O.h)("userId"))}),[p]);var ue=function(){var e=Object(n.a)(Object(s.a)().mark((function e(t,r,d){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.c)({serviceID:W,userId:d,inhouse:!1,inclinic:!0,genderPreference:"both",selectedDate:q,selectedTime:X,radius:20,addressId:le,cartId:re}).then(function(){var e=Object(n.a)(Object(s.a)().mark((function e(r){var n,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("0"!=t){e.next=4;break}b.a.push({pathname:"/booking/".concat(ee,"/date-time-selection-for-clinics"),state:Object(a.a)(Object(a.a)({},L),{},{currencySymbol:Y,hasAttributes:V,isInClinic:G,price:J,serviceId:W,voucherId:z,addressId:null===r||void 0===r||null===(n=r.addressesList[0])||void 0===n?void 0:n.id,providerId:t,businessId:d})}),e.next=8;break;case 4:return e.next=6,S({selectedDate:q,cartId:re,bookingStartTime:Z,bookingEndTime:$,addressId:null===r||void 0===r||null===(i=r.addressesList[0])||void 0===i?void 0:i.id});case 6:return e.next=8,b.a.push({pathname:"/booking/".concat(ee,"/summary"),state:Object(a.a)(Object(a.a)({},L),{},{bookingId:u,cartId:re,selectedDate:q,selectedTime:X,gated:!0,providerId:t,isInClinic:G})});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,r,s){return e.apply(this,arguments)}}(),Oe=(null===r||void 0===r?void 0:r.length)<4?1==r.length?{paddingBottom:254}:{paddingBottom:220}:{paddingBottom:40};return console.log(l,"loading_address"),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"fae--service-location-page-container dpt dpb",children:Object(T.jsxs)("div",{className:"fae--service-location-page-wrapper fae-mobile-spacing",style:Oe,children:[Object(T.jsx)(c.FAETitle,{label:Object(O.c)(ee,"-"),logo:Object(O.i)("title_logo.svg")}),!M&&Object(T.jsx)(c.FAEFloatingBookingPrice,{currencySymbol:Y,justify:"flex-end",price:J,backgroundImage:Object(O.i)("parchii_icon.svg")}),Q&&Object(T.jsx)(c.FAEText,{className:"line-break fae--all-addresses-page-original-address",children:"Choose your desired address from where you want to get nearest clinic addresses"}),G&&Object(T.jsx)(c.FAEText,{className:"line-break fae--all-addresses-page-original-address",children:"Choose your desired address from where you want to get nearest clinic addresses"}),Object(T.jsx)("div",{style:{width:"100%"},children:Object(T.jsxs)("div",{className:"fae--clinic-addresses-radius",children:[Object(T.jsx)(c.FAEText,{tertiary:!0,children:"Result within"}),Object(T.jsx)("div",{style:{width:"20%"},children:Object(T.jsx)(c.FAESelect,{shadowBoxProps:{primary:!0},values:[{label:"5 km",value:5},{label:"10 km",value:10},{label:"15 km",value:15},{label:"20 km",value:20},{label:"25 km",value:25}],value:w,getSelectedValue:H,primary:!0})}),Object(T.jsxs)(c.FAEText,{tertiary:!0,children:["Km of"," ",Object(T.jsx)("span",{onClick:function(){x(!0),k("Select Your Address"),N(Object(T.jsx)("div",{className:"fae--all-addresses-addresses-wrapper",children:i.Children.toArray(f.map((function(e){var t=e.businessAddress,r=void 0===t?"":t,s=e.line2,a=e.townCity,n=e.postalCode,d=e.id;return console.log(e,"userAddress"),Object(T.jsx)(c.FAEShadowBox,{primary:!0,onClick:function(){oe(d),x(!1),N(""),k("")},padding:!0,children:Object(T.jsxs)("div",{style:{width:"95%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",cursor:"pointer"},children:[Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",paragraph:!0,tertiary:!0,children:r}),Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",children:s}),Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",children:a}),Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",children:n})]})})})))}))},style:{fontSize:"18px",cursor:"pointer"},children:"Home Address"})]})]})}),l&&Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(c.FAEloading_address,{type:"svg",loaderImage:g,height:"200px"})}),!l&&Object(T.jsxs)("div",{className:"fae--all-addresses-addresses-wrapper",children:[i.Children.toArray(r.map((function(e){var t=e.businessAddress,r=void 0===t?"":t,s=e.line2,a=e.townCity,n=e.postalCode,d=e.address,i=e.id,o=e.businessName,l=e.distance_unit,u=e.latitude,p=e.longitude,b=(e.userID,e.status,e.availableProviders),f=e.businessId,j="0"==b?"status-not-active":"";return G?Object(T.jsxs)("div",{id:j,className:"clinics-addresses-main-container-for-each-unit",children:[Object(T.jsxs)(c.FAEShadowBox,{primary:!0,className:"fae--all-addresses-adrress-bar-wrapper-clinics-addresses pointer",children:["0"==b?Object(T.jsx)("span",{className:"fae-fully-booked",children:"Fully Booked"}):"",Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",style:{fontWeight:"400"},children:o}),Object(T.jsxs)("div",{className:"line-break clinic-addresses-line-addresse-and-map-address-wrapper",children:[Object(T.jsxs)("div",{children:[Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",paragraph:!0,tertiary:!0,children:r}),Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",children:s}),Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",children:a}),Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",children:n})]}),Object(T.jsxs)(c.FAEText,{className:"fae--all-addresses-page-original-address map-address",tertiary:!0,onClick:function(){x(!0),k("Clinic Location"),N(Object(T.jsx)(c.FAEGoogleMap,{apiKey:h,lat:u,lng:p,address:Object(T.jsxs)("div",{children:[Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",style:{fontWeight:"400"},children:o}),Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",paragraph:!0,tertiary:!0,children:r}),Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",children:s}),Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",children:a}),Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",children:n})]})}))},children:[Object(T.jsx)("img",{src:Object(O.i)("address_location.svg"),alt:"address_location",width:"25px",height:"auto"}),"Map"]})]}),Object(T.jsxs)(c.FAEText,{tertiary:!0,className:"fae--all-addresses-page-original-address",children:[l," km from ",o]})]}),Object(T.jsx)(c.FAEShadowBox,{style:{alignItems:"center"},primary:!0,className:"fae--all-addresses-adrress-bar-wrapper-clinics-addresses pointer",onClick:function(){return ue(b,i,f)},children:Object(T.jsxs)(c.FAEText,{paragraph:!0,children:[" ","0"==b?"Search Alternative Slots":"Select"," "]})})]}):Object(T.jsxs)(c.FAEShadowBox,{primary:!0,className:"fae--all-addresses-adrress-bar-wrapper pointer",onClick:function(){return ue("",i,f)},children:[Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",paragraph:!0,tertiary:!0,children:r}),Object(T.jsxs)("div",{children:[Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",children:s}),Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",children:a}),Object(T.jsx)(c.FAEText,{className:"fae--all-addresses-page-original-address",children:n})]}),Object(T.jsxs)(c.FAEText,{className:"fae--all-addresses-notes-text pointer",onClick:function(e){e.stopPropagation(),x(!0),N(d),k("Address Notes")},paragraph:!0,tertiary:!0,children:[Object(T.jsx)("img",{className:"fae--all-addresses-action-icon",src:m,alt:"notes_icon",width:"auto",height:"auto"}),"Address Notes"]})]})}))),Object(T.jsx)("div",{className:"fae-noresult-container",children:Object(O.b)(l,r)})]}),!G&&Object(T.jsx)(c.FAEButton,{onClick:function(){return b.a.push({pathname:"/your-addresses/add",state:Object(a.a)(Object(a.a)({},L),{},{redirectedUrl:U})})},style:{borderRadius:"4px"},children:"+ Add Address"})]})}),Object(T.jsx)(c.FAEDialogueBox,{title:F,open:A,content:C,buttons:[{label:"Ok",onClick:function(){return x(!1)}}]})]})}))}}]);
//# sourceMappingURL=36.94275ea1.chunk.js.map