(this["webpackJsonpfindanexpert-frontend"]=this["webpackJsonpfindanexpert-frontend"]||[]).push([[37],{1232:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return c})),t.d(n,"d",(function(){return s})),t.d(n,"e",(function(){return u})),t.d(n,"f",(function(){return l})),t.d(n,"c",(function(){return p}));t(23);var r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_VOUCHER,o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BEARER_TOKEN,i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,d=new Headers;d.append("Content-Type","application/json"),d.append("mode","no-cors"),d.append("Authorization","Bearer ".concat(o)),d.append("Access-Control-Allow-Origin","*");var a=function(e){var n=e.cartId,t=e.transactionId,o=JSON.stringify({cartId:n,transactionId:t}),i={method:"POST",headers:d,body:o,redirect:"follow"};return fetch("".concat(r,"/Payment/ThreedsStatus"),i).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))},c=function(e){var n=e.cartId,t=e.paymentAmount,o=e.stripePaymentMethodId,i=e.userCountryId,a=e.bookingId,c=e.voucherCode,s=e.userCurrencyCode,u=e.transactionId,l=e.userId,p=JSON.stringify({bookingId:a,cartId:n,countryId:i,currency:s,paymentAmount:t,returnUrl:"".concat("localhost"==document.domain?"https://expert-dev.findanexpert.net/paymentverification":-1!==document.domain.indexOf("findanexpert")?"https://".concat(document.domain,"/paymentverification"):"https://www.expert.one/paymentverification"),stripePaymentMethodId:o,transactionId:u,userId:l,voucherCode:c}),O={method:"POST",headers:d,body:p,redirect:"follow"};return fetch("".concat(r,"/Payment/CapturePayment"),O).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))};function s(e){var n={method:"POST",headers:d,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(r,"/OneTimePayment/CapturePayment"),n).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){console.log("e",e)}))}function u(e){var n={method:"POST",headers:d,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(r,"/OneTimePayment/HoldPayment"),n).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){return console.log("e",e)}))}function l(e){var n={method:"POST",headers:d,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(r,"/OneTimePayment/ThreedsStatus"),n).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){return console.log("e",e)}))}function p(e){var n={method:"POST",headers:d,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(i,"/Addresses/GetClinicAddresses"),n).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){return e})).catch((function(e){return console.log("e",e)}))}},1246:function(e,n,t){"use strict";t.d(n,"h",(function(){return a})),t.d(n,"i",(function(){return c})),t.d(n,"f",(function(){return s})),t.d(n,"j",(function(){return u})),t.d(n,"b",(function(){return l})),t.d(n,"g",(function(){return p})),t.d(n,"m",(function(){return O})),t.d(n,"l",(function(){return m})),t.d(n,"k",(function(){return y})),t.d(n,"c",(function(){return b})),t.d(n,"a",(function(){return h})),t.d(n,"d",(function(){return f})),t.d(n,"e",(function(){return v}));var r=t(23),o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL_2,d=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PAYMENT_VOUCHER,a=function(e){var n=e.cartId,t=e.serviceId,i=e.userId,d=e.voucherCode,a=e.isFreeConsultation,c=e.selectedSessions,s=e.countryId,u=e.discountCodeResp,l=e.discountCodeAmount,p=e.isTraining,O=e.is_service;return Object(r.a)({type:"GET_SUMMARY_DATA",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/CalculateSummary"),payload:JSON.stringify({countryId:s,serviceId:t,userId:i,isService:!0,cartId:n,VoucherCode:d,isFreeConsultation:a,session:c,devicePlatform:"web",deviceName:"web",discountCode:u,discountCodeAmount:l,isTraining:p,is_service:O})})},c=function(e){var n=e.serviceId,t=e.userId;return Object(r.a)({type:"GET_VOUCHER_LIST",verb:"GET",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/Voucher/GetVoucherList/").concat(t,"/").concat(n)})},s=function(e){var n=e.cartId,t=e.paymentAmount,o=e.stripePaymentMethodId,i=e.userCountryId,a=e.bookingId,c=e.voucherCode,s=e.userCurrencyCode,u=e.transactionId,l=e.userId;return Object(r.a)({type:"SAVE_BOOKING",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(d,"/Payment/CapturePayment"),payload:JSON.stringify({bookingId:a,cartId:n,countryId:i,currency:s,paymentAmount:t,returnUrl:"".concat("localhost"==document.domain?"https://expert-dev.findanexpert.net/paymentverification":-1!==document.domain.indexOf("findanexpert")?"https://".concat(document.domain,"/paymentverification"):"https://www.expert.one/paymentverification"),stripePaymentMethodId:o,transactionId:u,userId:l,voucherCode:c})})},u=function(e){var n=e.paymentAmount,t=e.stripePaymentMethodId,o=e.userCountryId,d=e.email,a=e.bookingId,c=e.isReferralUsed,s=e.isTreatmentOfferUsed,u=e.cartId,l=e.voucherCode,p=e.selectedSessions,O=e.userCurrencyCode;return Object(r.a)({type:"SAVE_BOOKING",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(i,"/Payment/Cod"),payload:JSON.stringify({stripepaymentmethodId:t,bookingid:a,serviceproviderid:0,currency:O,paymentamount:n,referralbonusused:c,isfreetreatmentused:s,isocode:o,email:d,cartId:u,VoucherCode:l,numberOfSession:p})})},l=function(e){var n=e.paymentAmount,t=e.stripePaymentMethodId,o=e.bookingId,i=e.cartId,a=e.userCurrencyCode,c=e.userId;return Object(r.a)({type:"HOLD_PAYMENT",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(d,"/Payment/HoldPayment"),payload:JSON.stringify({bookingId:o,cartId:i,currency:a,paymentAmount:n,paymentMethodId:t,returnUrl:"".concat("localhost"==document.domain?"https://expert-dev.findanexpert.net/paymentverification":-1!==document.domain.indexOf("findanexpert")?"https://".concat(document.domain,"/paymentverification"):"https://www.expert.one/paymentverification"),userId:c})})},p=function(e){var n=e.amount,t=e.cartId,o=e.chargeId,d=(e.distance,e.isCaptured),a=e.isReferralReceiver,c=(e.latitude,e.longitude,e.numberOfSessions,e.providerIds,e.referralBonusUsed),s=e.userId,u=e.voucherCode,l=(e.serviceVenu,e.bookingDate,e.bookingTime,e.duration,e.serviceId),p=e.trainingStartTime,O=e.trainingStartDate;return Object(r.a)({type:"CREATE_BOOKING",verb:"POST",headers:{contentType:"includeBearer"},endpoint:"".concat(i,"/Booking/CreateBookingTraining"),payload:JSON.stringify({amount:n,cartId:t,chargeId:o,isCaptured:d,isReferralReceiver:a,referralBonusUsed:c,userId:s,voucherCode:u,bookingDate:O,bookingTime:p,serviceId:l})})},O=function(){return{type:"SET_SAVE_BOOKING_RESPONSE_TO_EMPTY"}},m=function(){return{type:"SET_HOLD_PAYMENT_RESPONSE_TO_EMPTY"}},y=function(){return{type:"SET_CREATEBOOKING_PAYMENT_RESPONSE_TO_EMPTY"}},b=function(e){var n=e.tempBookingId,t=e.cartId,o=e.userId;return Object(r.a)({type:"SALES_ORDER",verb:"POST",headers:{contentType:"includeBearer"},payload:JSON.stringify({tempBookingId:n,cartId:t,userId:o}),endpoint:"".concat(i,"/SalesOrder/SalesOrder")})},h=function(e){var n=e.salesOrderNumber,t=e.cartId,o=e.bookingId,d=e.userId,a=e.providerId;return Object(r.a)({type:"SALES_GET_INVOICE",verb:"POST",headers:{contentType:"includeBearer"},payload:JSON.stringify({salesOrderNumber:n,cartId:t,bookingId:o,userId:d,providerId:a}),endpoint:"".concat(i,"/SalesOrder/Getinvoice")})},f=function(e){var n=e.userid,t=e.serviceid,o=e.discountcode,d=e.currentdate,a=e.countryid,c=e.numberofsession,s=e.referraldiscount;return Object(r.a)({headers:{contentType:"includeBearer"},type:"APPLY_DISCOUNT_CODE",verb:"POST",payload:JSON.stringify({userid:isNaN(n)?n:JSON.parse(n),serviceid:t,discountcode:o,currentdate:d,countryid:a,numberofsession:c,referraldiscount:s}),endpoint:"".concat(i,"/CalculateSummary/redeemdiscountcode")})},v=function(){return{type:"SET_DIDSCOUNT_CODE_OBJ_TO_EMPTY"}}},1325:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return d}));var r=t(23),o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,i=function(e,n,t){return Object(r.a)({type:"THREE_D_SECURE",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/Payment/DoPayment/").concat(e,"/").concat(n,"/").concat(t),verb:"GET"})},d=function(e){var n=e.countryId,t=e.cartid,i=e.bookingId;return Object(r.a)({type:"GET_THANKYOU_BOOKING",headers:{contentType:"includeBearer"},endpoint:"".concat(o,"/Booking/ThankYouBooking?CountryId=").concat(n),verb:"POST",payload:JSON.stringify({cartId:t,bookingId:i})})}},1780:function(e,n,t){},1850:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return h}));var r=t(107),o=t(181),i=t(13),d=t(2),a=t(92),c=t(1325),s=t(10),u=(t(1780),t(9)),l=t(54),p=t(76),O=t(32),m=t(1246),y=t(1232),b=t(1),h=Object(a.b)((function(e){var n=e.thankyouBookingPageReducter,t=e.threeDSecureReducer.doPayMentResponse,r=e.defaultReducer,o=r.userCountryId,i=r.userCurrencyCode,d=e.summaryPageReducer,a=d.saveBookingResponse,c=d.createBookingResp;return{thankyouBookingPageReducter:n,userCountryId:o,doPayMentResponse:t,saveBookingResponse:a,loading:d.loading,createBookingResp:c,userCurrencyCode:i}}),(function(e){return Object(p.b)({threeDSecure:c.b,capturePaymentAction:m.f,createBooking:m.g,setHoldPaymentResponseToEmpty:m.l,setSaveBookingResponseToEmpty:m.m},e)}))((function(e){var n,t,c,p,m,h,f=e.userCountryId,v=(e.thankyouBookingPageReducter,e.threeDSecure,e.doPayMentResponse),S=(e.capturePaymentAction,e.saveBookingResponse,e.createBooking),T=e.loading,g=e.createBookingResp,E=e.userCurrencyCode,_=e.setHoldPaymentResponseToEmpty,j=e.setSaveBookingResponseToEmpty,I=Object(d.useState)({}),P=Object(i.a)(I,2),C=P[0],A=P[1],x=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STRIPE_KEY,new URL(window.location.href)),R=null!==(n=null===x||void 0===x||null===(t=x.searchParams)||void 0===t?void 0:t.get("transactionId"))&&void 0!==n?n:0,N=Object(s.h)("summary_detail"),k=N.isInClinic,B=N.trainingStartTime,D=N.trainingStartDate,w=N.bookingTime,F=N.bookingDate,U=N.serviceName,H=N.isReferralReceiver,K=N.currencySymbol,L=N.selectedSessions,W=N.latitude,M=N.longitude,V=N.UbookingId,J=N.totalAmount,G=(N.returnUrl,N.Vouchercode),Y=N.availableProviderId,z=N.paymentMethod,q=N.duration,Q=N.serviceId,X=N.isTraining,Z=null!==(c=null===x||void 0===x||null===(p=x.searchParams)||void 0===p?void 0:p.get("payment_intent_client_secret"))&&void 0!==c?c:"no",$=null!==(m=null===x||void 0===x||null===(h=x.searchParams)||void 0===h?void 0:h.get("cartId"))&&void 0!==m?m:"no";Object(a.d)((function(e){return e}));Object(d.useEffect)((function(){return"no"!==Z&&void 0!==Z&&0!==R&&Object(y.a)({cartId:$,transactionId:R}).then(function(){var e=Object(o.a)(Object(r.a)().mark((function e(n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(n),"succeeded"===n.message&&0===n.code&&Object(y.b)({cartId:$,paymentAmount:J,stripePaymentMethodId:z,userCountryId:""!==f?f:Object(s.h)("switched_id"),bookingId:V,voucherCode:G,userCurrencyCode:E,transactionId:R,userId:Object(s.h)("userId")}).then((function(e){var n;!0!==(null===e||void 0===e?void 0:e.error)&&1!==(null===e||void 0===e?void 0:e.statusCode)?S({amount:J,isTraining:X,trainingStartTime:B,trainingStartDate:D,cartId:$,chargeId:null===e||void 0===e||null===(n=e.setupIntentResponseDetail)||void 0===n?void 0:n.chargeId,distance:20,isCaptured:!0,isReferralReceiver:H,latitude:"".concat(W),longitude:"".concat(M),numberOfSessions:L,providerIds:Y,referralBonusUsed:!1,userId:JSON.parse(Object(s.h)("userId")),voucherCode:G,bookingDate:F,bookingTime:w,serviceVenu:k?2:1,duration:q,serviceId:Q}):alert(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){})),function(){j(),_()}}),[]);var ee=Object(s.i)("loader.GIF");return T?Object(b.jsx)(O.FAELoading,{type:"svg",loaderImage:ee,height:"500px"}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"fae--thank-you-booking-page-container",children:Object(b.jsx)("div",{className:"fae--thank-you-booking-page-wrapper dpt dpb",children:!T&&Object(b.jsx)(b.Fragment,{children:!0!==(null===C||void 0===C?void 0:C.error)&&3!==(null===C||void 0===C?void 0:C.code)?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"fae--thank-you-booking-page-booking-detail",children:[Object(b.jsx)("img",{className:"fae--thank-you-booking-page-img",src:Object(s.i)(null!==v&&void 0!==v&&v.error?"rounded-cross-icon.PNG":"green-35.svg")}),Object(b.jsxs)("div",{children:[Object(b.jsxs)(u.FAEText,{subHeading:!0,children:[" ",null!==v&&void 0!==v&&v.error?"Not succefully done":"Booking Confirmed"," "]}),Object(b.jsxs)(u.FAEText,{children:[" ",null!==v&&void 0!==v&&v.error?"sorry":"Expert has recieved your booking"]})]})]}),Object(b.jsxs)("div",{className:"fae--thank-you-booking-card",children:[Object(b.jsx)(l.FAEShadowBox,{padding:!0,primary:!0,className:"details-and-method-wrapper-booking-body fae-unborder-cards",children:Object(b.jsxs)("div",{style:{width:"90%",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"0.5px solid rgba(237, 237, 237, 1)",paddingBottom:"10px",cursor:"pointer"},children:[Object(b.jsx)("div",{children:Object(b.jsx)(u.FAEText,{tertiary:!0,paragraph:!0,children:"Booking Id"})}),Object(b.jsx)(u.FAEText,{bold:!0,children:V&&"".concat(V)})]})}),Object(b.jsx)(l.FAEShadowBox,{padding:!0,primary:!0,className:"details-and-method-wrapper-booking-body",children:Object(b.jsxs)("div",{style:{width:"90%",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"0.5px solid rgba(237, 237, 237, 1)",paddingBottom:"10px",cursor:"pointer"},children:[Object(b.jsx)(u.FAEText,{tertiary:!0,paragraph:!0,children:"Service Name"}),Object(b.jsx)(u.FAEText,{bold:!0,children:U&&"".concat(U," ")})]})}),Object(b.jsx)(l.FAEShadowBox,{padding:!0,primary:!0,className:"details-and-method-wrapper-booking-body",children:Object(b.jsxs)("div",{style:{width:"90%",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"0.5px solid rgba(237, 237, 237, 1)",paddingBottom:"10px",cursor:"pointer"},children:[Object(b.jsx)("div",{children:Object(b.jsx)(u.FAEText,{tertiary:!0,paragraph:!0,children:"Date and Time"})}),Object(b.jsxs)(u.FAEText,{bold:!0,children:[F&&"".concat(F," ")," ( ",w&&w," )"]})]})}),Object(b.jsx)(l.FAEShadowBox,{padding:!0,primary:!0,className:"details-and-method-wrapper-booking-body fae-unborder-cards",children:Object(b.jsxs)("div",{style:{width:"90%",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"0.5px solid rgba(237, 237, 237, 1)",paddingBottom:"10px",cursor:"pointer"},children:[Object(b.jsx)("div",{children:Object(b.jsx)(u.FAEText,{bold:!0,className:"fae--payment-details-card-bar",children:0==C.code&&"Paid"==C.message?"Thanks, You Already Paid.":(null===g||void 0===g?void 0:g.message)&&(null===g||void 0===g?void 0:g.message)})}),Object(b.jsx)(u.FAEText,{})]})})]}),Object(b.jsx)("br",{}),!(null!==v&&void 0!==v&&v.error)&&Object(b.jsx)(l.FAEShadowBox,{padding:!0,primary:!0,className:"details-and-method-wrapper-booking",children:Object(b.jsxs)("div",{className:"fae-booking-thanks-prices",children:[Object(b.jsx)(u.FAEText,{subHeading:!0,className:"fae--payment-details-card-bar",children:"Paid"}),Object(b.jsx)(u.FAEText,{bold:!0,className:"fae-payment-prices",children:0==C.code&&"Paid"==C.message?"Already Paid":"".concat(K," ").concat(J)})]})})]}):Object(b.jsx)("div",{className:"fae--thank-you-booking-card",style:{marginBottom:200,marginTop:50},children:Object(b.jsx)(l.FAEShadowBox,{padding:!0,primary:!0,className:"details-and-method-wrapper-booking-body fae-unborder-cards",children:Object(b.jsx)("div",{style:{width:"90%",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"0.5px solid rgba(237, 237, 237, 1)",paddingBottom:"10px",cursor:"pointer"},children:Object(b.jsxs)("div",{className:"fae--thank-you-booking-page-booking-detail",children:[Object(b.jsx)("img",{className:"fae--thank-you-booking-page-img",src:Object(s.i)("rounded-cross-icon.PNG")}),Object(b.jsx)("div",{children:Object(b.jsx)(u.FAEText,{heading:!0,children:" Sorry! we are unable to process."})})]})})})})})})})})}))}}]);
//# sourceMappingURL=37.f3337474.chunk.js.map